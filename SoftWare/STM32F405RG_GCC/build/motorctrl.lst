ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motorctrl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.mc_param_init,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	mc_param_init:
  26              	.LFB246:
  27              		.file 1 "../BLDCMotor/motorctrl.c"
   1:../BLDCMotor/motorctrl.c **** #include "./motorctrl.h"
   2:../BLDCMotor/motorctrl.c **** #include "debuglog.h"
   3:../BLDCMotor/motorctrl.c **** #include "motorctrl_common.h"
   4:../BLDCMotor/motorctrl.c **** #include "motor_protocol.h"
   5:../BLDCMotor/motorctrl.c **** #include "board.h"
   6:../BLDCMotor/motorctrl.c **** #include "string.h"
   7:../BLDCMotor/motorctrl.c **** 
   8:../BLDCMotor/motorctrl.c **** 
   9:../BLDCMotor/motorctrl.c **** enum{
  10:../BLDCMotor/motorctrl.c ****     MOTOR_INIT,
  11:../BLDCMotor/motorctrl.c ****     MOTOR_START, 
  12:../BLDCMotor/motorctrl.c ****     MOTOR_RUNING,
  13:../BLDCMotor/motorctrl.c ****     MOTOR_STOP,
  14:../BLDCMotor/motorctrl.c **** };
  15:../BLDCMotor/motorctrl.c **** 
  16:../BLDCMotor/motorctrl.c **** 
  17:../BLDCMotor/motorctrl.c **** static dq_t _currmentloop(abc_t i_abc,float ele_theta);
  18:../BLDCMotor/motorctrl.c **** static short _get_angleoffset(void);
  19:../BLDCMotor/motorctrl.c **** static void motor_enable(void);
  20:../BLDCMotor/motorctrl.c **** static void motor_disable(void);
  21:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp);
  22:../BLDCMotor/motorctrl.c **** static void mc_param_init(void);
  23:../BLDCMotor/motorctrl.c **** static void mc_param_deinit(void);
  24:../BLDCMotor/motorctrl.c **** 
  25:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab);
  26:../BLDCMotor/motorctrl.c **** static float motor_speedcale(float cur_theta);
  27:../BLDCMotor/motorctrl.c **** static float _speedloop(float tar,float real);
  28:../BLDCMotor/motorctrl.c **** static void trigger_software_reset(void);
  29:../BLDCMotor/motorctrl.c **** 
  30:../BLDCMotor/motorctrl.c **** 
  31:../BLDCMotor/motorctrl.c **** static volatile float sg_MecThetaOffset = 0.0f;
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 2


  32:../BLDCMotor/motorctrl.c **** extern const float current_meas_period;
  33:../BLDCMotor/motorctrl.c **** 
  34:../BLDCMotor/motorctrl.c **** mt_param_t mt_param = {0};
  35:../BLDCMotor/motorctrl.c **** motordebug_t motordebug = {0};
  36:../BLDCMotor/motorctrl.c **** 
  37:../BLDCMotor/motorctrl.c **** void motortctrl_process(void)
  38:../BLDCMotor/motorctrl.c **** {
  39:../BLDCMotor/motorctrl.c ****     static uint16_t _state = MOTOR_INIT;
  40:../BLDCMotor/motorctrl.c ****     char rec_buf[64];
  41:../BLDCMotor/motorctrl.c ****     char cnt = 0;
  42:../BLDCMotor/motorctrl.c **** 
  43:../BLDCMotor/motorctrl.c ****     motorprotocol_process();
  44:../BLDCMotor/motorctrl.c ****     switch (_state)
  45:../BLDCMotor/motorctrl.c ****     {
  46:../BLDCMotor/motorctrl.c ****     case MOTOR_INIT:
  47:../BLDCMotor/motorctrl.c ****         if (motordebug.cur_cmd != "motor start")
  48:../BLDCMotor/motorctrl.c ****         {
  49:../BLDCMotor/motorctrl.c ****             break;
  50:../BLDCMotor/motorctrl.c ****         }
  51:../BLDCMotor/motorctrl.c ****         _state = MOTOR_START;
  52:../BLDCMotor/motorctrl.c ****     case MOTOR_START:
  53:../BLDCMotor/motorctrl.c ****         mc_param_init();
  54:../BLDCMotor/motorctrl.c ****         motor_enable();
  55:../BLDCMotor/motorctrl.c ****         _state = MOTOR_RUNING;
  56:../BLDCMotor/motorctrl.c ****         motorprotocol_tramit(g_respondmap[RES_RUNING].respond,g_respondmap[RES_RUNING].respond_len)
  57:../BLDCMotor/motorctrl.c ****         break;
  58:../BLDCMotor/motorctrl.c **** 
  59:../BLDCMotor/motorctrl.c ****     case MOTOR_RUNING:
  60:../BLDCMotor/motorctrl.c ****         if (motordebug.cur_cmd == "motor stop")
  61:../BLDCMotor/motorctrl.c ****         {
  62:../BLDCMotor/motorctrl.c ****             motorprotocol_tramit(g_respondmap[RES_STOP].respond,g_respondmap[RES_STOP].respond_len)
  63:../BLDCMotor/motorctrl.c ****             _state = MOTOR_STOP;
  64:../BLDCMotor/motorctrl.c ****         }
  65:../BLDCMotor/motorctrl.c ****         break;
  66:../BLDCMotor/motorctrl.c **** 
  67:../BLDCMotor/motorctrl.c ****     case MOTOR_STOP:
  68:../BLDCMotor/motorctrl.c ****         trigger_software_reset();
  69:../BLDCMotor/motorctrl.c ****         motor_disable();
  70:../BLDCMotor/motorctrl.c ****         mc_param_deinit();
  71:../BLDCMotor/motorctrl.c ****         _state = MOTOR_INIT;
  72:../BLDCMotor/motorctrl.c ****         break;
  73:../BLDCMotor/motorctrl.c ****     default:
  74:../BLDCMotor/motorctrl.c ****         break;
  75:../BLDCMotor/motorctrl.c ****     }
  76:../BLDCMotor/motorctrl.c **** }
  77:../BLDCMotor/motorctrl.c **** 
  78:../BLDCMotor/motorctrl.c **** 
  79:../BLDCMotor/motorctrl.c **** 
  80:../BLDCMotor/motorctrl.c **** 
  81:../BLDCMotor/motorctrl.c **** 
  82:../BLDCMotor/motorctrl.c **** /*------------Âë®ÊúüÊÄßË¢´Ë∞ÉÁî®----------------*/
  83:../BLDCMotor/motorctrl.c **** float speed_real;
  84:../BLDCMotor/motorctrl.c **** int32_t a1,b1,c1;
  85:../BLDCMotor/motorctrl.c **** 
  86:../BLDCMotor/motorctrl.c **** void _50uscycle_process(unsigned int *abc_vale,float _elec_theta)
  87:../BLDCMotor/motorctrl.c **** {
  88:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 3


  89:../BLDCMotor/motorctrl.c ****     int32_t mec_theta;
  90:../BLDCMotor/motorctrl.c ****     duty_t dut01;
  91:../BLDCMotor/motorctrl.c ****     abc_t i_abc;
  92:../BLDCMotor/motorctrl.c ****     dq_t udq;
  93:../BLDCMotor/motorctrl.c **** 
  94:../BLDCMotor/motorctrl.c **** /*----------------‰∏âÁõ∏ÁîµÊµÅÂ§ÑÁêÜ------------------------------*/    
  95:../BLDCMotor/motorctrl.c **** #if 1
  96:../BLDCMotor/motorctrl.c ****     float Ia,Ib,Ic;
  97:../BLDCMotor/motorctrl.c ****     a1 = abc_vale[0] - A_ADCCHANNL_OFFSET;
  98:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
  99:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 100:../BLDCMotor/motorctrl.c ****     // Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 101:../BLDCMotor/motorctrl.c ****     Ib = (float)b1*(float)B_VOLITETOCURRENT_FACTOR;
 102:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 103:../BLDCMotor/motorctrl.c ****     Ia = -Ic - Ib;
 104:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&(mt_param.elefitler[0]),Ia);
 105:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 106:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&(mt_param.elefitler[2]),Ic);
 107:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 108:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 109:../BLDCMotor/motorctrl.c **** #endif
 110:../BLDCMotor/motorctrl.c **** 
 111:../BLDCMotor/motorctrl.c ****     enum{
 112:../BLDCMotor/motorctrl.c ****         OFFSET=0,
 113:../BLDCMotor/motorctrl.c ****         OPENLOOP,
 114:../BLDCMotor/motorctrl.c ****         CLOSELOOP,
 115:../BLDCMotor/motorctrl.c ****         SPEEDLOOP,
 116:../BLDCMotor/motorctrl.c ****         IDLE,
 117:../BLDCMotor/motorctrl.c ****     };
 118:../BLDCMotor/motorctrl.c ****     static short state0_ = OFFSET;
 119:../BLDCMotor/motorctrl.c ****     switch (state0_)
 120:../BLDCMotor/motorctrl.c ****     {
 121:../BLDCMotor/motorctrl.c ****         case OFFSET:
 122:../BLDCMotor/motorctrl.c ****             if (_get_angleoffset() != 0)
 123:../BLDCMotor/motorctrl.c ****             {
 124:../BLDCMotor/motorctrl.c ****                 break;
 125:../BLDCMotor/motorctrl.c ****             }
 126:../BLDCMotor/motorctrl.c ****             USER_DEBUG_NORMAL("enter IDLE\r\n");
 127:../BLDCMotor/motorctrl.c ****             state0_ = CLOSELOOP;
 128:../BLDCMotor/motorctrl.c ****             break;
 129:../BLDCMotor/motorctrl.c ****         case IDLE:
 130:../BLDCMotor/motorctrl.c ****             if (motordebug.id_targe != 0.0f || motordebug.iq_targe != 0.0f)
 131:../BLDCMotor/motorctrl.c ****             {
 132:../BLDCMotor/motorctrl.c ****                 motordebug.ele_angle = 0.0f;
 133:../BLDCMotor/motorctrl.c ****                 state0_ = SPEEDLOOP;
 134:../BLDCMotor/motorctrl.c ****             }
 135:../BLDCMotor/motorctrl.c ****             break;
 136:../BLDCMotor/motorctrl.c ****         case SPEEDLOOP:
 137:../BLDCMotor/motorctrl.c ****             mec_theta = ((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_COV))[0];
 138:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 139:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 140:../BLDCMotor/motorctrl.c ****             elec_theta = mech_theta * MOTOR_PAIR;
 141:../BLDCMotor/motorctrl.c ****             elec_theta -= 0.56f;//sg_MecThetaOffset;
 142:../BLDCMotor/motorctrl.c **** 
 143:../BLDCMotor/motorctrl.c ****             elec_theta = _normalize_angle(elec_theta);
 144:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,elec_theta);
 145:../BLDCMotor/motorctrl.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 4


 146:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;    
 147:../BLDCMotor/motorctrl.c ****             static unsigned short cnt = 0;
 148:../BLDCMotor/motorctrl.c ****             if (cnt++ < 200)
 149:../BLDCMotor/motorctrl.c ****             {
 150:../BLDCMotor/motorctrl.c ****                 // break;
 151:../BLDCMotor/motorctrl.c ****             }
 152:../BLDCMotor/motorctrl.c ****             cnt = 0;
 153:../BLDCMotor/motorctrl.c ****             udq.q = 0.3f;
 154:../BLDCMotor/motorctrl.c ****             udq.d = 0;
 155:../BLDCMotor/motorctrl.c ****             alpbet_t uab;
 156:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, elec_theta - PI_2);  
 157:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 158:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
 159:../BLDCMotor/motorctrl.c ****             break;
 160:../BLDCMotor/motorctrl.c ****         case CLOSELOOP:
 161:../BLDCMotor/motorctrl.c ****         {
 162:../BLDCMotor/motorctrl.c ****             //Ëé∑ÂèñÁîµËßíÂ∫¶
 163:../BLDCMotor/motorctrl.c ****             mec_theta = ((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_COV))[0];
 164:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 165:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 166:../BLDCMotor/motorctrl.c **** 
 167:../BLDCMotor/motorctrl.c ****             elec_theta = mech_theta * MOTOR_PAIR;
 168:../BLDCMotor/motorctrl.c ****             elec_theta -= sg_MecThetaOffset;
 169:../BLDCMotor/motorctrl.c **** 
 170:../BLDCMotor/motorctrl.c ****             elec_theta = _normalize_angle(elec_theta);
 171:../BLDCMotor/motorctrl.c ****             speed_real = _IQ15toF(((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_FILTER))[0]);
 172:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;
 173:../BLDCMotor/motorctrl.c **** 
 174:../BLDCMotor/motorctrl.c **** #if 0//ÂºÄÁéØ
 175:../BLDCMotor/motorctrl.c ****             // _currmentloop(i_abc,elec_theta);
 176:../BLDCMotor/motorctrl.c ****             dq_t udq = {0.0f,0.4f,_IQ15(0.0f),_IQ15(0.0f)};
 177:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;
 178:../BLDCMotor/motorctrl.c ****             if(motordebug.self_ele_theta>_2PI)
 179:../BLDCMotor/motorctrl.c ****             {
 180:../BLDCMotor/motorctrl.c ****                 motordebug.self_ele_theta = 0.0f;
 181:../BLDCMotor/motorctrl.c ****             }
 182:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta += 0.001f;
 183:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, motordebug.self_ele_theta); 
 184:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 185:../BLDCMotor/motorctrl.c ****             motor_set_pwm(dut01);
 186:../BLDCMotor/motorctrl.c **** #else
 187:../BLDCMotor/motorctrl.c ****             dq_t udq = {0.0f,0.0f,_IQ15(0.0f),_IQ15(0.8f)};
 188:../BLDCMotor/motorctrl.c ****             #if 0/*Èó≠ÁéØÊéßÂà∂*/
 189:../BLDCMotor/motorctrl.c ****                 udq = _currmentloop(i_abc,elec_theta - PI_2);
 190:../BLDCMotor/motorctrl.c ****                 // udq.d = 0.0f;
 191:../BLDCMotor/motorctrl.c ****                 // udq.q = 0.6f;
 192:../BLDCMotor/motorctrl.c ****                 // udq.d = motordebug.id_targe;
 193:../BLDCMotor/motorctrl.c ****                 udq.q = motordebug.iq_targe;
 194:../BLDCMotor/motorctrl.c ****             #else
 195:../BLDCMotor/motorctrl.c ****                 if (motordebug.iq_targe < 0.0f)
 196:../BLDCMotor/motorctrl.c ****                 {
 197:../BLDCMotor/motorctrl.c ****                 _currmentloop(i_abc,elec_theta + PI_2);
 198:../BLDCMotor/motorctrl.c ****                 }else{
 199:../BLDCMotor/motorctrl.c ****                     i_abc.a = -i_abc.a;
 200:../BLDCMotor/motorctrl.c ****                     i_abc.b = -i_abc.b;
 201:../BLDCMotor/motorctrl.c ****                     i_abc.c = -i_abc.c;
 202:../BLDCMotor/motorctrl.c ****                     _currmentloop(i_abc,elec_theta);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 5


 203:../BLDCMotor/motorctrl.c ****                 }
 204:../BLDCMotor/motorctrl.c ****                 // udq.d = motordebug.id_targe;
 205:../BLDCMotor/motorctrl.c ****                 udq.q = 0.4f;
 206:../BLDCMotor/motorctrl.c ****                 udq.d = 0.0f;
 207:../BLDCMotor/motorctrl.c ****                 // udq.q = _speedloop(300.0f,motordebug.real_speed);
 208:../BLDCMotor/motorctrl.c ****             #endif
 209:../BLDCMotor/motorctrl.c ****             alpbet_t uab;
 210:../BLDCMotor/motorctrl.c ****             float pwm_phase = elec_theta + 1.5f * current_meas_period * speed_real*7.0;
 211:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 212:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, pwm_phase);  
 213:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 214:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
 215:../BLDCMotor/motorctrl.c **** #endif
 216:../BLDCMotor/motorctrl.c ****         }
 217:../BLDCMotor/motorctrl.c ****             break;
 218:../BLDCMotor/motorctrl.c ****         default:
 219:../BLDCMotor/motorctrl.c ****             break;
 220:../BLDCMotor/motorctrl.c ****     }
 221:../BLDCMotor/motorctrl.c **** }
 222:../BLDCMotor/motorctrl.c **** 
 223:../BLDCMotor/motorctrl.c **** 
 224:../BLDCMotor/motorctrl.c **** 
 225:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab) {  
 226:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
 227:../BLDCMotor/motorctrl.c ****     float voltage_magnitude = sqrt(raw_uab.alpha * raw_uab.alpha + raw_uab.beta * raw_uab.beta); //
 228:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 229:../BLDCMotor/motorctrl.c ****     if (voltage_magnitude > max_voltage) {  
 230:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 231:../BLDCMotor/motorctrl.c ****         float scale_factor = max_voltage / voltage_magnitude;  
 232:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 233:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 234:../BLDCMotor/motorctrl.c ****     } else {  
 235:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Âú®ÂÖÅËÆ∏ËåÉÂõ¥ÂÜÖÔºåÂàô‰∏çËøõË°å‰ªª‰ΩïÊîπÂèò  
 236:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha;  
 237:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 238:../BLDCMotor/motorctrl.c ****     }
 239:../BLDCMotor/motorctrl.c ****     return uab;
 240:../BLDCMotor/motorctrl.c **** }
 241:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 242:../BLDCMotor/motorctrl.c **** {
 243:../BLDCMotor/motorctrl.c **** #if 1
 244:../BLDCMotor/motorctrl.c ****     alpbet_t i_alphbeta;
 245:../BLDCMotor/motorctrl.c ****     float _tempa,_tempb,_tempc;
 246:../BLDCMotor/motorctrl.c ****     dq_t i_dq;
 247:../BLDCMotor/motorctrl.c ****     _tempa = i_abc.a;
 248:../BLDCMotor/motorctrl.c ****     _tempb = i_abc.b;
 249:../BLDCMotor/motorctrl.c ****     _tempc = i_abc.c;
 250:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G431
 251:../BLDCMotor/motorctrl.c ****     i_abc.a = -_tempa;
 252:../BLDCMotor/motorctrl.c ****     i_abc.b = -_tempc;
 253:../BLDCMotor/motorctrl.c ****     i_abc.c = -_tempb;
 254:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 255:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 256:../BLDCMotor/motorctrl.c ****     motordebug.ic = i_abc.c;
 257:../BLDCMotor/motorctrl.c **** #endif
 258:../BLDCMotor/motorctrl.c ****     _3s_2s(i_abc,&i_alphbeta);   
 259:../BLDCMotor/motorctrl.c ****     _2s_2r(i_alphbeta,((ele_theta)),&i_dq);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 6


 260:../BLDCMotor/motorctrl.c ****     motordebug.id = (i_dq.d);
 261:../BLDCMotor/motorctrl.c ****     motordebug.iq = (i_dq.q);
 262:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f};
 263:../BLDCMotor/motorctrl.c **** #if 1
 264:../BLDCMotor/motorctrl.c ****     float tar_id = 0.0f,tar_iq = 0.0f;
 265:../BLDCMotor/motorctrl.c ****     tar_id = motordebug.id_targe;
 266:../BLDCMotor/motorctrl.c ****     tar_iq = motordebug.iq_targe;
 267:../BLDCMotor/motorctrl.c ****     udq.d = pid_contrl(&(mt_param.daxis_pi),tar_id,i_dq.d);
 268:../BLDCMotor/motorctrl.c ****     motordebug.id_real = i_dq.d;
 269:../BLDCMotor/motorctrl.c ****     motordebug.pid_D_out = udq.d;
 270:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(&(mt_param.qaxis_pi),tar_iq,i_dq.q);
 271:../BLDCMotor/motorctrl.c ****     motordebug.iq_real = i_dq.q;
 272:../BLDCMotor/motorctrl.c ****     motordebug.pid_Q_out = udq.q;
 273:../BLDCMotor/motorctrl.c **** #endif
 274:../BLDCMotor/motorctrl.c ****     return udq;
 275:../BLDCMotor/motorctrl.c **** #endif
 276:../BLDCMotor/motorctrl.c **** }
 277:../BLDCMotor/motorctrl.c **** static float _speedloop(float tar,float real)
 278:../BLDCMotor/motorctrl.c **** {
 279:../BLDCMotor/motorctrl.c ****    return pid_contrl(&(mt_param.speedloop_pi),tar,real);
 280:../BLDCMotor/motorctrl.c **** }
 281:../BLDCMotor/motorctrl.c **** static void motor_enable(void)
 282:../BLDCMotor/motorctrl.c **** {
 283:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 284:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 285:../BLDCMotor/motorctrl.c **** #endif
 286:../BLDCMotor/motorctrl.c ****     /*pwm ‰ΩøËÉΩ*/
 287:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
 288:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
 289:../BLDCMotor/motorctrl.c ****     adc_start();
 290:../BLDCMotor/motorctrl.c **** }
 291:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 292:../BLDCMotor/motorctrl.c **** {
 293:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 294:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 295:../BLDCMotor/motorctrl.c **** #endif
 296:../BLDCMotor/motorctrl.c ****     /*pwm ‰ΩøËÉΩ*/
 297:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
 298:../BLDCMotor/motorctrl.c **** }
 299:../BLDCMotor/motorctrl.c **** static void motor_disable(void)
 300:../BLDCMotor/motorctrl.c **** {
 301:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 302:../BLDCMotor/motorctrl.c ****     gpio_setmotor_powerdown();
 303:../BLDCMotor/motorctrl.c **** #endif    
 304:../BLDCMotor/motorctrl.c ****     tim_pwm_disable();
 305:../BLDCMotor/motorctrl.c ****     adc_stop();
 306:../BLDCMotor/motorctrl.c **** }
 307:../BLDCMotor/motorctrl.c **** float test_a,test_b,test_c;
 308:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp)
 309:../BLDCMotor/motorctrl.c **** {
 310:../BLDCMotor/motorctrl.c ****     test_a = temp._a;test_b = temp._b;test_c = temp._c;
 311:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 312:../BLDCMotor/motorctrl.c **** }
 313:../BLDCMotor/motorctrl.c **** 
 314:../BLDCMotor/motorctrl.c **** static float motor_speedcale(float cur_theta)
 315:../BLDCMotor/motorctrl.c **** {
 316:../BLDCMotor/motorctrl.c ****     float delta_theta = 0.0f;
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 7


 317:../BLDCMotor/motorctrl.c ****     static unsigned short cnt = 0;
 318:../BLDCMotor/motorctrl.c ****     if (cnt++ > 20)
 319:../BLDCMotor/motorctrl.c ****     {
 320:../BLDCMotor/motorctrl.c ****         return;
 321:../BLDCMotor/motorctrl.c ****     }
 322:../BLDCMotor/motorctrl.c ****     cnt = 0;
 323:../BLDCMotor/motorctrl.c ****     static float pre_theta = 0.0f;
 324:../BLDCMotor/motorctrl.c ****     delta_theta = (cur_theta -pre_theta)*100.0f;
 325:../BLDCMotor/motorctrl.c **** 
 326:../BLDCMotor/motorctrl.c ****     // Â§ÑÁêÜËßíÂ∫¶Ë∑®Ë∂ä2œÄËæπÁïåÁöÑÊÉÖÂÜµ  
 327:../BLDCMotor/motorctrl.c ****     if (delta_theta > _2PI) {  
 328:../BLDCMotor/motorctrl.c ****         delta_theta -= (int)(delta_theta / _2PI +1) * _2PI;  
 329:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 330:../BLDCMotor/motorctrl.c ****         delta_theta += (int)(-delta_theta / _2PI + 1) * _2PI;  
 331:../BLDCMotor/motorctrl.c ****     }  
 332:../BLDCMotor/motorctrl.c **** 
 333:../BLDCMotor/motorctrl.c ****     delta_theta = lowfilter_cale(&(mt_param.speedfilter),delta_theta);
 334:../BLDCMotor/motorctrl.c ****     float omeg_c = (delta_theta)/0.002f/100.0f;
 335:../BLDCMotor/motorctrl.c ****     float N_rpm = omeg_c * 9.5492965855f;//60.0f/_2PI
 336:../BLDCMotor/motorctrl.c ****     pre_theta = cur_theta;
 337:../BLDCMotor/motorctrl.c ****     // N_rpm = lowfilter_cale(&sg_speedfilter,N_rpm);
 338:../BLDCMotor/motorctrl.c ****     return N_rpm;
 339:../BLDCMotor/motorctrl.c **** }
 340:../BLDCMotor/motorctrl.c **** 
 341:../BLDCMotor/motorctrl.c **** 
 342:../BLDCMotor/motorctrl.c **** 
 343:../BLDCMotor/motorctrl.c **** 
 344:../BLDCMotor/motorctrl.c **** 
 345:../BLDCMotor/motorctrl.c **** static short _get_angleoffset(void)
 346:../BLDCMotor/motorctrl.c **** {
 347:../BLDCMotor/motorctrl.c ****     static short state_ = 1;
 348:../BLDCMotor/motorctrl.c **** 
 349:../BLDCMotor/motorctrl.c ****     /*-----------ËÆæÁΩÆalpha/betaÂùêÊ†áÁ≥ª------------------*/
 350:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 351:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.4f,0.0f};
 352:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 353:../BLDCMotor/motorctrl.c ****     float theta;
 354:../BLDCMotor/motorctrl.c ****     static short cnt_ = 0;
 355:../BLDCMotor/motorctrl.c ****     int32_t Q15_theta = 0;
 356:../BLDCMotor/motorctrl.c ****     int32_t Q_thetaSum = 0;
 357:../BLDCMotor/motorctrl.c ****     switch (state_)
 358:../BLDCMotor/motorctrl.c ****     {
 359:../BLDCMotor/motorctrl.c ****     case 1://ËØªÂèñÂÅèÁßªÂÄº
 360:../BLDCMotor/motorctrl.c ****         uab = _2r_2s(udq,0.0f);
 361:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 362:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 363:../BLDCMotor/motorctrl.c ****         state_ = 2;
 364:../BLDCMotor/motorctrl.c ****         break;
 365:../BLDCMotor/motorctrl.c **** 
 366:../BLDCMotor/motorctrl.c ****     case 2:
 367:../BLDCMotor/motorctrl.c ****         if (cnt_++ > 15000)
 368:../BLDCMotor/motorctrl.c ****         {
 369:../BLDCMotor/motorctrl.c ****             cnt_ = 0;
 370:../BLDCMotor/motorctrl.c ****             state_ = 3;
 371:../BLDCMotor/motorctrl.c ****             // dut01 = _svpwm(0.0f,00.0f);
 372:../BLDCMotor/motorctrl.c ****             // motor_set_pwm(dut01);             
 373:../BLDCMotor/motorctrl.c ****         }
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 8


 374:../BLDCMotor/motorctrl.c ****         break;
 375:../BLDCMotor/motorctrl.c **** 
 376:../BLDCMotor/motorctrl.c ****     case 3:
 377:../BLDCMotor/motorctrl.c ****    
 378:../BLDCMotor/motorctrl.c ****         // for (uint8_t i = 0; i < 10; i++)
 379:../BLDCMotor/motorctrl.c ****         // {
 380:../BLDCMotor/motorctrl.c ****         //     Q_thetaSum += ((int32_t*)(sensor_user_read(SENSOR_01,EN_SENSORDATA_COV)))[0];
 381:../BLDCMotor/motorctrl.c ****         // }
 382:../BLDCMotor/motorctrl.c ****         // Q15_theta = Q_thetaSum/10;
 383:../BLDCMotor/motorctrl.c ****         Q15_theta = ((int32_t*)(sensor_user_read(SENSOR_01,EN_SENSORDATA_COV)))[0];
 384:../BLDCMotor/motorctrl.c ****         theta = _IQ20toF(Q15_theta);
 385:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = theta;
 386:../BLDCMotor/motorctrl.c ****         state_ = 4;
 387:../BLDCMotor/motorctrl.c ****         break;
 388:../BLDCMotor/motorctrl.c **** 
 389:../BLDCMotor/motorctrl.c ****     case 4:
 390:../BLDCMotor/motorctrl.c **** 
 391:../BLDCMotor/motorctrl.c ****         break;             
 392:../BLDCMotor/motorctrl.c ****     default:
 393:../BLDCMotor/motorctrl.c ****         break;
 394:../BLDCMotor/motorctrl.c ****     }
 395:../BLDCMotor/motorctrl.c ****     if (state_ == 4)
 396:../BLDCMotor/motorctrl.c ****     {
 397:../BLDCMotor/motorctrl.c ****         return 0;
 398:../BLDCMotor/motorctrl.c ****     }
 399:../BLDCMotor/motorctrl.c ****     return 1;
 400:../BLDCMotor/motorctrl.c **** }
 401:../BLDCMotor/motorctrl.c **** 
 402:../BLDCMotor/motorctrl.c **** static void mc_param_init(void)
 403:../BLDCMotor/motorctrl.c **** {
  28              		.loc 1 403 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  37 0002 2DED028B 		vpush.64	{d8}
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40              		.cfi_offset 80, -16
  41              		.cfi_offset 81, -12
 404:../BLDCMotor/motorctrl.c ****     // sgp_curloop_d_pid = &sg_curloop_param.d_pid;
 405:../BLDCMotor/motorctrl.c ****     // sgp_curloop_q_pid = &sg_curloop_param.q_pid;
 406:../BLDCMotor/motorctrl.c ****     // sgp_speed_pid = &sg_speed_pid;
 407:../BLDCMotor/motorctrl.c ****     // pid_init(sgp_curloop_d_pid,motordebug.pid_d_kp,motordebug.pid_d_ki,1.0f,D_MAX_VAL,D_MIN_VAL)
 408:../BLDCMotor/motorctrl.c ****     // pid_init(sgp_curloop_q_pid,motordebug.pid_d_kp,motordebug.pid_d_ki,1.0f,D_MAX_VAL,D_MIN_VAL)
 409:../BLDCMotor/motorctrl.c ****     // pid_init(sgp_speed_pid,motordebug.pid_d_kp,motordebug.pid_d_ki,1.0f,3.0,-3.0);
 410:../BLDCMotor/motorctrl.c **** 
 411:../BLDCMotor/motorctrl.c ****     // lowfilter_init(&sg_elefilter[0],80);
 412:../BLDCMotor/motorctrl.c ****     // lowfilter_init(&sg_elefilter[1],80);
 413:../BLDCMotor/motorctrl.c ****     // lowfilter_init(&sg_elefilter[2],80);
 414:../BLDCMotor/motorctrl.c **** 
 415:../BLDCMotor/motorctrl.c **** 
 416:../BLDCMotor/motorctrl.c ****     pid_init(&(mt_param.daxis_pi),1.0f,0.0f,1.0f,D_MAX_VAL,D_MIN_VAL);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 9


  42              		.loc 1 416 5 view .LVU1
  43 0006 9FED218A 		vldr.32	s16, .L3
  44 000a 214C     		ldr	r4, .L3+4
  45 000c B9EE002A 		vmov.f32	s4, #-4.0e+0
  46 0010 F1EE001A 		vmov.f32	s3, #4.0e+0
  47 0014 B7EE001A 		vmov.f32	s2, #1.0e+0
  48 0018 F0EE480A 		vmov.f32	s1, s16
  49 001c B0EE410A 		vmov.f32	s0, s2
  50 0020 2046     		mov	r0, r4
  51 0022 FFF7FEFF 		bl	pid_init
  52              	.LVL0:
 417:../BLDCMotor/motorctrl.c ****     pid_init(&(mt_param.qaxis_pi),1.0f,0.0f,1.0f,D_MAX_VAL,D_MIN_VAL);
  53              		.loc 1 417 5 view .LVU2
  54 0026 B9EE002A 		vmov.f32	s4, #-4.0e+0
  55 002a F1EE001A 		vmov.f32	s3, #4.0e+0
  56 002e B7EE001A 		vmov.f32	s2, #1.0e+0
  57 0032 F0EE480A 		vmov.f32	s1, s16
  58 0036 B0EE410A 		vmov.f32	s0, s2
  59 003a 04F11C00 		add	r0, r4, #28
  60 003e FFF7FEFF 		bl	pid_init
  61              	.LVL1:
 418:../BLDCMotor/motorctrl.c ****     pid_init(&(mt_param.speedloop_pi),1.0f,0.0f,1.0f,D_MAX_VAL,D_MIN_VAL);
  62              		.loc 1 418 5 view .LVU3
  63 0042 B9EE002A 		vmov.f32	s4, #-4.0e+0
  64 0046 F1EE001A 		vmov.f32	s3, #4.0e+0
  65 004a B7EE001A 		vmov.f32	s2, #1.0e+0
  66 004e F0EE480A 		vmov.f32	s1, s16
  67 0052 B0EE410A 		vmov.f32	s0, s2
  68 0056 04F13800 		add	r0, r4, #56
  69 005a FFF7FEFF 		bl	pid_init
  70              	.LVL2:
 419:../BLDCMotor/motorctrl.c **** 
 420:../BLDCMotor/motorctrl.c ****     lowfilter_init(&(mt_param.elefitler[0]),80);
  71              		.loc 1 420 5 view .LVU4
  72 005e 9FED0D8A 		vldr.32	s16, .L3+8
  73 0062 B0EE480A 		vmov.f32	s0, s16
  74 0066 04F15400 		add	r0, r4, #84
  75 006a FFF7FEFF 		bl	lowfilter_init
  76              	.LVL3:
 421:../BLDCMotor/motorctrl.c ****     lowfilter_init(&(mt_param.elefitler[1]),80);
  77              		.loc 1 421 5 view .LVU5
  78 006e B0EE480A 		vmov.f32	s0, s16
  79 0072 04F15C00 		add	r0, r4, #92
  80 0076 FFF7FEFF 		bl	lowfilter_init
  81              	.LVL4:
 422:../BLDCMotor/motorctrl.c ****     lowfilter_init(&(mt_param.elefitler[2]),80);
  82              		.loc 1 422 5 view .LVU6
  83 007a B0EE480A 		vmov.f32	s0, s16
  84 007e 04F16400 		add	r0, r4, #100
  85 0082 FFF7FEFF 		bl	lowfilter_init
  86              	.LVL5:
 423:../BLDCMotor/motorctrl.c **** }
  87              		.loc 1 423 1 is_stmt 0 view .LVU7
  88 0086 BDEC028B 		vldm	sp!, {d8}
  89              	.LCFI2:
  90              		.cfi_restore 80
  91              		.cfi_restore 81
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 10


  92              		.cfi_def_cfa_offset 8
  93 008a 10BD     		pop	{r4, pc}
  94              	.L4:
  95              		.align	2
  96              	.L3:
  97 008c 00000000 		.word	0
  98 0090 00000000 		.word	.LANCHOR0
  99 0094 0000A042 		.word	1117782016
 100              		.cfi_endproc
 101              	.LFE246:
 103              		.section	.text.motor_enable,"ax",%progbits
 104              		.align	1
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 109              	motor_enable:
 110              	.LFB240:
 282:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 111              		.loc 1 282 1 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115 0000 08B5     		push	{r3, lr}
 116              	.LCFI3:
 117              		.cfi_def_cfa_offset 8
 118              		.cfi_offset 3, -8
 119              		.cfi_offset 14, -4
 287:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
 120              		.loc 1 287 5 view .LVU9
 121 0002 FFF7FEFF 		bl	tim_pwm_enable
 122              	.LVL6:
 288:../BLDCMotor/motorctrl.c ****     adc_start();
 123              		.loc 1 288 5 view .LVU10
 124 0006 FFF7FEFF 		bl	tim_tigger_adc
 125              	.LVL7:
 289:../BLDCMotor/motorctrl.c **** }
 126              		.loc 1 289 5 view .LVU11
 127 000a FFF7FEFF 		bl	adc_start
 128              	.LVL8:
 290:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 129              		.loc 1 290 1 is_stmt 0 view .LVU12
 130 000e 08BD     		pop	{r3, pc}
 131              		.cfi_endproc
 132              	.LFE240:
 134              		.section	.text.trigger_software_reset,"ax",%progbits
 135              		.align	1
 136              		.syntax unified
 137              		.thumb
 138              		.thumb_func
 140              	trigger_software_reset:
 141              	.LFB248:
 424:../BLDCMotor/motorctrl.c **** 
 425:../BLDCMotor/motorctrl.c **** static void mc_param_deinit(void)
 426:../BLDCMotor/motorctrl.c **** {
 427:../BLDCMotor/motorctrl.c ****     memset(&mt_param,0,sizeof(mt_param));
 428:../BLDCMotor/motorctrl.c ****     memset(&motordebug,0,sizeof(motordebug));
 429:../BLDCMotor/motorctrl.c **** }
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 11


 430:../BLDCMotor/motorctrl.c **** 
 431:../BLDCMotor/motorctrl.c **** 
 432:../BLDCMotor/motorctrl.c **** static void trigger_software_reset(void)
 433:../BLDCMotor/motorctrl.c **** {
 142              		.loc 1 433 1 is_stmt 1 view -0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 0, uses_anonymous_args = 0
 146 0000 08B5     		push	{r3, lr}
 147              	.LCFI4:
 148              		.cfi_def_cfa_offset 8
 149              		.cfi_offset 3, -8
 150              		.cfi_offset 14, -4
 434:../BLDCMotor/motorctrl.c ****     HAL_NVIC_SystemReset();
 151              		.loc 1 434 5 view .LVU14
 152 0002 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 153              	.LVL9:
 435:../BLDCMotor/motorctrl.c **** }
 154              		.loc 1 435 1 is_stmt 0 view .LVU15
 155 0006 08BD     		pop	{r3, pc}
 156              		.cfi_endproc
 157              	.LFE248:
 159              		.section	.text.motor_disable,"ax",%progbits
 160              		.align	1
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 165              	motor_disable:
 166              	.LFB242:
 300:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 167              		.loc 1 300 1 is_stmt 1 view -0
 168              		.cfi_startproc
 169              		@ args = 0, pretend = 0, frame = 0
 170              		@ frame_needed = 0, uses_anonymous_args = 0
 171 0000 08B5     		push	{r3, lr}
 172              	.LCFI5:
 173              		.cfi_def_cfa_offset 8
 174              		.cfi_offset 3, -8
 175              		.cfi_offset 14, -4
 304:../BLDCMotor/motorctrl.c ****     adc_stop();
 176              		.loc 1 304 5 view .LVU17
 177 0002 FFF7FEFF 		bl	tim_pwm_disable
 178              	.LVL10:
 305:../BLDCMotor/motorctrl.c **** }
 179              		.loc 1 305 5 view .LVU18
 180 0006 FFF7FEFF 		bl	adc_stop
 181              	.LVL11:
 306:../BLDCMotor/motorctrl.c **** float test_a,test_b,test_c;
 182              		.loc 1 306 1 is_stmt 0 view .LVU19
 183 000a 08BD     		pop	{r3, pc}
 184              		.cfi_endproc
 185              	.LFE242:
 187              		.section	.text.mc_param_deinit,"ax",%progbits
 188              		.align	1
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 12


 193              	mc_param_deinit:
 194              	.LFB247:
 426:../BLDCMotor/motorctrl.c ****     memset(&mt_param,0,sizeof(mt_param));
 195              		.loc 1 426 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199 0000 08B5     		push	{r3, lr}
 200              	.LCFI6:
 201              		.cfi_def_cfa_offset 8
 202              		.cfi_offset 3, -8
 203              		.cfi_offset 14, -4
 427:../BLDCMotor/motorctrl.c ****     memset(&motordebug,0,sizeof(motordebug));
 204              		.loc 1 427 5 view .LVU21
 205 0002 7422     		movs	r2, #116
 206 0004 0021     		movs	r1, #0
 207 0006 0448     		ldr	r0, .L13
 208 0008 FFF7FEFF 		bl	memset
 209              	.LVL12:
 428:../BLDCMotor/motorctrl.c **** }
 210              		.loc 1 428 5 view .LVU22
 211 000c 8822     		movs	r2, #136
 212 000e 0021     		movs	r1, #0
 213 0010 0248     		ldr	r0, .L13+4
 214 0012 FFF7FEFF 		bl	memset
 215              	.LVL13:
 429:../BLDCMotor/motorctrl.c **** 
 216              		.loc 1 429 1 is_stmt 0 view .LVU23
 217 0016 08BD     		pop	{r3, pc}
 218              	.L14:
 219              		.align	2
 220              	.L13:
 221 0018 00000000 		.word	.LANCHOR0
 222 001c 00000000 		.word	.LANCHOR1
 223              		.cfi_endproc
 224              	.LFE247:
 226              		.section	.text.motor_speedcale,"ax",%progbits
 227              		.align	1
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	motor_speedcale:
 233              	.LVL14:
 234              	.LFB244:
 315:../BLDCMotor/motorctrl.c ****     float delta_theta = 0.0f;
 235              		.loc 1 315 1 is_stmt 1 view -0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 0
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 315:../BLDCMotor/motorctrl.c ****     float delta_theta = 0.0f;
 239              		.loc 1 315 1 is_stmt 0 view .LVU25
 240 0000 08B5     		push	{r3, lr}
 241              	.LCFI7:
 242              		.cfi_def_cfa_offset 8
 243              		.cfi_offset 3, -8
 244              		.cfi_offset 14, -4
 245 0002 2DED028B 		vpush.64	{d8}
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 13


 246              	.LCFI8:
 247              		.cfi_def_cfa_offset 16
 248              		.cfi_offset 80, -16
 249              		.cfi_offset 81, -12
 316:../BLDCMotor/motorctrl.c ****     static unsigned short cnt = 0;
 250              		.loc 1 316 5 is_stmt 1 view .LVU26
 251              	.LVL15:
 317:../BLDCMotor/motorctrl.c ****     if (cnt++ > 20)
 252              		.loc 1 317 5 view .LVU27
 318:../BLDCMotor/motorctrl.c ****     {
 253              		.loc 1 318 5 view .LVU28
 318:../BLDCMotor/motorctrl.c ****     {
 254              		.loc 1 318 12 is_stmt 0 view .LVU29
 255 0006 2D4A     		ldr	r2, .L25
 256 0008 1388     		ldrh	r3, [r2]
 257 000a 591C     		adds	r1, r3, #1
 258 000c 1180     		strh	r1, [r2]	@ movhi
 318:../BLDCMotor/motorctrl.c ****     {
 259              		.loc 1 318 8 view .LVU30
 260 000e 142B     		cmp	r3, #20
 261 0010 36D8     		bhi	.L15
 262 0012 B0EE408A 		vmov.f32	s16, s0
 322:../BLDCMotor/motorctrl.c ****     static float pre_theta = 0.0f;
 263              		.loc 1 322 5 is_stmt 1 view .LVU31
 322:../BLDCMotor/motorctrl.c ****     static float pre_theta = 0.0f;
 264              		.loc 1 322 9 is_stmt 0 view .LVU32
 265 0016 294B     		ldr	r3, .L25
 266 0018 0022     		movs	r2, #0
 267 001a 1A80     		strh	r2, [r3]	@ movhi
 323:../BLDCMotor/motorctrl.c ****     delta_theta = (cur_theta -pre_theta)*100.0f;
 268              		.loc 1 323 5 is_stmt 1 view .LVU33
 324:../BLDCMotor/motorctrl.c **** 
 269              		.loc 1 324 5 view .LVU34
 324:../BLDCMotor/motorctrl.c **** 
 270              		.loc 1 324 30 is_stmt 0 view .LVU35
 271 001c 284B     		ldr	r3, .L25+4
 272 001e D3ED007A 		vldr.32	s15, [r3]
 273 0022 70EE677A 		vsub.f32	s15, s0, s15
 324:../BLDCMotor/motorctrl.c **** 
 274              		.loc 1 324 17 view .LVU36
 275 0026 9FED270A 		vldr.32	s0, .L25+8
 276              	.LVL16:
 324:../BLDCMotor/motorctrl.c **** 
 277              		.loc 1 324 17 view .LVU37
 278 002a 27EE800A 		vmul.f32	s0, s15, s0
 279              	.LVL17:
 327:../BLDCMotor/motorctrl.c ****         delta_theta -= (int)(delta_theta / _2PI +1) * _2PI;  
 280              		.loc 1 327 5 is_stmt 1 view .LVU38
 327:../BLDCMotor/motorctrl.c ****         delta_theta -= (int)(delta_theta / _2PI +1) * _2PI;  
 281              		.loc 1 327 8 is_stmt 0 view .LVU39
 282 002e DFED267A 		vldr.32	s15, .L25+12
 283 0032 B4EEE70A 		vcmpe.f32	s0, s15
 284 0036 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 285 003a 24DD     		ble	.L23
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 286              		.loc 1 328 9 is_stmt 1 view .LVU40
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 14


 287              		.loc 1 328 42 is_stmt 0 view .LVU41
 288 003c B0EE677A 		vmov.f32	s14, s15
 289 0040 C0EE077A 		vdiv.f32	s15, s0, s14
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 290              		.loc 1 328 49 view .LVU42
 291 0044 F7EE006A 		vmov.f32	s13, #1.0e+0
 292 0048 77EEA67A 		vadd.f32	s15, s15, s13
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 293              		.loc 1 328 24 view .LVU43
 294 004c FDEEE77A 		vcvt.s32.f32	s15, s15
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 295              		.loc 1 328 53 view .LVU44
 296 0050 F8EEE77A 		vcvt.f32.s32	s15, s15
 297 0054 67EE877A 		vmul.f32	s15, s15, s14
 328:../BLDCMotor/motorctrl.c ****     } else if (delta_theta < -_2PI) {  
 298              		.loc 1 328 21 view .LVU45
 299 0058 30EE670A 		vsub.f32	s0, s0, s15
 300              	.LVL18:
 301              	.L19:
 333:../BLDCMotor/motorctrl.c ****     float omeg_c = (delta_theta)/0.002f/100.0f;
 302              		.loc 1 333 5 is_stmt 1 view .LVU46
 333:../BLDCMotor/motorctrl.c ****     float omeg_c = (delta_theta)/0.002f/100.0f;
 303              		.loc 1 333 19 is_stmt 0 view .LVU47
 304 005c 1B48     		ldr	r0, .L25+16
 305 005e FFF7FEFF 		bl	lowfilter_cale
 306              	.LVL19:
 334:../BLDCMotor/motorctrl.c ****     float N_rpm = omeg_c * 9.5492965855f;//60.0f/_2PI
 307              		.loc 1 334 5 is_stmt 1 view .LVU48
 334:../BLDCMotor/motorctrl.c ****     float N_rpm = omeg_c * 9.5492965855f;//60.0f/_2PI
 308              		.loc 1 334 33 is_stmt 0 view .LVU49
 309 0062 DFED1B7A 		vldr.32	s15, .L25+20
 310 0066 80EE277A 		vdiv.f32	s14, s0, s15
 334:../BLDCMotor/motorctrl.c ****     float N_rpm = omeg_c * 9.5492965855f;//60.0f/_2PI
 311              		.loc 1 334 11 view .LVU50
 312 006a DFED167A 		vldr.32	s15, .L25+8
 313 006e 87EE270A 		vdiv.f32	s0, s14, s15
 314              	.LVL20:
 335:../BLDCMotor/motorctrl.c ****     pre_theta = cur_theta;
 315              		.loc 1 335 5 is_stmt 1 view .LVU51
 335:../BLDCMotor/motorctrl.c ****     pre_theta = cur_theta;
 316              		.loc 1 335 11 is_stmt 0 view .LVU52
 317 0072 DFED187A 		vldr.32	s15, .L25+24
 318 0076 20EE270A 		vmul.f32	s0, s0, s15
 319              	.LVL21:
 336:../BLDCMotor/motorctrl.c ****     // N_rpm = lowfilter_cale(&sg_speedfilter,N_rpm);
 320              		.loc 1 336 5 is_stmt 1 view .LVU53
 336:../BLDCMotor/motorctrl.c ****     // N_rpm = lowfilter_cale(&sg_speedfilter,N_rpm);
 321              		.loc 1 336 15 is_stmt 0 view .LVU54
 322 007a 114B     		ldr	r3, .L25+4
 323 007c 83ED008A 		vstr.32	s16, [r3]
 338:../BLDCMotor/motorctrl.c **** }
 324              		.loc 1 338 5 is_stmt 1 view .LVU55
 325              	.LVL22:
 326              	.L15:
 339:../BLDCMotor/motorctrl.c **** 
 327              		.loc 1 339 1 is_stmt 0 view .LVU56
 328 0080 BDEC028B 		vldm	sp!, {d8}
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 15


 329              	.LCFI9:
 330              		.cfi_remember_state
 331              		.cfi_restore 80
 332              		.cfi_restore 81
 333              		.cfi_def_cfa_offset 8
 334 0084 08BD     		pop	{r3, pc}
 335              	.LVL23:
 336              	.L23:
 337              	.LCFI10:
 338              		.cfi_restore_state
 329:../BLDCMotor/motorctrl.c ****         delta_theta += (int)(-delta_theta / _2PI + 1) * _2PI;  
 339              		.loc 1 329 12 is_stmt 1 view .LVU57
 329:../BLDCMotor/motorctrl.c ****         delta_theta += (int)(-delta_theta / _2PI + 1) * _2PI;  
 340              		.loc 1 329 15 is_stmt 0 view .LVU58
 341 0086 DFED147A 		vldr.32	s15, .L25+28
 342 008a B4EEE70A 		vcmpe.f32	s0, s15
 343 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 344 0092 E3D5     		bpl	.L19
 330:../BLDCMotor/motorctrl.c ****     }  
 345              		.loc 1 330 9 is_stmt 1 view .LVU59
 330:../BLDCMotor/motorctrl.c ****     }  
 346              		.loc 1 330 30 is_stmt 0 view .LVU60
 347 0094 F1EE406A 		vneg.f32	s13, s0
 330:../BLDCMotor/motorctrl.c ****     }  
 348              		.loc 1 330 43 view .LVU61
 349 0098 9FED0B7A 		vldr.32	s14, .L25+12
 350 009c C6EE877A 		vdiv.f32	s15, s13, s14
 330:../BLDCMotor/motorctrl.c ****     }  
 351              		.loc 1 330 50 view .LVU62
 352 00a0 F7EE006A 		vmov.f32	s13, #1.0e+0
 353 00a4 77EEA67A 		vadd.f32	s15, s15, s13
 330:../BLDCMotor/motorctrl.c ****     }  
 354              		.loc 1 330 24 view .LVU63
 355 00a8 FDEEE77A 		vcvt.s32.f32	s15, s15
 330:../BLDCMotor/motorctrl.c ****     }  
 356              		.loc 1 330 55 view .LVU64
 357 00ac F8EEE77A 		vcvt.f32.s32	s15, s15
 358 00b0 67EE877A 		vmul.f32	s15, s15, s14
 330:../BLDCMotor/motorctrl.c ****     }  
 359              		.loc 1 330 21 view .LVU65
 360 00b4 30EE270A 		vadd.f32	s0, s0, s15
 361              	.LVL24:
 330:../BLDCMotor/motorctrl.c ****     }  
 362              		.loc 1 330 21 view .LVU66
 363 00b8 D0E7     		b	.L19
 364              	.L26:
 365 00ba 00BF     		.align	2
 366              	.L25:
 367 00bc 00000000 		.word	.LANCHOR2
 368 00c0 00000000 		.word	.LANCHOR3
 369 00c4 0000C842 		.word	1120403456
 370 00c8 DA0FC940 		.word	1086918618
 371 00cc 6C000000 		.word	.LANCHOR0+108
 372 00d0 6F12033B 		.word	990057071
 373 00d4 EBC91841 		.word	1092143595
 374 00d8 DA0FC9C0 		.word	-1060565030
 375              		.cfi_endproc
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 16


 376              	.LFE244:
 378              		.section	.text._currmentloop,"ax",%progbits
 379              		.align	1
 380              		.syntax unified
 381              		.thumb
 382              		.thumb_func
 384              	_currmentloop:
 385              	.LVL25:
 386              	.LFB238:
 242:../BLDCMotor/motorctrl.c **** #if 1
 387              		.loc 1 242 1 is_stmt 1 view -0
 388              		.cfi_startproc
 389              		@ args = 28, pretend = 16, frame = 32
 390              		@ frame_needed = 0, uses_anonymous_args = 0
 242:../BLDCMotor/motorctrl.c **** #if 1
 391              		.loc 1 242 1 is_stmt 0 view .LVU68
 392 0000 84B0     		sub	sp, sp, #16
 393              	.LCFI11:
 394              		.cfi_def_cfa_offset 16
 395 0002 70B5     		push	{r4, r5, r6, lr}
 396              	.LCFI12:
 397              		.cfi_def_cfa_offset 32
 398              		.cfi_offset 4, -32
 399              		.cfi_offset 5, -28
 400              		.cfi_offset 6, -24
 401              		.cfi_offset 14, -20
 402 0004 2DED028B 		vpush.64	{d8}
 403              	.LCFI13:
 404              		.cfi_def_cfa_offset 40
 405              		.cfi_offset 80, -40
 406              		.cfi_offset 81, -36
 407 0008 8CB0     		sub	sp, sp, #48
 408              	.LCFI14:
 409              		.cfi_def_cfa_offset 88
 410 000a 0546     		mov	r5, r0
 411 000c 0DF14C0C 		add	ip, sp, #76
 412 0010 8CE80E00 		stm	ip, {r1, r2, r3}
 413 0014 B0EE408A 		vmov.f32	s16, s0
 244:../BLDCMotor/motorctrl.c ****     float _tempa,_tempb,_tempc;
 414              		.loc 1 244 5 is_stmt 1 view .LVU69
 245:../BLDCMotor/motorctrl.c ****     dq_t i_dq;
 415              		.loc 1 245 5 view .LVU70
 246:../BLDCMotor/motorctrl.c ****     _tempa = i_abc.a;
 416              		.loc 1 246 5 view .LVU71
 247:../BLDCMotor/motorctrl.c ****     _tempb = i_abc.b;
 417              		.loc 1 247 5 view .LVU72
 418              	.LVL26:
 248:../BLDCMotor/motorctrl.c ****     _tempc = i_abc.c;
 419              		.loc 1 248 5 view .LVU73
 248:../BLDCMotor/motorctrl.c ****     _tempc = i_abc.c;
 420              		.loc 1 248 12 is_stmt 0 view .LVU74
 421 0018 DDED147A 		vldr.32	s15, [sp, #80]
 422              	.LVL27:
 249:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G431
 423              		.loc 1 249 5 is_stmt 1 view .LVU75
 251:../BLDCMotor/motorctrl.c ****     i_abc.b = -_tempc;
 424              		.loc 1 251 5 view .LVU76
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 17


 251:../BLDCMotor/motorctrl.c ****     i_abc.b = -_tempc;
 425              		.loc 1 251 15 is_stmt 0 view .LVU77
 426 001c DDED136A 		vldr.32	s13, [sp, #76]
 427 0020 F1EE666A 		vneg.f32	s13, s13
 251:../BLDCMotor/motorctrl.c ****     i_abc.b = -_tempc;
 428              		.loc 1 251 13 view .LVU78
 429 0024 CDED136A 		vstr.32	s13, [sp, #76]
 430              	.LVL28:
 252:../BLDCMotor/motorctrl.c ****     i_abc.c = -_tempb;
 431              		.loc 1 252 5 is_stmt 1 view .LVU79
 252:../BLDCMotor/motorctrl.c ****     i_abc.c = -_tempb;
 432              		.loc 1 252 15 is_stmt 0 view .LVU80
 433 0028 9DED157A 		vldr.32	s14, [sp, #84]
 434 002c B1EE477A 		vneg.f32	s14, s14
 252:../BLDCMotor/motorctrl.c ****     i_abc.c = -_tempb;
 435              		.loc 1 252 13 view .LVU81
 436 0030 8DED147A 		vstr.32	s14, [sp, #80]
 253:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 437              		.loc 1 253 5 is_stmt 1 view .LVU82
 253:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 438              		.loc 1 253 15 is_stmt 0 view .LVU83
 439 0034 F1EE677A 		vneg.f32	s15, s15
 440              	.LVL29:
 253:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 441              		.loc 1 253 13 view .LVU84
 442 0038 CDED157A 		vstr.32	s15, [sp, #84]
 443              	.LVL30:
 254:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 444              		.loc 1 254 5 is_stmt 1 view .LVU85
 254:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 445              		.loc 1 254 19 is_stmt 0 view .LVU86
 446 003c 244C     		ldr	r4, .L29
 447 003e C4ED006A 		vstr.32	s13, [r4]
 255:../BLDCMotor/motorctrl.c ****     motordebug.ic = i_abc.c;
 448              		.loc 1 255 5 is_stmt 1 view .LVU87
 255:../BLDCMotor/motorctrl.c ****     motordebug.ic = i_abc.c;
 449              		.loc 1 255 19 is_stmt 0 view .LVU88
 450 0042 84ED017A 		vstr.32	s14, [r4, #4]
 256:../BLDCMotor/motorctrl.c **** #endif
 451              		.loc 1 256 5 is_stmt 1 view .LVU89
 256:../BLDCMotor/motorctrl.c **** #endif
 452              		.loc 1 256 19 is_stmt 0 view .LVU90
 453 0046 C4ED027A 		vstr.32	s15, [r4, #8]
 258:../BLDCMotor/motorctrl.c ****     _2s_2r(i_alphbeta,((ele_theta)),&i_dq);
 454              		.loc 1 258 5 is_stmt 1 view .LVU91
 455 004a 08AE     		add	r6, sp, #32
 456 004c 0296     		str	r6, [sp, #8]
 457 004e 17AB     		add	r3, sp, #92
 458 0050 93E80300 		ldm	r3, {r0, r1}
 459              	.LVL31:
 258:../BLDCMotor/motorctrl.c ****     _2s_2r(i_alphbeta,((ele_theta)),&i_dq);
 460              		.loc 1 258 5 is_stmt 0 view .LVU92
 461 0054 8DE80300 		stm	sp, {r0, r1}
 462 0058 9CE80F00 		ldm	ip, {r0, r1, r2, r3}
 463 005c FFF7FEFF 		bl	_3s_2s
 464              	.LVL32:
 259:../BLDCMotor/motorctrl.c ****     motordebug.id = (i_dq.d);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 18


 465              		.loc 1 259 5 is_stmt 1 view .LVU93
 466 0060 04AB     		add	r3, sp, #16
 467 0062 0093     		str	r3, [sp]
 468 0064 B0EE480A 		vmov.f32	s0, s16
 469 0068 96E80F00 		ldm	r6, {r0, r1, r2, r3}
 470 006c FFF7FEFF 		bl	_2s_2r
 471              	.LVL33:
 260:../BLDCMotor/motorctrl.c ****     motordebug.iq = (i_dq.q);
 472              		.loc 1 260 5 view .LVU94
 260:../BLDCMotor/motorctrl.c ****     motordebug.iq = (i_dq.q);
 473              		.loc 1 260 26 is_stmt 0 view .LVU95
 474 0070 DDED040A 		vldr.32	s1, [sp, #16]
 260:../BLDCMotor/motorctrl.c ****     motordebug.iq = (i_dq.q);
 475              		.loc 1 260 19 view .LVU96
 476 0074 C4ED050A 		vstr.32	s1, [r4, #20]
 261:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f};
 477              		.loc 1 261 5 is_stmt 1 view .LVU97
 261:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f};
 478              		.loc 1 261 26 is_stmt 0 view .LVU98
 479 0078 059B     		ldr	r3, [sp, #20]	@ float
 261:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f};
 480              		.loc 1 261 19 view .LVU99
 481 007a A361     		str	r3, [r4, #24]	@ float
 262:../BLDCMotor/motorctrl.c **** #if 1
 482              		.loc 1 262 5 is_stmt 1 view .LVU100
 262:../BLDCMotor/motorctrl.c **** #if 1
 483              		.loc 1 262 10 is_stmt 0 view .LVU101
 484 007c 0023     		movs	r3, #0
 485 007e 2B60     		str	r3, [r5]
 486 0080 6B60     		str	r3, [r5, #4]
 487 0082 AB60     		str	r3, [r5, #8]
 488 0084 EB60     		str	r3, [r5, #12]
 264:../BLDCMotor/motorctrl.c ****     tar_id = motordebug.id_targe;
 489              		.loc 1 264 5 is_stmt 1 view .LVU102
 490              	.LVL34:
 265:../BLDCMotor/motorctrl.c ****     tar_iq = motordebug.iq_targe;
 491              		.loc 1 265 5 view .LVU103
 266:../BLDCMotor/motorctrl.c ****     udq.d = pid_contrl(&(mt_param.daxis_pi),tar_id,i_dq.d);
 492              		.loc 1 266 5 view .LVU104
 266:../BLDCMotor/motorctrl.c ****     udq.d = pid_contrl(&(mt_param.daxis_pi),tar_id,i_dq.d);
 493              		.loc 1 266 12 is_stmt 0 view .LVU105
 494 0086 94ED128A 		vldr.32	s16, [r4, #72]
 495              	.LVL35:
 267:../BLDCMotor/motorctrl.c ****     motordebug.id_real = i_dq.d;
 496              		.loc 1 267 5 is_stmt 1 view .LVU106
 267:../BLDCMotor/motorctrl.c ****     motordebug.id_real = i_dq.d;
 497              		.loc 1 267 13 is_stmt 0 view .LVU107
 498 008a 124E     		ldr	r6, .L29+4
 499 008c 94ED100A 		vldr.32	s0, [r4, #64]
 500 0090 3046     		mov	r0, r6
 501 0092 FFF7FEFF 		bl	pid_contrl
 502              	.LVL36:
 267:../BLDCMotor/motorctrl.c ****     motordebug.id_real = i_dq.d;
 503              		.loc 1 267 11 view .LVU108
 504 0096 85ED000A 		vstr.32	s0, [r5]
 268:../BLDCMotor/motorctrl.c ****     motordebug.pid_D_out = udq.d;
 505              		.loc 1 268 5 is_stmt 1 view .LVU109
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 19


 268:../BLDCMotor/motorctrl.c ****     motordebug.pid_D_out = udq.d;
 506              		.loc 1 268 30 is_stmt 0 view .LVU110
 507 009a 049B     		ldr	r3, [sp, #16]	@ float
 268:../BLDCMotor/motorctrl.c ****     motordebug.pid_D_out = udq.d;
 508              		.loc 1 268 24 view .LVU111
 509 009c A363     		str	r3, [r4, #56]	@ float
 269:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(&(mt_param.qaxis_pi),tar_iq,i_dq.q);
 510              		.loc 1 269 5 is_stmt 1 view .LVU112
 269:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(&(mt_param.qaxis_pi),tar_iq,i_dq.q);
 511              		.loc 1 269 26 is_stmt 0 view .LVU113
 512 009e 84ED190A 		vstr.32	s0, [r4, #100]
 270:../BLDCMotor/motorctrl.c ****     motordebug.iq_real = i_dq.q;
 513              		.loc 1 270 5 is_stmt 1 view .LVU114
 270:../BLDCMotor/motorctrl.c ****     motordebug.iq_real = i_dq.q;
 514              		.loc 1 270 12 is_stmt 0 view .LVU115
 515 00a2 DDED050A 		vldr.32	s1, [sp, #20]
 516 00a6 B0EE480A 		vmov.f32	s0, s16
 517 00aa 06F11C00 		add	r0, r6, #28
 518 00ae FFF7FEFF 		bl	pid_contrl
 519              	.LVL37:
 270:../BLDCMotor/motorctrl.c ****     motordebug.iq_real = i_dq.q;
 520              		.loc 1 270 11 view .LVU116
 521 00b2 85ED010A 		vstr.32	s0, [r5, #4]
 271:../BLDCMotor/motorctrl.c ****     motordebug.pid_Q_out = udq.q;
 522              		.loc 1 271 5 is_stmt 1 view .LVU117
 271:../BLDCMotor/motorctrl.c ****     motordebug.pid_Q_out = udq.q;
 523              		.loc 1 271 30 is_stmt 0 view .LVU118
 524 00b6 059B     		ldr	r3, [sp, #20]	@ float
 271:../BLDCMotor/motorctrl.c ****     motordebug.pid_Q_out = udq.q;
 525              		.loc 1 271 24 view .LVU119
 526 00b8 2365     		str	r3, [r4, #80]	@ float
 272:../BLDCMotor/motorctrl.c **** #endif
 527              		.loc 1 272 5 is_stmt 1 view .LVU120
 272:../BLDCMotor/motorctrl.c **** #endif
 528              		.loc 1 272 26 is_stmt 0 view .LVU121
 529 00ba 84ED160A 		vstr.32	s0, [r4, #88]
 274:../BLDCMotor/motorctrl.c **** #endif
 530              		.loc 1 274 5 is_stmt 1 view .LVU122
 276:../BLDCMotor/motorctrl.c **** static float _speedloop(float tar,float real)
 531              		.loc 1 276 1 is_stmt 0 view .LVU123
 532 00be 2846     		mov	r0, r5
 533 00c0 0CB0     		add	sp, sp, #48
 534              	.LCFI15:
 535              		.cfi_def_cfa_offset 40
 536              		@ sp needed
 537 00c2 BDEC028B 		vldm	sp!, {d8}
 538              	.LCFI16:
 539              		.cfi_restore 80
 540              		.cfi_restore 81
 541              		.cfi_def_cfa_offset 32
 542              	.LVL38:
 276:../BLDCMotor/motorctrl.c **** static float _speedloop(float tar,float real)
 543              		.loc 1 276 1 view .LVU124
 544 00c6 BDE87040 		pop	{r4, r5, r6, lr}
 545              	.LCFI17:
 546              		.cfi_restore 14
 547              		.cfi_restore 6
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 20


 548              		.cfi_restore 5
 549              		.cfi_restore 4
 550              		.cfi_def_cfa_offset 16
 551              	.LVL39:
 276:../BLDCMotor/motorctrl.c **** static float _speedloop(float tar,float real)
 552              		.loc 1 276 1 view .LVU125
 553 00ca 04B0     		add	sp, sp, #16
 554              	.LCFI18:
 555              		.cfi_def_cfa_offset 0
 556 00cc 7047     		bx	lr
 557              	.L30:
 558 00ce 00BF     		.align	2
 559              	.L29:
 560 00d0 00000000 		.word	.LANCHOR1
 561 00d4 00000000 		.word	.LANCHOR0
 562              		.cfi_endproc
 563              	.LFE238:
 565              		.section	.text.motor_set_pwm,"ax",%progbits
 566              		.align	1
 567              		.syntax unified
 568              		.thumb
 569              		.thumb_func
 571              	motor_set_pwm:
 572              	.LFB243:
 309:../BLDCMotor/motorctrl.c ****     test_a = temp._a;test_b = temp._b;test_c = temp._c;
 573              		.loc 1 309 1 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 16
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 577 0000 00B5     		push	{lr}
 578              	.LCFI19:
 579              		.cfi_def_cfa_offset 4
 580              		.cfi_offset 14, -4
 581 0002 85B0     		sub	sp, sp, #20
 582              	.LCFI20:
 583              		.cfi_def_cfa_offset 24
 584 0004 8DED010A 		vstr.32	s0, [sp, #4]
 585 0008 CDED020A 		vstr.32	s1, [sp, #8]
 586 000c 8DED031A 		vstr.32	s2, [sp, #12]
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 587              		.loc 1 310 5 view .LVU127
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 588              		.loc 1 310 12 is_stmt 0 view .LVU128
 589 0010 0648     		ldr	r0, .L33
 590 0012 80ED000A 		vstr.32	s0, [r0]
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 591              		.loc 1 310 22 is_stmt 1 view .LVU129
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 592              		.loc 1 310 29 is_stmt 0 view .LVU130
 593 0016 0649     		ldr	r1, .L33+4
 594 0018 C1ED000A 		vstr.32	s1, [r1]
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 595              		.loc 1 310 39 is_stmt 1 view .LVU131
 310:../BLDCMotor/motorctrl.c ****     tim_set_pwm(test_a ,test_b,test_c);
 596              		.loc 1 310 46 is_stmt 0 view .LVU132
 597 001c 054A     		ldr	r2, .L33+8
 598 001e 82ED001A 		vstr.32	s2, [r2]
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 21


 311:../BLDCMotor/motorctrl.c **** }
 599              		.loc 1 311 5 is_stmt 1 view .LVU133
 600 0022 FFF7FEFF 		bl	tim_set_pwm
 601              	.LVL40:
 312:../BLDCMotor/motorctrl.c **** 
 602              		.loc 1 312 1 is_stmt 0 view .LVU134
 603 0026 05B0     		add	sp, sp, #20
 604              	.LCFI21:
 605              		.cfi_def_cfa_offset 4
 606              		@ sp needed
 607 0028 5DF804FB 		ldr	pc, [sp], #4
 608              	.L34:
 609              		.align	2
 610              	.L33:
 611 002c 00000000 		.word	.LANCHOR4
 612 0030 00000000 		.word	.LANCHOR5
 613 0034 00000000 		.word	.LANCHOR6
 614              		.cfi_endproc
 615              	.LFE243:
 617              		.section	.text._get_angleoffset,"ax",%progbits
 618              		.align	1
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 623              	_get_angleoffset:
 624              	.LFB245:
 346:../BLDCMotor/motorctrl.c ****     static short state_ = 1;
 625              		.loc 1 346 1 is_stmt 1 view -0
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 48
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629 0000 00B5     		push	{lr}
 630              	.LCFI22:
 631              		.cfi_def_cfa_offset 4
 632              		.cfi_offset 14, -4
 633 0002 8FB0     		sub	sp, sp, #60
 634              	.LCFI23:
 635              		.cfi_def_cfa_offset 64
 347:../BLDCMotor/motorctrl.c **** 
 636              		.loc 1 347 5 view .LVU136
 350:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.4f,0.0f};
 637              		.loc 1 350 5 view .LVU137
 351:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 638              		.loc 1 351 5 view .LVU138
 351:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 639              		.loc 1 351 10 is_stmt 0 view .LVU139
 640 0004 0023     		movs	r3, #0
 641 0006 0693     		str	r3, [sp, #24]
 642 0008 0793     		str	r3, [sp, #28]
 643 000a 0893     		str	r3, [sp, #32]
 644 000c 0993     		str	r3, [sp, #36]
 645 000e 274B     		ldr	r3, .L43
 646 0010 0693     		str	r3, [sp, #24]	@ float
 352:../BLDCMotor/motorctrl.c ****     float theta;
 647              		.loc 1 352 5 is_stmt 1 view .LVU140
 353:../BLDCMotor/motorctrl.c ****     static short cnt_ = 0;
 648              		.loc 1 353 5 view .LVU141
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 22


 354:../BLDCMotor/motorctrl.c ****     int32_t Q15_theta = 0;
 649              		.loc 1 354 5 view .LVU142
 355:../BLDCMotor/motorctrl.c ****     int32_t Q_thetaSum = 0;
 650              		.loc 1 355 5 view .LVU143
 651              	.LVL41:
 356:../BLDCMotor/motorctrl.c ****     switch (state_)
 652              		.loc 1 356 5 view .LVU144
 357:../BLDCMotor/motorctrl.c ****     {
 653              		.loc 1 357 5 view .LVU145
 654 0012 274B     		ldr	r3, .L43+4
 655 0014 B3F90030 		ldrsh	r3, [r3]
 656 0018 022B     		cmp	r3, #2
 657 001a 27D0     		beq	.L36
 658 001c 032B     		cmp	r3, #3
 659 001e 35D0     		beq	.L37
 660 0020 012B     		cmp	r3, #1
 661 0022 08D0     		beq	.L42
 662              	.LVL42:
 663              	.L38:
 395:../BLDCMotor/motorctrl.c ****     {
 664              		.loc 1 395 5 view .LVU146
 395:../BLDCMotor/motorctrl.c ****     {
 665              		.loc 1 395 16 is_stmt 0 view .LVU147
 666 0024 224B     		ldr	r3, .L43+4
 667 0026 B3F90030 		ldrsh	r3, [r3]
 395:../BLDCMotor/motorctrl.c ****     {
 668              		.loc 1 395 8 view .LVU148
 669 002a 042B     		cmp	r3, #4
 670 002c 3CD0     		beq	.L40
 399:../BLDCMotor/motorctrl.c **** }
 671              		.loc 1 399 12 view .LVU149
 672 002e 0120     		movs	r0, #1
 673              	.L39:
 400:../BLDCMotor/motorctrl.c **** 
 674              		.loc 1 400 1 view .LVU150
 675 0030 0FB0     		add	sp, sp, #60
 676              	.LCFI24:
 677              		.cfi_remember_state
 678              		.cfi_def_cfa_offset 4
 679              		@ sp needed
 680 0032 5DF804FB 		ldr	pc, [sp], #4
 681              	.LVL43:
 682              	.L42:
 683              	.LCFI25:
 684              		.cfi_restore_state
 360:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 685              		.loc 1 360 9 is_stmt 1 view .LVU151
 360:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 686              		.loc 1 360 15 is_stmt 0 view .LVU152
 687 0036 0023     		movs	r3, #0
 688 0038 0093     		str	r3, [sp]
 689 003a 06AB     		add	r3, sp, #24
 690 003c 0ECB     		ldm	r3, {r1, r2, r3}
 691 003e 9FED1D0A 		vldr.32	s0, .L43+8
 692 0042 0AA8     		add	r0, sp, #40
 693 0044 FFF7FEFF 		bl	_2r_2s
 694              	.LVL44:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 23


 361:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 695              		.loc 1 361 9 is_stmt 1 view .LVU153
 361:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 696              		.loc 1 361 17 is_stmt 0 view .LVU154
 697 0048 DDED0B0A 		vldr.32	s1, [sp, #44]
 698 004c 9DED0A0A 		vldr.32	s0, [sp, #40]
 699 0050 FFF7FEFF 		bl	_svpwm
 700              	.LVL45:
 701 0054 8DED030A 		vstr.32	s0, [sp, #12]
 702 0058 CDED040A 		vstr.32	s1, [sp, #16]
 703 005c 8DED051A 		vstr.32	s2, [sp, #20]
 362:../BLDCMotor/motorctrl.c ****         state_ = 2;
 704              		.loc 1 362 9 is_stmt 1 view .LVU155
 705 0060 FFF7FEFF 		bl	motor_set_pwm
 706              	.LVL46:
 363:../BLDCMotor/motorctrl.c ****         break;
 707              		.loc 1 363 9 view .LVU156
 363:../BLDCMotor/motorctrl.c ****         break;
 708              		.loc 1 363 16 is_stmt 0 view .LVU157
 709 0064 124B     		ldr	r3, .L43+4
 710 0066 0222     		movs	r2, #2
 711 0068 1A80     		strh	r2, [r3]	@ movhi
 364:../BLDCMotor/motorctrl.c **** 
 712              		.loc 1 364 9 is_stmt 1 view .LVU158
 713 006a DBE7     		b	.L38
 714              	.L36:
 367:../BLDCMotor/motorctrl.c ****         {
 715              		.loc 1 367 9 view .LVU159
 367:../BLDCMotor/motorctrl.c ****         {
 716              		.loc 1 367 17 is_stmt 0 view .LVU160
 717 006c 124A     		ldr	r2, .L43+12
 718 006e B2F90030 		ldrsh	r3, [r2]
 719 0072 591C     		adds	r1, r3, #1
 720 0074 1180     		strh	r1, [r2]	@ movhi
 367:../BLDCMotor/motorctrl.c ****         {
 721              		.loc 1 367 12 view .LVU161
 722 0076 43F69822 		movw	r2, #15000
 723 007a 9342     		cmp	r3, r2
 724 007c D2DD     		ble	.L38
 369:../BLDCMotor/motorctrl.c ****             state_ = 3;
 725              		.loc 1 369 13 is_stmt 1 view .LVU162
 369:../BLDCMotor/motorctrl.c ****             state_ = 3;
 726              		.loc 1 369 18 is_stmt 0 view .LVU163
 727 007e 0E4B     		ldr	r3, .L43+12
 728 0080 0022     		movs	r2, #0
 729 0082 1A80     		strh	r2, [r3]	@ movhi
 370:../BLDCMotor/motorctrl.c ****             // dut01 = _svpwm(0.0f,00.0f);
 730              		.loc 1 370 13 is_stmt 1 view .LVU164
 370:../BLDCMotor/motorctrl.c ****             // dut01 = _svpwm(0.0f,00.0f);
 731              		.loc 1 370 20 is_stmt 0 view .LVU165
 732 0084 0A4B     		ldr	r3, .L43+4
 733 0086 0322     		movs	r2, #3
 734 0088 1A80     		strh	r2, [r3]	@ movhi
 735 008a CBE7     		b	.L38
 736              	.L37:
 383:../BLDCMotor/motorctrl.c ****         theta = _IQ20toF(Q15_theta);
 737              		.loc 1 383 9 is_stmt 1 view .LVU166
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 24


 383:../BLDCMotor/motorctrl.c ****         theta = _IQ20toF(Q15_theta);
 738              		.loc 1 383 33 is_stmt 0 view .LVU167
 739 008c 0121     		movs	r1, #1
 740 008e 0020     		movs	r0, #0
 741 0090 FFF7FEFF 		bl	sensor_user_read
 742              	.LVL47:
 384:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = theta;
 743              		.loc 1 384 9 is_stmt 1 view .LVU168
 384:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = theta;
 744              		.loc 1 384 17 is_stmt 0 view .LVU169
 745 0094 0068     		ldr	r0, [r0]
 746              	.LVL48:
 384:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = theta;
 747              		.loc 1 384 17 view .LVU170
 748 0096 FFF7FEFF 		bl	_IQ20toF
 749              	.LVL49:
 385:../BLDCMotor/motorctrl.c ****         state_ = 4;
 750              		.loc 1 385 9 is_stmt 1 view .LVU171
 385:../BLDCMotor/motorctrl.c ****         state_ = 4;
 751              		.loc 1 385 27 is_stmt 0 view .LVU172
 752 009a 084B     		ldr	r3, .L43+16
 753 009c 83ED000A 		vstr.32	s0, [r3]
 386:../BLDCMotor/motorctrl.c ****         break;
 754              		.loc 1 386 9 is_stmt 1 view .LVU173
 386:../BLDCMotor/motorctrl.c ****         break;
 755              		.loc 1 386 16 is_stmt 0 view .LVU174
 756 00a0 034B     		ldr	r3, .L43+4
 757 00a2 0422     		movs	r2, #4
 758 00a4 1A80     		strh	r2, [r3]	@ movhi
 387:../BLDCMotor/motorctrl.c **** 
 759              		.loc 1 387 9 is_stmt 1 view .LVU175
 760 00a6 BDE7     		b	.L38
 761              	.LVL50:
 762              	.L40:
 397:../BLDCMotor/motorctrl.c ****     }
 763              		.loc 1 397 16 is_stmt 0 view .LVU176
 764 00a8 0020     		movs	r0, #0
 765 00aa C1E7     		b	.L39
 766              	.L44:
 767              		.align	2
 768              	.L43:
 769 00ac CDCCCC3E 		.word	1053609165
 770 00b0 00000000 		.word	.LANCHOR7
 771 00b4 00000000 		.word	0
 772 00b8 00000000 		.word	.LANCHOR8
 773 00bc 00000000 		.word	.LANCHOR9
 774              		.cfi_endproc
 775              	.LFE245:
 777              		.section	.rodata.motortctrl_process.str1.4,"aMS",%progbits,1
 778              		.align	2
 779              	.LC0:
 780 0000 6D6F746F 		.ascii	"motor start\000"
 780      72207374 
 780      61727400 
 781              		.align	2
 782              	.LC1:
 783 000c 6D6F746F 		.ascii	"motor stop\000"
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 25


 783      72207374 
 783      6F7000
 784              		.section	.text.motortctrl_process,"ax",%progbits
 785              		.align	1
 786              		.global	motortctrl_process
 787              		.syntax unified
 788              		.thumb
 789              		.thumb_func
 791              	motortctrl_process:
 792              	.LFB235:
  38:../BLDCMotor/motorctrl.c ****     static uint16_t _state = MOTOR_INIT;
 793              		.loc 1 38 1 is_stmt 1 view -0
 794              		.cfi_startproc
 795              		@ args = 0, pretend = 0, frame = 0
 796              		@ frame_needed = 0, uses_anonymous_args = 0
 797 0000 08B5     		push	{r3, lr}
 798              	.LCFI26:
 799              		.cfi_def_cfa_offset 8
 800              		.cfi_offset 3, -8
 801              		.cfi_offset 14, -4
  39:../BLDCMotor/motorctrl.c ****     char rec_buf[64];
 802              		.loc 1 39 5 view .LVU178
  40:../BLDCMotor/motorctrl.c ****     char cnt = 0;
 803              		.loc 1 40 5 view .LVU179
  41:../BLDCMotor/motorctrl.c **** 
 804              		.loc 1 41 5 view .LVU180
 805              	.LVL51:
  43:../BLDCMotor/motorctrl.c ****     switch (_state)
 806              		.loc 1 43 5 view .LVU181
 807 0002 FFF7FEFF 		bl	motorprotocol_process
 808              	.LVL52:
  44:../BLDCMotor/motorctrl.c ****     {
 809              		.loc 1 44 5 view .LVU182
 810 0006 1B4B     		ldr	r3, .L53
 811 0008 1B88     		ldrh	r3, [r3]
 812 000a 032B     		cmp	r3, #3
 813 000c 18D8     		bhi	.L45
 814 000e DFE803F0 		tbb	[pc, r3]
 815              	.L48:
 816 0012 02       		.byte	(.L51-.L48)/2
 817 0013 0B       		.byte	(.L50-.L48)/2
 818 0014 18       		.byte	(.L49-.L48)/2
 819 0015 27       		.byte	(.L47-.L48)/2
 820              		.p2align 1
 821              	.L51:
  47:../BLDCMotor/motorctrl.c ****         {
 822              		.loc 1 47 9 view .LVU183
  47:../BLDCMotor/motorctrl.c ****         {
 823              		.loc 1 47 23 is_stmt 0 view .LVU184
 824 0016 184B     		ldr	r3, .L53+4
 825 0018 D3F88420 		ldr	r2, [r3, #132]
  47:../BLDCMotor/motorctrl.c ****         {
 826              		.loc 1 47 12 view .LVU185
 827 001c 174B     		ldr	r3, .L53+8
 828 001e 9A42     		cmp	r2, r3
 829 0020 0ED1     		bne	.L45
  51:../BLDCMotor/motorctrl.c ****     case MOTOR_START:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 26


 830              		.loc 1 51 9 is_stmt 1 view .LVU186
  51:../BLDCMotor/motorctrl.c ****     case MOTOR_START:
 831              		.loc 1 51 16 is_stmt 0 view .LVU187
 832 0022 144B     		ldr	r3, .L53
 833 0024 0122     		movs	r2, #1
 834 0026 1A80     		strh	r2, [r3]	@ movhi
 835              	.L50:
  53:../BLDCMotor/motorctrl.c ****         motor_enable();
 836              		.loc 1 53 9 is_stmt 1 view .LVU188
 837 0028 FFF7FEFF 		bl	mc_param_init
 838              	.LVL53:
  54:../BLDCMotor/motorctrl.c ****         _state = MOTOR_RUNING;
 839              		.loc 1 54 9 view .LVU189
 840 002c FFF7FEFF 		bl	motor_enable
 841              	.LVL54:
  55:../BLDCMotor/motorctrl.c ****         motorprotocol_tramit(g_respondmap[RES_RUNING].respond,g_respondmap[RES_RUNING].respond_len)
 842              		.loc 1 55 9 view .LVU190
  55:../BLDCMotor/motorctrl.c ****         motorprotocol_tramit(g_respondmap[RES_RUNING].respond,g_respondmap[RES_RUNING].respond_len)
 843              		.loc 1 55 16 is_stmt 0 view .LVU191
 844 0030 104B     		ldr	r3, .L53
 845 0032 0222     		movs	r2, #2
 846 0034 1A80     		strh	r2, [r3]	@ movhi
  56:../BLDCMotor/motorctrl.c ****         break;
 847              		.loc 1 56 9 is_stmt 1 view .LVU192
 848 0036 124B     		ldr	r3, .L53+12
 849 0038 9988     		ldrh	r1, [r3, #4]
 850 003a 1868     		ldr	r0, [r3]
 851 003c FFF7FEFF 		bl	motorprotocol_tramit
 852              	.LVL55:
  57:../BLDCMotor/motorctrl.c **** 
 853              		.loc 1 57 9 view .LVU193
 854              	.L45:
  76:../BLDCMotor/motorctrl.c **** 
 855              		.loc 1 76 1 is_stmt 0 view .LVU194
 856 0040 08BD     		pop	{r3, pc}
 857              	.L49:
  60:../BLDCMotor/motorctrl.c ****         {
 858              		.loc 1 60 9 is_stmt 1 view .LVU195
  60:../BLDCMotor/motorctrl.c ****         {
 859              		.loc 1 60 23 is_stmt 0 view .LVU196
 860 0042 0D4B     		ldr	r3, .L53+4
 861 0044 D3F88420 		ldr	r2, [r3, #132]
  60:../BLDCMotor/motorctrl.c ****         {
 862              		.loc 1 60 12 view .LVU197
 863 0048 0E4B     		ldr	r3, .L53+16
 864 004a 9A42     		cmp	r2, r3
 865 004c F8D1     		bne	.L45
  62:../BLDCMotor/motorctrl.c ****             _state = MOTOR_STOP;
 866              		.loc 1 62 13 is_stmt 1 view .LVU198
 867 004e 0C4B     		ldr	r3, .L53+12
 868 0050 9989     		ldrh	r1, [r3, #12]
 869 0052 9868     		ldr	r0, [r3, #8]
 870 0054 FFF7FEFF 		bl	motorprotocol_tramit
 871              	.LVL56:
  63:../BLDCMotor/motorctrl.c ****         }
 872              		.loc 1 63 13 view .LVU199
  63:../BLDCMotor/motorctrl.c ****         }
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 27


 873              		.loc 1 63 20 is_stmt 0 view .LVU200
 874 0058 064B     		ldr	r3, .L53
 875 005a 0322     		movs	r2, #3
 876 005c 1A80     		strh	r2, [r3]	@ movhi
 877 005e EFE7     		b	.L45
 878              	.L47:
  68:../BLDCMotor/motorctrl.c ****         motor_disable();
 879              		.loc 1 68 9 is_stmt 1 view .LVU201
 880 0060 FFF7FEFF 		bl	trigger_software_reset
 881              	.LVL57:
  69:../BLDCMotor/motorctrl.c ****         mc_param_deinit();
 882              		.loc 1 69 9 view .LVU202
 883 0064 FFF7FEFF 		bl	motor_disable
 884              	.LVL58:
  70:../BLDCMotor/motorctrl.c ****         _state = MOTOR_INIT;
 885              		.loc 1 70 9 view .LVU203
 886 0068 FFF7FEFF 		bl	mc_param_deinit
 887              	.LVL59:
  71:../BLDCMotor/motorctrl.c ****         break;
 888              		.loc 1 71 9 view .LVU204
  71:../BLDCMotor/motorctrl.c ****         break;
 889              		.loc 1 71 16 is_stmt 0 view .LVU205
 890 006c 014B     		ldr	r3, .L53
 891 006e 0022     		movs	r2, #0
 892 0070 1A80     		strh	r2, [r3]	@ movhi
  72:../BLDCMotor/motorctrl.c ****     default:
 893              		.loc 1 72 9 is_stmt 1 view .LVU206
  76:../BLDCMotor/motorctrl.c **** 
 894              		.loc 1 76 1 is_stmt 0 view .LVU207
 895 0072 E5E7     		b	.L45
 896              	.L54:
 897              		.align	2
 898              	.L53:
 899 0074 00000000 		.word	.LANCHOR10
 900 0078 00000000 		.word	.LANCHOR1
 901 007c 00000000 		.word	.LC0
 902 0080 00000000 		.word	g_respondmap
 903 0084 0C000000 		.word	.LC1
 904              		.cfi_endproc
 905              	.LFE235:
 907              		.global	__aeabi_f2d
 908              		.global	__aeabi_d2f
 909              		.section	.text._limit_voltagecircle,"ax",%progbits
 910              		.align	1
 911              		.global	_limit_voltagecircle
 912              		.syntax unified
 913              		.thumb
 914              		.thumb_func
 916              	_limit_voltagecircle:
 917              	.LVL60:
 918              	.LFB237:
 225:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
 919              		.loc 1 225 49 is_stmt 1 view -0
 920              		.cfi_startproc
 921              		@ args = 20, pretend = 16, frame = 0
 922              		@ frame_needed = 0, uses_anonymous_args = 0
 225:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 28


 923              		.loc 1 225 49 is_stmt 0 view .LVU209
 924 0000 84B0     		sub	sp, sp, #16
 925              	.LCFI27:
 926              		.cfi_def_cfa_offset 16
 927 0002 10B5     		push	{r4, lr}
 928              	.LCFI28:
 929              		.cfi_def_cfa_offset 24
 930              		.cfi_offset 4, -24
 931              		.cfi_offset 14, -20
 932 0004 2DED028B 		vpush.64	{d8}
 933              	.LCFI29:
 934              		.cfi_def_cfa_offset 32
 935              		.cfi_offset 80, -32
 936              		.cfi_offset 81, -28
 937 0008 0446     		mov	r4, r0
 938 000a 05A8     		add	r0, sp, #20
 939 000c 80E80E00 		stm	r0, {r1, r2, r3}
 226:../BLDCMotor/motorctrl.c ****     float voltage_magnitude = sqrt(raw_uab.alpha * raw_uab.alpha + raw_uab.beta * raw_uab.beta); //
 940              		.loc 1 226 5 is_stmt 1 view .LVU210
 941              	.LVL61:
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 942              		.loc 1 227 5 view .LVU211
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 943              		.loc 1 227 43 is_stmt 0 view .LVU212
 944 0010 DDED058A 		vldr.32	s17, [sp, #20]
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 945              		.loc 1 227 50 view .LVU213
 946 0014 28EEA87A 		vmul.f32	s14, s17, s17
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 947              		.loc 1 227 75 view .LVU214
 948 0018 9DED068A 		vldr.32	s16, [sp, #24]
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 949              		.loc 1 227 81 view .LVU215
 950 001c 68EE087A 		vmul.f32	s15, s16, s16
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 951              		.loc 1 227 31 view .LVU216
 952 0020 77EE277A 		vadd.f32	s15, s14, s15
 953 0024 17EE900A 		vmov	r0, s15
 954              	.LVL62:
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 955              		.loc 1 227 31 view .LVU217
 956 0028 FFF7FEFF 		bl	__aeabi_f2d
 957              	.LVL63:
 958 002c 41EC100B 		vmov	d0, r0, r1
 959 0030 FFF7FEFF 		bl	sqrt
 960              	.LVL64:
 961 0034 51EC100B 		vmov	r0, r1, d0
 227:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 962              		.loc 1 227 11 view .LVU218
 963 0038 FFF7FEFF 		bl	__aeabi_d2f
 964              	.LVL65:
 965 003c 07EE900A 		vmov	s15, r0
 966              	.LVL66:
 228:../BLDCMotor/motorctrl.c ****     if (voltage_magnitude > max_voltage) {  
 967              		.loc 1 228 5 is_stmt 1 view .LVU219
 229:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 968              		.loc 1 229 5 view .LVU220
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 29


 229:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 969              		.loc 1 229 8 is_stmt 0 view .LVU221
 970 0040 B1EE007A 		vmov.f32	s14, #4.0e+0
 971 0044 F4EEC77A 		vcmpe.f32	s15, s14
 972 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 973 004c 12DD     		ble	.L60
 974              	.LBB2:
 231:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 975              		.loc 1 231 9 is_stmt 1 view .LVU222
 231:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 976              		.loc 1 231 15 is_stmt 0 view .LVU223
 977 004e F0EE476A 		vmov.f32	s13, s14
 978 0052 86EEA77A 		vdiv.f32	s14, s13, s15
 979              	.LVL67:
 232:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 980              		.loc 1 232 9 is_stmt 1 view .LVU224
 232:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 981              		.loc 1 232 35 is_stmt 0 view .LVU225
 982 0056 68EE878A 		vmul.f32	s17, s17, s14
 232:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 983              		.loc 1 232 19 view .LVU226
 984 005a C4ED008A 		vstr.32	s17, [r4]
 233:../BLDCMotor/motorctrl.c ****     } else {  
 985              		.loc 1 233 9 is_stmt 1 view .LVU227
 233:../BLDCMotor/motorctrl.c ****     } else {  
 986              		.loc 1 233 33 is_stmt 0 view .LVU228
 987 005e 28EE078A 		vmul.f32	s16, s16, s14
 233:../BLDCMotor/motorctrl.c ****     } else {  
 988              		.loc 1 233 18 view .LVU229
 989 0062 84ED018A 		vstr.32	s16, [r4, #4]
 990              	.LVL68:
 991              	.L55:
 233:../BLDCMotor/motorctrl.c ****     } else {  
 992              		.loc 1 233 18 view .LVU230
 993              	.LBE2:
 240:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 994              		.loc 1 240 1 view .LVU231
 995 0066 2046     		mov	r0, r4
 996              	.LVL69:
 240:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 997              		.loc 1 240 1 view .LVU232
 998 0068 BDEC028B 		vldm	sp!, {d8}
 999              	.LCFI30:
 1000              		.cfi_remember_state
 1001              		.cfi_restore 80
 1002              		.cfi_restore 81
 1003              		.cfi_def_cfa_offset 24
 1004 006c BDE81040 		pop	{r4, lr}
 1005              	.LCFI31:
 1006              		.cfi_restore 14
 1007              		.cfi_restore 4
 1008              		.cfi_def_cfa_offset 16
 1009              	.LVL70:
 240:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 1010              		.loc 1 240 1 view .LVU233
 1011 0070 04B0     		add	sp, sp, #16
 1012              	.LCFI32:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 30


 1013              		.cfi_def_cfa_offset 0
 1014 0072 7047     		bx	lr
 1015              	.LVL71:
 1016              	.L60:
 1017              	.LCFI33:
 1018              		.cfi_restore_state
 236:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 1019              		.loc 1 236 9 is_stmt 1 view .LVU234
 236:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 1020              		.loc 1 236 19 is_stmt 0 view .LVU235
 1021 0074 C4ED008A 		vstr.32	s17, [r4]
 237:../BLDCMotor/motorctrl.c ****     }
 1022              		.loc 1 237 9 is_stmt 1 view .LVU236
 237:../BLDCMotor/motorctrl.c ****     }
 1023              		.loc 1 237 18 is_stmt 0 view .LVU237
 1024 0078 84ED018A 		vstr.32	s16, [r4, #4]
 239:../BLDCMotor/motorctrl.c **** }
 1025              		.loc 1 239 5 is_stmt 1 view .LVU238
 239:../BLDCMotor/motorctrl.c **** }
 1026              		.loc 1 239 12 is_stmt 0 view .LVU239
 1027 007c F3E7     		b	.L55
 1028              		.cfi_endproc
 1029              	.LFE237:
 1031              		.section	.rodata._50uscycle_process.str1.4,"aMS",%progbits,1
 1032              		.align	2
 1033              	.LC2:
 1034 0000 656E7465 		.ascii	"enter IDLE\015\012\000"
 1034      72204944 
 1034      4C450D0A 
 1034      00
 1035              		.global	__aeabi_dmul
 1036              		.global	__aeabi_dadd
 1037              		.section	.text._50uscycle_process,"ax",%progbits
 1038              		.align	1
 1039              		.global	_50uscycle_process
 1040              		.syntax unified
 1041              		.thumb
 1042              		.thumb_func
 1044              	_50uscycle_process:
 1045              	.LVL72:
 1046              	.LFB236:
  87:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
 1047              		.loc 1 87 1 is_stmt 1 view -0
 1048              		.cfi_startproc
 1049              		@ args = 0, pretend = 0, frame = 112
 1050              		@ frame_needed = 0, uses_anonymous_args = 0
  87:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
 1051              		.loc 1 87 1 is_stmt 0 view .LVU241
 1052 0000 30B5     		push	{r4, r5, lr}
 1053              	.LCFI34:
 1054              		.cfi_def_cfa_offset 12
 1055              		.cfi_offset 4, -12
 1056              		.cfi_offset 5, -8
 1057              		.cfi_offset 14, -4
 1058 0002 2DED048B 		vpush.64	{d8, d9}
 1059              	.LCFI35:
 1060              		.cfi_def_cfa_offset 28
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 31


 1061              		.cfi_offset 80, -28
 1062              		.cfi_offset 81, -24
 1063              		.cfi_offset 82, -20
 1064              		.cfi_offset 83, -16
 1065 0006 A1B0     		sub	sp, sp, #132
 1066              	.LCFI36:
 1067              		.cfi_def_cfa_offset 160
  88:../BLDCMotor/motorctrl.c ****     int32_t mec_theta;
 1068              		.loc 1 88 5 is_stmt 1 view .LVU242
  89:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 1069              		.loc 1 89 5 view .LVU243
  90:../BLDCMotor/motorctrl.c ****     abc_t i_abc;
 1070              		.loc 1 90 5 view .LVU244
  91:../BLDCMotor/motorctrl.c ****     dq_t udq;
 1071              		.loc 1 91 5 view .LVU245
  92:../BLDCMotor/motorctrl.c **** 
 1072              		.loc 1 92 5 view .LVU246
  96:../BLDCMotor/motorctrl.c ****     a1 = abc_vale[0] - A_ADCCHANNL_OFFSET;
 1073              		.loc 1 96 5 view .LVU247
  97:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 1074              		.loc 1 97 5 view .LVU248
  97:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 1075              		.loc 1 97 18 is_stmt 0 view .LVU249
 1076 0008 0368     		ldr	r3, [r0]
  97:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 1077              		.loc 1 97 22 view .LVU250
 1078 000a A3F6D503 		subw	r3, r3, #2261
  97:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 1079              		.loc 1 97 8 view .LVU251
 1080 000e B64A     		ldr	r2, .L77
 1081 0010 1360     		str	r3, [r2]
  98:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 1082              		.loc 1 98 5 is_stmt 1 view .LVU252
  98:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 1083              		.loc 1 98 18 is_stmt 0 view .LVU253
 1084 0012 4268     		ldr	r2, [r0, #4]
  98:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 1085              		.loc 1 98 22 view .LVU254
 1086 0014 A2F6E602 		subw	r2, r2, #2278
  98:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 1087              		.loc 1 98 8 view .LVU255
 1088 0018 B44B     		ldr	r3, .L77+4
 1089 001a 1A60     		str	r2, [r3]
  99:../BLDCMotor/motorctrl.c ****     // Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 1090              		.loc 1 99 5 is_stmt 1 view .LVU256
  99:../BLDCMotor/motorctrl.c ****     // Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 1091              		.loc 1 99 18 is_stmt 0 view .LVU257
 1092 001c 8368     		ldr	r3, [r0, #8]
  99:../BLDCMotor/motorctrl.c ****     // Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 1093              		.loc 1 99 22 view .LVU258
 1094 001e A3F50F63 		sub	r3, r3, #2288
  99:../BLDCMotor/motorctrl.c ****     // Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 1095              		.loc 1 99 8 view .LVU259
 1096 0022 B349     		ldr	r1, .L77+8
 1097 0024 0B60     		str	r3, [r1]
 101:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 1098              		.loc 1 101 5 is_stmt 1 view .LVU260
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 32


 101:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 1099              		.loc 1 101 10 is_stmt 0 view .LVU261
 1100 0026 07EE902A 		vmov	s15, r2	@ int
 1101 002a F8EEE78A 		vcvt.f32.s32	s17, s15
 101:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 1102              		.loc 1 101 8 view .LVU262
 1103 002e DFEDB17A 		vldr.32	s15, .L77+12
 1104 0032 68EEA78A 		vmul.f32	s17, s17, s15
 1105              	.LVL73:
 102:../BLDCMotor/motorctrl.c ****     Ia = -Ic - Ib;
 1106              		.loc 1 102 5 is_stmt 1 view .LVU263
 102:../BLDCMotor/motorctrl.c ****     Ia = -Ic - Ib;
 1107              		.loc 1 102 10 is_stmt 0 view .LVU264
 1108 0036 07EE903A 		vmov	s15, r3	@ int
 1109 003a B8EEE78A 		vcvt.f32.s32	s16, s15
 102:../BLDCMotor/motorctrl.c ****     Ia = -Ic - Ib;
 1110              		.loc 1 102 8 view .LVU265
 1111 003e DFEDAE7A 		vldr.32	s15, .L77+16
 1112 0042 28EE278A 		vmul.f32	s16, s16, s15
 1113              	.LVL74:
 103:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&(mt_param.elefitler[0]),Ia);
 1114              		.loc 1 103 5 is_stmt 1 view .LVU266
 103:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&(mt_param.elefitler[0]),Ia);
 1115              		.loc 1 103 10 is_stmt 0 view .LVU267
 1116 0046 B1EE480A 		vneg.f32	s0, s16
 1117              	.LVL75:
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1118              		.loc 1 104 5 is_stmt 1 view .LVU268
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1119              		.loc 1 104 15 is_stmt 0 view .LVU269
 1120 004a AC4C     		ldr	r4, .L77+20
 1121 004c 30EE680A 		vsub.f32	s0, s0, s17
 1122              	.LVL76:
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1123              		.loc 1 104 15 view .LVU270
 1124 0050 04F15400 		add	r0, r4, #84
 1125              	.LVL77:
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1126              		.loc 1 104 15 view .LVU271
 1127 0054 FFF7FEFF 		bl	lowfilter_cale
 1128              	.LVL78:
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1129              		.loc 1 104 15 view .LVU272
 1130 0058 B0EE409A 		vmov.f32	s18, s0
 104:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&(mt_param.elefitler[1]),Ib);
 1131              		.loc 1 104 13 view .LVU273
 1132 005c 8DED140A 		vstr.32	s0, [sp, #80]
 105:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&(mt_param.elefitler[2]),Ic);
 1133              		.loc 1 105 5 is_stmt 1 view .LVU274
 105:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&(mt_param.elefitler[2]),Ic);
 1134              		.loc 1 105 15 is_stmt 0 view .LVU275
 1135 0060 B0EE680A 		vmov.f32	s0, s17
 1136 0064 04F15C00 		add	r0, r4, #92
 1137 0068 FFF7FEFF 		bl	lowfilter_cale
 1138              	.LVL79:
 1139 006c F0EE408A 		vmov.f32	s17, s0
 1140              	.LVL80:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 33


 105:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&(mt_param.elefitler[2]),Ic);
 1141              		.loc 1 105 13 view .LVU276
 1142 0070 8DED150A 		vstr.32	s0, [sp, #84]
 106:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 1143              		.loc 1 106 5 is_stmt 1 view .LVU277
 106:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 1144              		.loc 1 106 15 is_stmt 0 view .LVU278
 1145 0074 B0EE480A 		vmov.f32	s0, s16
 1146 0078 04F16400 		add	r0, r4, #100
 1147 007c FFF7FEFF 		bl	lowfilter_cale
 1148              	.LVL81:
 106:../BLDCMotor/motorctrl.c ****     motordebug.ia = i_abc.a;
 1149              		.loc 1 106 13 view .LVU279
 1150 0080 8DED160A 		vstr.32	s0, [sp, #88]
 107:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 1151              		.loc 1 107 5 is_stmt 1 view .LVU280
 107:../BLDCMotor/motorctrl.c ****     motordebug.ib = i_abc.b;
 1152              		.loc 1 107 19 is_stmt 0 view .LVU281
 1153 0084 9E4B     		ldr	r3, .L77+24
 1154 0086 83ED009A 		vstr.32	s18, [r3]
 108:../BLDCMotor/motorctrl.c **** #endif
 1155              		.loc 1 108 5 is_stmt 1 view .LVU282
 108:../BLDCMotor/motorctrl.c **** #endif
 1156              		.loc 1 108 19 is_stmt 0 view .LVU283
 1157 008a C3ED018A 		vstr.32	s17, [r3, #4]
 111:../BLDCMotor/motorctrl.c ****         OFFSET=0,
 1158              		.loc 1 111 5 is_stmt 1 view .LVU284
 118:../BLDCMotor/motorctrl.c ****     switch (state0_)
 1159              		.loc 1 118 5 view .LVU285
 119:../BLDCMotor/motorctrl.c ****     {
 1160              		.loc 1 119 5 view .LVU286
 1161 008e 9D4B     		ldr	r3, .L77+28
 1162 0090 B3F90030 		ldrsh	r3, [r3]
 1163 0094 042B     		cmp	r3, #4
 1164 0096 7BD8     		bhi	.L62
 1165 0098 DFE803F0 		tbb	[pc, r3]
 1166              	.L65:
 1167 009c 03       		.byte	(.L68-.L65)/2
 1168 009d 7A       		.byte	(.L62-.L65)/2
 1169 009e 7E       		.byte	(.L67-.L65)/2
 1170 009f 24       		.byte	(.L66-.L65)/2
 1171 00a0 0E       		.byte	(.L64-.L65)/2
 1172 00a1 00       		.p2align 1
 1173              	.L68:
 1174              	.LBB3:
 122:../BLDCMotor/motorctrl.c ****             {
 1175              		.loc 1 122 13 view .LVU287
 122:../BLDCMotor/motorctrl.c ****             {
 1176              		.loc 1 122 17 is_stmt 0 view .LVU288
 1177 00a2 FFF7FEFF 		bl	_get_angleoffset
 1178              	.LVL82:
 122:../BLDCMotor/motorctrl.c ****             {
 1179              		.loc 1 122 16 view .LVU289
 1180 00a6 0028     		cmp	r0, #0
 1181 00a8 72D1     		bne	.L62
 126:../BLDCMotor/motorctrl.c ****             state0_ = CLOSELOOP;
 1182              		.loc 1 126 13 is_stmt 1 view .LVU290
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 34


 1183 00aa 9749     		ldr	r1, .L77+32
 1184 00ac FFF7FEFF 		bl	SEGGER_RTT_printf
 1185              	.LVL83:
 127:../BLDCMotor/motorctrl.c ****             break;
 1186              		.loc 1 127 13 view .LVU291
 127:../BLDCMotor/motorctrl.c ****             break;
 1187              		.loc 1 127 21 is_stmt 0 view .LVU292
 1188 00b0 944B     		ldr	r3, .L77+28
 1189 00b2 0222     		movs	r2, #2
 1190 00b4 1A80     		strh	r2, [r3]	@ movhi
 128:../BLDCMotor/motorctrl.c ****         case IDLE:
 1191              		.loc 1 128 13 is_stmt 1 view .LVU293
 1192 00b6 6BE0     		b	.L62
 1193              	.L64:
 130:../BLDCMotor/motorctrl.c ****             {
 1194              		.loc 1 130 13 view .LVU294
 130:../BLDCMotor/motorctrl.c ****             {
 1195              		.loc 1 130 27 is_stmt 0 view .LVU295
 1196 00b8 914B     		ldr	r3, .L77+24
 1197 00ba D3ED107A 		vldr.32	s15, [r3, #64]
 130:../BLDCMotor/motorctrl.c ****             {
 1198              		.loc 1 130 16 view .LVU296
 1199 00be F5EE407A 		vcmp.f32	s15, #0
 1200 00c2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1201 00c6 06D1     		bne	.L69
 130:../BLDCMotor/motorctrl.c ****             {
 1202              		.loc 1 130 58 discriminator 1 view .LVU297
 1203 00c8 D3ED127A 		vldr.32	s15, [r3, #72]
 130:../BLDCMotor/motorctrl.c ****             {
 1204              		.loc 1 130 45 discriminator 1 view .LVU298
 1205 00cc F5EE407A 		vcmp.f32	s15, #0
 1206 00d0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1207 00d4 5CD0     		beq	.L62
 1208              	.L69:
 132:../BLDCMotor/motorctrl.c ****                 state0_ = SPEEDLOOP;
 1209              		.loc 1 132 17 is_stmt 1 view .LVU299
 132:../BLDCMotor/motorctrl.c ****                 state0_ = SPEEDLOOP;
 1210              		.loc 1 132 38 is_stmt 0 view .LVU300
 1211 00d6 8A4B     		ldr	r3, .L77+24
 1212 00d8 0022     		movs	r2, #0
 1213 00da 1A67     		str	r2, [r3, #112]	@ float
 133:../BLDCMotor/motorctrl.c ****             }
 1214              		.loc 1 133 17 is_stmt 1 view .LVU301
 133:../BLDCMotor/motorctrl.c ****             }
 1215              		.loc 1 133 25 is_stmt 0 view .LVU302
 1216 00dc 894B     		ldr	r3, .L77+28
 1217 00de 0322     		movs	r2, #3
 1218 00e0 1A80     		strh	r2, [r3]	@ movhi
 1219 00e2 55E0     		b	.L62
 1220              	.L66:
 137:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 1221              		.loc 1 137 13 is_stmt 1 view .LVU303
 137:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 1222              		.loc 1 137 36 is_stmt 0 view .LVU304
 1223 00e4 0121     		movs	r1, #1
 1224 00e6 0020     		movs	r0, #0
 1225 00e8 FFF7FEFF 		bl	sensor_user_read
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 35


 1226              	.LVL84:
 138:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1227              		.loc 1 138 13 is_stmt 1 view .LVU305
 138:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1228              		.loc 1 138 26 is_stmt 0 view .LVU306
 1229 00ec 0068     		ldr	r0, [r0]
 1230              	.LVL85:
 138:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1231              		.loc 1 138 26 view .LVU307
 1232 00ee FFF7FEFF 		bl	_IQ20toF
 1233              	.LVL86:
 138:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1234              		.loc 1 138 26 view .LVU308
 1235 00f2 B0EE408A 		vmov.f32	s16, s0
 1236              	.LVL87:
 139:../BLDCMotor/motorctrl.c ****             elec_theta = mech_theta * MOTOR_PAIR;
 1237              		.loc 1 139 13 is_stmt 1 view .LVU309
 139:../BLDCMotor/motorctrl.c ****             elec_theta = mech_theta * MOTOR_PAIR;
 1238              		.loc 1 139 37 is_stmt 0 view .LVU310
 1239 00f6 FFF7FEFF 		bl	motor_speedcale
 1240              	.LVL88:
 139:../BLDCMotor/motorctrl.c ****             elec_theta = mech_theta * MOTOR_PAIR;
 1241              		.loc 1 139 35 view .LVU311
 1242 00fa 814C     		ldr	r4, .L77+24
 1243 00fc 84ED110A 		vstr.32	s0, [r4, #68]
 140:../BLDCMotor/motorctrl.c ****             elec_theta -= 0.56f;//sg_MecThetaOffset;
 1244              		.loc 1 140 13 is_stmt 1 view .LVU312
 140:../BLDCMotor/motorctrl.c ****             elec_theta -= 0.56f;//sg_MecThetaOffset;
 1245              		.loc 1 140 24 is_stmt 0 view .LVU313
 1246 0100 B1EE0C0A 		vmov.f32	s0, #7.0e+0
 1247 0104 28EE008A 		vmul.f32	s16, s16, s0
 1248              	.LVL89:
 141:../BLDCMotor/motorctrl.c **** 
 1249              		.loc 1 141 13 is_stmt 1 view .LVU314
 143:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,elec_theta);
 1250              		.loc 1 143 13 view .LVU315
 143:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,elec_theta);
 1251              		.loc 1 143 26 is_stmt 0 view .LVU316
 1252 0108 9FED800A 		vldr.32	s0, .L77+36
 1253 010c 38EE400A 		vsub.f32	s0, s16, s0
 1254              	.LVL90:
 143:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,elec_theta);
 1255              		.loc 1 143 26 view .LVU317
 1256 0110 FFF7FEFF 		bl	_normalize_angle
 1257              	.LVL91:
 143:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,elec_theta);
 1258              		.loc 1 143 26 view .LVU318
 1259 0114 B0EE408A 		vmov.f32	s16, s0
 1260              	.LVL92:
 144:../BLDCMotor/motorctrl.c **** 
 1261              		.loc 1 144 13 is_stmt 1 view .LVU319
 1262 0118 04AD     		add	r5, sp, #16
 1263 011a 17AB     		add	r3, sp, #92
 1264 011c 93E80700 		ldm	r3, {r0, r1, r2}
 1265 0120 8DE80700 		stm	sp, {r0, r1, r2}
 1266 0124 14AB     		add	r3, sp, #80
 1267 0126 0ECB     		ldm	r3, {r1, r2, r3}
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 36


 1268 0128 2846     		mov	r0, r5
 1269 012a FFF7FEFF 		bl	_currmentloop
 1270              	.LVL93:
 146:../BLDCMotor/motorctrl.c ****             static unsigned short cnt = 0;
 1271              		.loc 1 146 13 view .LVU320
 146:../BLDCMotor/motorctrl.c ****             static unsigned short cnt = 0;
 1272              		.loc 1 146 34 is_stmt 0 view .LVU321
 1273 012e 84ED1C8A 		vstr.32	s16, [r4, #112]
 147:../BLDCMotor/motorctrl.c ****             if (cnt++ < 200)
 1274              		.loc 1 147 13 is_stmt 1 view .LVU322
 148:../BLDCMotor/motorctrl.c ****             {
 1275              		.loc 1 148 13 view .LVU323
 148:../BLDCMotor/motorctrl.c ****             {
 1276              		.loc 1 148 20 is_stmt 0 view .LVU324
 1277 0132 774B     		ldr	r3, .L77+40
 1278 0134 1A88     		ldrh	r2, [r3]
 1279 0136 0132     		adds	r2, r2, #1
 1280 0138 1A80     		strh	r2, [r3]	@ movhi
 151:../BLDCMotor/motorctrl.c ****             cnt = 0;
 1281              		.loc 1 151 13 is_stmt 1 view .LVU325
 152:../BLDCMotor/motorctrl.c ****             udq.q = 0.3f;
 1282              		.loc 1 152 13 view .LVU326
 152:../BLDCMotor/motorctrl.c ****             udq.q = 0.3f;
 1283              		.loc 1 152 17 is_stmt 0 view .LVU327
 1284 013a 0022     		movs	r2, #0
 1285 013c 1A80     		strh	r2, [r3]	@ movhi
 153:../BLDCMotor/motorctrl.c ****             udq.d = 0;
 1286              		.loc 1 153 13 is_stmt 1 view .LVU328
 153:../BLDCMotor/motorctrl.c ****             udq.d = 0;
 1287              		.loc 1 153 19 is_stmt 0 view .LVU329
 1288 013e 754B     		ldr	r3, .L77+44
 1289 0140 1193     		str	r3, [sp, #68]	@ float
 154:../BLDCMotor/motorctrl.c ****             alpbet_t uab;
 1290              		.loc 1 154 13 is_stmt 1 view .LVU330
 154:../BLDCMotor/motorctrl.c ****             alpbet_t uab;
 1291              		.loc 1 154 19 is_stmt 0 view .LVU331
 1292 0142 0023     		movs	r3, #0
 1293 0144 1093     		str	r3, [sp, #64]	@ float
 155:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, elec_theta - PI_2);  
 1294              		.loc 1 155 13 is_stmt 1 view .LVU332
 156:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 1295              		.loc 1 156 13 view .LVU333
 156:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 1296              		.loc 1 156 19 is_stmt 0 view .LVU334
 1297 0146 0CAC     		add	r4, sp, #48
 1298 0148 139B     		ldr	r3, [sp, #76]
 1299 014a 0093     		str	r3, [sp]
 1300 014c 10AB     		add	r3, sp, #64
 1301 014e 0ECB     		ldm	r3, {r1, r2, r3}
 1302 0150 9FED710A 		vldr.32	s0, .L77+48
 1303 0154 38EE400A 		vsub.f32	s0, s16, s0
 1304 0158 2046     		mov	r0, r4
 1305 015a FFF7FEFF 		bl	_2r_2s
 1306              	.LVL94:
 157:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
 1307              		.loc 1 157 13 is_stmt 1 view .LVU335
 157:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 37


 1308              		.loc 1 157 19 is_stmt 0 view .LVU336
 1309 015e 0F9B     		ldr	r3, [sp, #60]
 1310 0160 0093     		str	r3, [sp]
 1311 0162 94E80E00 		ldm	r4, {r1, r2, r3}
 1312 0166 2846     		mov	r0, r5
 1313 0168 FFF7FEFF 		bl	_limit_voltagecircle
 1314              	.LVL95:
 1315 016c 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 1316 0170 84E80F00 		stm	r4, {r0, r1, r2, r3}
 158:../BLDCMotor/motorctrl.c ****             break;
 1317              		.loc 1 158 13 is_stmt 1 view .LVU337
 1318 0174 DDED0D0A 		vldr.32	s1, [sp, #52]
 1319 0178 9DED0C0A 		vldr.32	s0, [sp, #48]
 1320 017c FFF7FEFF 		bl	_svpwm
 1321              	.LVL96:
 1322 0180 8DED1A0A 		vstr.32	s0, [sp, #104]
 1323 0184 CDED1B0A 		vstr.32	s1, [sp, #108]
 1324 0188 8DED1C1A 		vstr.32	s2, [sp, #112]
 1325 018c FFF7FEFF 		bl	motor_set_pwm
 1326              	.LVL97:
 159:../BLDCMotor/motorctrl.c ****         case CLOSELOOP:
 1327              		.loc 1 159 13 view .LVU338
 1328              	.L62:
 159:../BLDCMotor/motorctrl.c ****         case CLOSELOOP:
 1329              		.loc 1 159 13 is_stmt 0 view .LVU339
 1330              	.LBE3:
 221:../BLDCMotor/motorctrl.c **** 
 1331              		.loc 1 221 1 view .LVU340
 1332 0190 21B0     		add	sp, sp, #132
 1333              	.LCFI37:
 1334              		.cfi_remember_state
 1335              		.cfi_def_cfa_offset 28
 1336              		@ sp needed
 1337 0192 BDEC048B 		vldm	sp!, {d8-d9}
 1338              	.LCFI38:
 1339              		.cfi_restore 82
 1340              		.cfi_restore 83
 1341              		.cfi_restore 80
 1342              		.cfi_restore 81
 1343              		.cfi_def_cfa_offset 12
 1344 0196 30BD     		pop	{r4, r5, pc}
 1345              	.LVL98:
 1346              	.L67:
 1347              	.LCFI39:
 1348              		.cfi_restore_state
 221:../BLDCMotor/motorctrl.c **** 
 1349              		.loc 1 221 1 view .LVU341
 1350 0198 B0EE408A 		vmov.f32	s16, s0
 1351              	.LVL99:
 1352              	.LBB6:
 1353              	.LBB4:
 163:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 1354              		.loc 1 163 13 is_stmt 1 view .LVU342
 163:../BLDCMotor/motorctrl.c ****             mech_theta = _IQ20toF(mec_theta);
 1355              		.loc 1 163 36 is_stmt 0 view .LVU343
 1356 019c 0121     		movs	r1, #1
 1357 019e 0020     		movs	r0, #0
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 38


 1358 01a0 FFF7FEFF 		bl	sensor_user_read
 1359              	.LVL100:
 164:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1360              		.loc 1 164 13 is_stmt 1 view .LVU344
 164:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1361              		.loc 1 164 26 is_stmt 0 view .LVU345
 1362 01a4 0068     		ldr	r0, [r0]
 1363              	.LVL101:
 164:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1364              		.loc 1 164 26 view .LVU346
 1365 01a6 FFF7FEFF 		bl	_IQ20toF
 1366              	.LVL102:
 164:../BLDCMotor/motorctrl.c ****             motordebug.real_speed = motor_speedcale(mech_theta);//ÊØè2msÊõ¥Êñ∞‰∏ÄÊ¨°
 1367              		.loc 1 164 26 view .LVU347
 1368 01aa F0EE409A 		vmov.f32	s19, s0
 1369              	.LVL103:
 165:../BLDCMotor/motorctrl.c **** 
 1370              		.loc 1 165 13 is_stmt 1 view .LVU348
 165:../BLDCMotor/motorctrl.c **** 
 1371              		.loc 1 165 37 is_stmt 0 view .LVU349
 1372 01ae FFF7FEFF 		bl	motor_speedcale
 1373              	.LVL104:
 165:../BLDCMotor/motorctrl.c **** 
 1374              		.loc 1 165 35 view .LVU350
 1375 01b2 534C     		ldr	r4, .L77+24
 1376 01b4 84ED110A 		vstr.32	s0, [r4, #68]
 167:../BLDCMotor/motorctrl.c ****             elec_theta -= sg_MecThetaOffset;
 1377              		.loc 1 167 13 is_stmt 1 view .LVU351
 167:../BLDCMotor/motorctrl.c ****             elec_theta -= sg_MecThetaOffset;
 1378              		.loc 1 167 24 is_stmt 0 view .LVU352
 1379 01b8 B1EE0C0A 		vmov.f32	s0, #7.0e+0
 1380 01bc 69EE809A 		vmul.f32	s19, s19, s0
 1381              	.LVL105:
 168:../BLDCMotor/motorctrl.c **** 
 1382              		.loc 1 168 13 is_stmt 1 view .LVU353
 1383 01c0 564B     		ldr	r3, .L77+52
 1384 01c2 93ED000A 		vldr.32	s0, [r3]
 1385              	.LVL106:
 170:../BLDCMotor/motorctrl.c ****             speed_real = _IQ15toF(((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_FILTER))[0]);
 1386              		.loc 1 170 13 view .LVU354
 170:../BLDCMotor/motorctrl.c ****             speed_real = _IQ15toF(((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_FILTER))[0]);
 1387              		.loc 1 170 26 is_stmt 0 view .LVU355
 1388 01c6 39EEC00A 		vsub.f32	s0, s19, s0
 1389              	.LVL107:
 170:../BLDCMotor/motorctrl.c ****             speed_real = _IQ15toF(((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_FILTER))[0]);
 1390              		.loc 1 170 26 view .LVU356
 1391 01ca FFF7FEFF 		bl	_normalize_angle
 1392              	.LVL108:
 170:../BLDCMotor/motorctrl.c ****             speed_real = _IQ15toF(((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_FILTER))[0]);
 1393              		.loc 1 170 26 view .LVU357
 1394 01ce F0EE409A 		vmov.f32	s19, s0
 1395              	.LVL109:
 171:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;
 1396              		.loc 1 171 13 is_stmt 1 view .LVU358
 171:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;
 1397              		.loc 1 171 46 is_stmt 0 view .LVU359
 1398 01d2 0221     		movs	r1, #2
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 39


 1399 01d4 0020     		movs	r0, #0
 1400 01d6 FFF7FEFF 		bl	sensor_user_read
 1401              	.LVL110:
 171:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;
 1402              		.loc 1 171 26 view .LVU360
 1403 01da 0068     		ldr	r0, [r0]
 1404 01dc FFF7FEFF 		bl	_IQ15toF
 1405              	.LVL111:
 171:../BLDCMotor/motorctrl.c ****             motordebug.ele_angle = elec_theta;
 1406              		.loc 1 171 24 view .LVU361
 1407 01e0 4F4B     		ldr	r3, .L77+56
 1408 01e2 83ED000A 		vstr.32	s0, [r3]
 172:../BLDCMotor/motorctrl.c **** 
 1409              		.loc 1 172 13 is_stmt 1 view .LVU362
 172:../BLDCMotor/motorctrl.c **** 
 1410              		.loc 1 172 34 is_stmt 0 view .LVU363
 1411 01e6 C4ED1C9A 		vstr.32	s19, [r4, #112]
 187:../BLDCMotor/motorctrl.c ****             #if 0/*Èó≠ÁéØÊéßÂà∂*/
 1412              		.loc 1 187 13 is_stmt 1 view .LVU364
 187:../BLDCMotor/motorctrl.c ****             #if 0/*Èó≠ÁéØÊéßÂà∂*/
 1413              		.loc 1 187 18 is_stmt 0 view .LVU365
 1414 01ea 0023     		movs	r3, #0
 1415 01ec 0893     		str	r3, [sp, #32]	@ float
 1416 01ee 0993     		str	r3, [sp, #36]	@ float
 1417 01f0 0023     		movs	r3, #0
 1418 01f2 0A93     		str	r3, [sp, #40]
 1419 01f4 46F26663 		movw	r3, #26214
 1420 01f8 0B93     		str	r3, [sp, #44]
 195:../BLDCMotor/motorctrl.c ****                 {
 1421              		.loc 1 195 17 is_stmt 1 view .LVU366
 195:../BLDCMotor/motorctrl.c ****                 {
 1422              		.loc 1 195 31 is_stmt 0 view .LVU367
 1423 01fa D4ED127A 		vldr.32	s15, [r4, #72]
 195:../BLDCMotor/motorctrl.c ****                 {
 1424              		.loc 1 195 20 view .LVU368
 1425 01fe F5EEC07A 		vcmpe.f32	s15, #0
 1426 0202 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1427 0206 60D4     		bmi	.L76
 199:../BLDCMotor/motorctrl.c ****                     i_abc.b = -i_abc.b;
 1428              		.loc 1 199 21 is_stmt 1 view .LVU369
 199:../BLDCMotor/motorctrl.c ****                     i_abc.b = -i_abc.b;
 1429              		.loc 1 199 31 is_stmt 0 view .LVU370
 1430 0208 F1EE497A 		vneg.f32	s15, s18
 199:../BLDCMotor/motorctrl.c ****                     i_abc.b = -i_abc.b;
 1431              		.loc 1 199 29 view .LVU371
 1432 020c CDED147A 		vstr.32	s15, [sp, #80]
 200:../BLDCMotor/motorctrl.c ****                     i_abc.c = -i_abc.c;
 1433              		.loc 1 200 21 is_stmt 1 view .LVU372
 200:../BLDCMotor/motorctrl.c ****                     i_abc.c = -i_abc.c;
 1434              		.loc 1 200 31 is_stmt 0 view .LVU373
 1435 0210 F1EE688A 		vneg.f32	s17, s17
 200:../BLDCMotor/motorctrl.c ****                     i_abc.c = -i_abc.c;
 1436              		.loc 1 200 29 view .LVU374
 1437 0214 CDED158A 		vstr.32	s17, [sp, #84]
 201:../BLDCMotor/motorctrl.c ****                     _currmentloop(i_abc,elec_theta);
 1438              		.loc 1 201 21 is_stmt 1 view .LVU375
 201:../BLDCMotor/motorctrl.c ****                     _currmentloop(i_abc,elec_theta);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 40


 1439              		.loc 1 201 31 is_stmt 0 view .LVU376
 1440 0218 B1EE488A 		vneg.f32	s16, s16
 201:../BLDCMotor/motorctrl.c ****                     _currmentloop(i_abc,elec_theta);
 1441              		.loc 1 201 29 view .LVU377
 1442 021c 8DED168A 		vstr.32	s16, [sp, #88]
 202:../BLDCMotor/motorctrl.c ****                 }
 1443              		.loc 1 202 21 is_stmt 1 view .LVU378
 1444 0220 17AB     		add	r3, sp, #92
 1445 0222 93E80700 		ldm	r3, {r0, r1, r2}
 1446 0226 8DE80700 		stm	sp, {r0, r1, r2}
 1447 022a 14AB     		add	r3, sp, #80
 1448 022c 0ECB     		ldm	r3, {r1, r2, r3}
 1449 022e B0EE690A 		vmov.f32	s0, s19
 1450 0232 04A8     		add	r0, sp, #16
 1451 0234 FFF7FEFF 		bl	_currmentloop
 1452              	.LVL112:
 1453              	.L72:
 205:../BLDCMotor/motorctrl.c ****                 udq.d = 0.0f;
 1454              		.loc 1 205 17 discriminator 2 view .LVU379
 205:../BLDCMotor/motorctrl.c ****                 udq.d = 0.0f;
 1455              		.loc 1 205 23 is_stmt 0 discriminator 2 view .LVU380
 1456 0238 3A4B     		ldr	r3, .L77+60
 1457 023a 0993     		str	r3, [sp, #36]	@ float
 206:../BLDCMotor/motorctrl.c ****                 // udq.q = _speedloop(300.0f,motordebug.real_speed);
 1458              		.loc 1 206 17 is_stmt 1 discriminator 2 view .LVU381
 209:../BLDCMotor/motorctrl.c ****             float pwm_phase = elec_theta + 1.5f * current_meas_period * speed_real*7.0;
 1459              		.loc 1 209 13 discriminator 2 view .LVU382
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1460              		.loc 1 210 13 discriminator 2 view .LVU383
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1461              		.loc 1 210 49 is_stmt 0 discriminator 2 view .LVU384
 1462 023c 3A4B     		ldr	r3, .L77+64
 1463 023e D3ED007A 		vldr.32	s15, [r3]
 1464 0242 B7EE087A 		vmov.f32	s14, #1.5e+0
 1465 0246 67EE877A 		vmul.f32	s15, s15, s14
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1466              		.loc 1 210 71 discriminator 2 view .LVU385
 1467 024a 354B     		ldr	r3, .L77+56
 1468 024c 93ED007A 		vldr.32	s14, [r3]
 1469 0250 67EE877A 		vmul.f32	s15, s15, s14
 1470 0254 17EE900A 		vmov	r0, s15
 1471 0258 FFF7FEFF 		bl	__aeabi_f2d
 1472              	.LVL113:
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1473              		.loc 1 210 83 discriminator 2 view .LVU386
 1474 025c 0022     		movs	r2, #0
 1475 025e 334B     		ldr	r3, .L77+68
 1476 0260 FFF7FEFF 		bl	__aeabi_dmul
 1477              	.LVL114:
 1478 0264 0446     		mov	r4, r0
 1479 0266 0D46     		mov	r5, r1
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1480              		.loc 1 210 42 discriminator 2 view .LVU387
 1481 0268 19EE900A 		vmov	r0, s19
 1482 026c FFF7FEFF 		bl	__aeabi_f2d
 1483              	.LVL115:
 1484 0270 2246     		mov	r2, r4
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 41


 1485 0272 2B46     		mov	r3, r5
 1486 0274 FFF7FEFF 		bl	__aeabi_dadd
 1487              	.LVL116:
 210:../BLDCMotor/motorctrl.c ****             motordebug.self_ele_theta = pwm_phase;
 1488              		.loc 1 210 19 discriminator 2 view .LVU388
 1489 0278 FFF7FEFF 		bl	__aeabi_d2f
 1490              	.LVL117:
 1491 027c 00EE100A 		vmov	s0, r0
 1492              	.LVL118:
 211:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, pwm_phase);  
 1493              		.loc 1 211 13 is_stmt 1 discriminator 2 view .LVU389
 211:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, pwm_phase);  
 1494              		.loc 1 211 39 is_stmt 0 discriminator 2 view .LVU390
 1495 0280 1F4B     		ldr	r3, .L77+24
 1496 0282 5867     		str	r0, [r3, #116]	@ float
 212:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 1497              		.loc 1 212 13 is_stmt 1 discriminator 2 view .LVU391
 212:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 1498              		.loc 1 212 19 is_stmt 0 discriminator 2 view .LVU392
 1499 0284 0CAC     		add	r4, sp, #48
 1500 0286 0B9B     		ldr	r3, [sp, #44]
 1501 0288 0093     		str	r3, [sp]
 1502 028a 08AB     		add	r3, sp, #32
 1503 028c 0ECB     		ldm	r3, {r1, r2, r3}
 1504 028e 2046     		mov	r0, r4
 1505              	.LVL119:
 212:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 1506              		.loc 1 212 19 discriminator 2 view .LVU393
 1507 0290 FFF7FEFF 		bl	_2r_2s
 1508              	.LVL120:
 213:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
 1509              		.loc 1 213 13 is_stmt 1 discriminator 2 view .LVU394
 213:../BLDCMotor/motorctrl.c ****             motor_set_pwm(_svpwm(uab.alpha,uab.beta)); 
 1510              		.loc 1 213 19 is_stmt 0 discriminator 2 view .LVU395
 1511 0294 04AD     		add	r5, sp, #16
 1512 0296 0F9B     		ldr	r3, [sp, #60]
 1513 0298 0093     		str	r3, [sp]
 1514 029a 94E80E00 		ldm	r4, {r1, r2, r3}
 1515 029e 2846     		mov	r0, r5
 1516 02a0 FFF7FEFF 		bl	_limit_voltagecircle
 1517              	.LVL121:
 1518 02a4 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 1519 02a8 84E80F00 		stm	r4, {r0, r1, r2, r3}
 214:../BLDCMotor/motorctrl.c **** #endif
 1520              		.loc 1 214 13 is_stmt 1 discriminator 2 view .LVU396
 1521 02ac DDED0D0A 		vldr.32	s1, [sp, #52]
 1522 02b0 9DED0C0A 		vldr.32	s0, [sp, #48]
 1523 02b4 FFF7FEFF 		bl	_svpwm
 1524              	.LVL122:
 1525 02b8 8DED1D0A 		vstr.32	s0, [sp, #116]
 1526 02bc CDED1E0A 		vstr.32	s1, [sp, #120]
 1527 02c0 8DED1F1A 		vstr.32	s2, [sp, #124]
 1528 02c4 FFF7FEFF 		bl	motor_set_pwm
 1529              	.LVL123:
 1530              	.LBE4:
 217:../BLDCMotor/motorctrl.c ****         default:
 1531              		.loc 1 217 13 discriminator 2 view .LVU397
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 42


 1532              	.LBE6:
 221:../BLDCMotor/motorctrl.c **** 
 1533              		.loc 1 221 1 is_stmt 0 discriminator 2 view .LVU398
 1534 02c8 62E7     		b	.L62
 1535              	.L76:
 1536              	.LBB7:
 1537              	.LBB5:
 197:../BLDCMotor/motorctrl.c ****                 }else{
 1538              		.loc 1 197 17 is_stmt 1 view .LVU399
 1539 02ca 17AB     		add	r3, sp, #92
 1540 02cc 93E80700 		ldm	r3, {r0, r1, r2}
 1541 02d0 8DE80700 		stm	sp, {r0, r1, r2}
 1542 02d4 14AB     		add	r3, sp, #80
 1543 02d6 0ECB     		ldm	r3, {r1, r2, r3}
 1544 02d8 9FED0F0A 		vldr.32	s0, .L77+48
 1545 02dc 39EE800A 		vadd.f32	s0, s19, s0
 1546 02e0 04A8     		add	r0, sp, #16
 1547 02e2 FFF7FEFF 		bl	_currmentloop
 1548              	.LVL124:
 1549 02e6 A7E7     		b	.L72
 1550              	.L78:
 1551              		.align	2
 1552              	.L77:
 1553 02e8 00000000 		.word	.LANCHOR11
 1554 02ec 00000000 		.word	.LANCHOR12
 1555 02f0 00000000 		.word	.LANCHOR13
 1556 02f4 3333B33E 		.word	1051931443
 1557 02f8 FFAFB23E 		.word	1051897855
 1558 02fc 00000000 		.word	.LANCHOR0
 1559 0300 00000000 		.word	.LANCHOR1
 1560 0304 00000000 		.word	.LANCHOR14
 1561 0308 00000000 		.word	.LC2
 1562 030c 295C0F3F 		.word	1057971241
 1563 0310 00000000 		.word	.LANCHOR15
 1564 0314 9A99993E 		.word	1050253722
 1565 0318 D80FC93F 		.word	1070141400
 1566 031c 00000000 		.word	.LANCHOR9
 1567 0320 00000000 		.word	.LANCHOR16
 1568 0324 CDCCCC3E 		.word	1053609165
 1569 0328 00000000 		.word	current_meas_period
 1570 032c 00001C40 		.word	1075576832
 1571              	.LBE5:
 1572              	.LBE7:
 1573              		.cfi_endproc
 1574              	.LFE236:
 1576              		.global	test_c
 1577              		.global	test_b
 1578              		.global	test_a
 1579              		.global	c1
 1580              		.global	b1
 1581              		.global	a1
 1582              		.global	speed_real
 1583              		.global	motordebug
 1584              		.global	mt_param
 1585              		.section	.bss._state.6,"aw",%nobits
 1586              		.align	1
 1587              		.set	.LANCHOR10,. + 0
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 43


 1590              	_state.6:
 1591 0000 0000     		.space	2
 1592              		.section	.bss.a1,"aw",%nobits
 1593              		.align	2
 1594              		.set	.LANCHOR11,. + 0
 1597              	a1:
 1598 0000 00000000 		.space	4
 1599              		.section	.bss.b1,"aw",%nobits
 1600              		.align	2
 1601              		.set	.LANCHOR12,. + 0
 1604              	b1:
 1605 0000 00000000 		.space	4
 1606              		.section	.bss.c1,"aw",%nobits
 1607              		.align	2
 1608              		.set	.LANCHOR13,. + 0
 1611              	c1:
 1612 0000 00000000 		.space	4
 1613              		.section	.bss.cnt.1,"aw",%nobits
 1614              		.align	1
 1615              		.set	.LANCHOR2,. + 0
 1618              	cnt.1:
 1619 0000 0000     		.space	2
 1620              		.section	.bss.cnt.4,"aw",%nobits
 1621              		.align	1
 1622              		.set	.LANCHOR15,. + 0
 1625              	cnt.4:
 1626 0000 0000     		.space	2
 1627              		.section	.bss.cnt_.2,"aw",%nobits
 1628              		.align	1
 1629              		.set	.LANCHOR8,. + 0
 1632              	cnt_.2:
 1633 0000 0000     		.space	2
 1634              		.section	.bss.motordebug,"aw",%nobits
 1635              		.align	2
 1636              		.set	.LANCHOR1,. + 0
 1639              	motordebug:
 1640 0000 00000000 		.space	136
 1640      00000000 
 1640      00000000 
 1640      00000000 
 1640      00000000 
 1641              		.section	.bss.mt_param,"aw",%nobits
 1642              		.align	2
 1643              		.set	.LANCHOR0,. + 0
 1646              	mt_param:
 1647 0000 00000000 		.space	116
 1647      00000000 
 1647      00000000 
 1647      00000000 
 1647      00000000 
 1648              		.section	.bss.pre_theta.0,"aw",%nobits
 1649              		.align	2
 1650              		.set	.LANCHOR3,. + 0
 1653              	pre_theta.0:
 1654 0000 00000000 		.space	4
 1655              		.section	.bss.sg_MecThetaOffset,"aw",%nobits
 1656              		.align	2
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 44


 1657              		.set	.LANCHOR9,. + 0
 1660              	sg_MecThetaOffset:
 1661 0000 00000000 		.space	4
 1662              		.section	.bss.speed_real,"aw",%nobits
 1663              		.align	2
 1664              		.set	.LANCHOR16,. + 0
 1667              	speed_real:
 1668 0000 00000000 		.space	4
 1669              		.section	.bss.state0_.5,"aw",%nobits
 1670              		.align	1
 1671              		.set	.LANCHOR14,. + 0
 1674              	state0_.5:
 1675 0000 0000     		.space	2
 1676              		.section	.bss.test_a,"aw",%nobits
 1677              		.align	2
 1678              		.set	.LANCHOR4,. + 0
 1681              	test_a:
 1682 0000 00000000 		.space	4
 1683              		.section	.bss.test_b,"aw",%nobits
 1684              		.align	2
 1685              		.set	.LANCHOR5,. + 0
 1688              	test_b:
 1689 0000 00000000 		.space	4
 1690              		.section	.bss.test_c,"aw",%nobits
 1691              		.align	2
 1692              		.set	.LANCHOR6,. + 0
 1695              	test_c:
 1696 0000 00000000 		.space	4
 1697              		.section	.data.state_.3,"aw"
 1698              		.align	1
 1699              		.set	.LANCHOR7,. + 0
 1702              	state_.3:
 1703 0000 0100     		.short	1
 1704              		.text
 1705              	.Letext0:
 1706              		.file 2 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_defa
 1707              		.file 3 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h
 1708              		.file 4 "../Common/method/pid.h"
 1709              		.file 5 "../Common/method/filter.h"
 1710              		.file 6 "../Common/IQMath/ti/IQmathLib.h"
 1711              		.file 7 "../BLDCMotor/motorctrl_common.h"
 1712              		.file 8 "./Board/board.h"
 1713              		.file 9 "../BLDCMotor/motor_protocol.h"
 1714              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 1715              		.file 11 "../Sensor/sensor.h"
 1716              		.file 12 "Inc/tim.h"
 1717              		.file 13 "Inc/adc.h"
 1718              		.file 14 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\math.h"
 1719              		.file 15 "../Common/debuglog/SEGGER_RTT_V792h/RTT/SEGGER_RTT.h"
 1720              		.file 16 "../BLDCMotor/./motorctrl.h"
 1721              		.file 17 "<built-in>"
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 45


DEFINED SYMBOLS
                            *ABS*:00000000 motorctrl.c
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:20     .text.mc_param_init:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:25     .text.mc_param_init:00000000 mc_param_init
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:97     .text.mc_param_init:0000008c $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:104    .text.motor_enable:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:109    .text.motor_enable:00000000 motor_enable
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:135    .text.trigger_software_reset:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:140    .text.trigger_software_reset:00000000 trigger_software_reset
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:160    .text.motor_disable:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:165    .text.motor_disable:00000000 motor_disable
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:188    .text.mc_param_deinit:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:193    .text.mc_param_deinit:00000000 mc_param_deinit
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:221    .text.mc_param_deinit:00000018 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:227    .text.motor_speedcale:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:232    .text.motor_speedcale:00000000 motor_speedcale
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:367    .text.motor_speedcale:000000bc $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:379    .text._currmentloop:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:384    .text._currmentloop:00000000 _currmentloop
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:560    .text._currmentloop:000000d0 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:566    .text.motor_set_pwm:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:571    .text.motor_set_pwm:00000000 motor_set_pwm
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:611    .text.motor_set_pwm:0000002c $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:618    .text._get_angleoffset:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:623    .text._get_angleoffset:00000000 _get_angleoffset
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:769    .text._get_angleoffset:000000ac $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:778    .rodata.motortctrl_process.str1.4:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:785    .text.motortctrl_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:791    .text.motortctrl_process:00000000 motortctrl_process
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:816    .text.motortctrl_process:00000012 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:820    .text.motortctrl_process:00000016 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:899    .text.motortctrl_process:00000074 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:910    .text._limit_voltagecircle:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:916    .text._limit_voltagecircle:00000000 _limit_voltagecircle
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1032   .rodata._50uscycle_process.str1.4:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1038   .text._50uscycle_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1044   .text._50uscycle_process:00000000 _50uscycle_process
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1167   .text._50uscycle_process:0000009c $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1553   .text._50uscycle_process:000002e8 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1695   .bss.test_c:00000000 test_c
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1688   .bss.test_b:00000000 test_b
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1681   .bss.test_a:00000000 test_a
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1611   .bss.c1:00000000 c1
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1604   .bss.b1:00000000 b1
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1597   .bss.a1:00000000 a1
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1667   .bss.speed_real:00000000 speed_real
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1639   .bss.motordebug:00000000 motordebug
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1646   .bss.mt_param:00000000 mt_param
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1586   .bss._state.6:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1590   .bss._state.6:00000000 _state.6
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1593   .bss.a1:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1600   .bss.b1:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1607   .bss.c1:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1614   .bss.cnt.1:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1618   .bss.cnt.1:00000000 cnt.1
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1621   .bss.cnt.4:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1625   .bss.cnt.4:00000000 cnt.4
ARM GAS  C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s 			page 46


C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1628   .bss.cnt_.2:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1632   .bss.cnt_.2:00000000 cnt_.2
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1635   .bss.motordebug:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1642   .bss.mt_param:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1649   .bss.pre_theta.0:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1653   .bss.pre_theta.0:00000000 pre_theta.0
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1656   .bss.sg_MecThetaOffset:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1660   .bss.sg_MecThetaOffset:00000000 sg_MecThetaOffset
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1663   .bss.speed_real:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1670   .bss.state0_.5:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1674   .bss.state0_.5:00000000 state0_.5
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1677   .bss.test_a:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1684   .bss.test_b:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1691   .bss.test_c:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1698   .data.state_.3:00000000 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1702   .data.state_.3:00000000 state_.3
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1172   .text._50uscycle_process:000000a1 $d
C:\Users\57308\AppData\Local\Temp\cc4qiZpQ.s:1172   .text._50uscycle_process:000000a2 $t

UNDEFINED SYMBOLS
pid_init
lowfilter_init
tim_pwm_enable
tim_tigger_adc
adc_start
HAL_NVIC_SystemReset
tim_pwm_disable
adc_stop
memset
lowfilter_cale
_3s_2s
_2s_2r
pid_contrl
tim_set_pwm
_2r_2s
_svpwm
sensor_user_read
_IQ20toF
motorprotocol_process
motorprotocol_tramit
g_respondmap
__aeabi_f2d
__aeabi_d2f
sqrt
__aeabi_dmul
__aeabi_dadd
SEGGER_RTT_printf
_normalize_angle
_IQ15toF
current_meas_period
