ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"focmethod_q15.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._svpwm_Q,"ax",%progbits
  20              		.align	1
  21              		.global	_svpwm_Q
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_svpwm_Q:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "../BLDCMotor/focmethod_q15.c"
   1:../BLDCMotor/focmethod_q15.c **** #include "stdint.h"
   2:../BLDCMotor/focmethod_q15.c **** #include "motorctrl_common.h"
   3:../BLDCMotor/focmethod_q15.c **** 
   4:../BLDCMotor/focmethod_q15.c **** #define SQRT3_Q15            (56756)
   5:../BLDCMotor/focmethod_q15.c **** #define T_PWM_Q15            (32768)
   6:../BLDCMotor/focmethod_q15.c **** #define T_UDC_Q15            (1365) 
   7:../BLDCMotor/focmethod_q15.c **** 
   8:../BLDCMotor/focmethod_q15.c **** duty_t _svpwm_Q(int32_t ualpha,int32_t ubeta)
   9:../BLDCMotor/focmethod_q15.c **** {
  30              		.loc 1 9 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 40
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 9 1 is_stmt 0 view .LVU1
  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 8AB0     		sub	sp, sp, #40
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 64
  47 0006 0746     		mov	r7, r0
  10:../BLDCMotor/focmethod_q15.c ****     uint8_t sector;
  48              		.loc 1 10 5 is_stmt 1 view .LVU2
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 2


  11:../BLDCMotor/focmethod_q15.c ****     sector = 0;
  49              		.loc 1 11 5 view .LVU3
  50              	.LVL1:
  12:../BLDCMotor/focmethod_q15.c ****     if (ubeta > 0)
  51              		.loc 1 12 5 view .LVU4
  52              		.loc 1 12 8 is_stmt 0 view .LVU5
  53 0008 0E1E     		subs	r6, r1, #0
  54 000a 46DD     		ble	.L24
  13:../BLDCMotor/focmethod_q15.c ****     {
  14:../BLDCMotor/focmethod_q15.c ****         sector = 1;
  55              		.loc 1 14 16 view .LVU6
  56 000c 0125     		movs	r5, #1
  57              	.L2:
  58              	.LVL2:
  15:../BLDCMotor/focmethod_q15.c ****     }
  16:../BLDCMotor/focmethod_q15.c ****     if ((((SQRT3_Q15*ualpha)>>15) - ubeta)>>1 > 0)
  59              		.loc 1 16 5 is_stmt 1 view .LVU7
  60              		.loc 1 16 21 is_stmt 0 view .LVU8
  61 000e 4DF6B453 		movw	r3, #56756
  62 0012 07FB03F3 		mul	r3, r7, r3
  63              		.loc 1 16 35 view .LVU9
  64 0016 C6EBE333 		rsb	r3, r6, r3, asr #15
  65              		.loc 1 16 8 view .LVU10
  66 001a 012B     		cmp	r3, #1
  67 001c 01DD     		ble	.L3
  17:../BLDCMotor/focmethod_q15.c ****     {
  18:../BLDCMotor/focmethod_q15.c ****         sector += 2;
  68              		.loc 1 18 9 is_stmt 1 view .LVU11
  69              		.loc 1 18 16 is_stmt 0 view .LVU12
  70 001e 0235     		adds	r5, r5, #2
  71              	.LVL3:
  72              		.loc 1 18 16 view .LVU13
  73 0020 EDB2     		uxtb	r5, r5
  74              	.LVL4:
  75              	.L3:
  19:../BLDCMotor/focmethod_q15.c ****     }
  20:../BLDCMotor/focmethod_q15.c ****     if ((((-SQRT3_Q15*ualpha)>>15) - ubeta)>>1 > 0)
  76              		.loc 1 20 5 is_stmt 1 view .LVU14
  77              		.loc 1 20 22 is_stmt 0 view .LVU15
  78 0022 594B     		ldr	r3, .L25
  79 0024 07FB03F3 		mul	r3, r7, r3
  80              		.loc 1 20 36 view .LVU16
  81 0028 C6EBE333 		rsb	r3, r6, r3, asr #15
  82              		.loc 1 20 8 view .LVU17
  83 002c 012B     		cmp	r3, #1
  84 002e 01DD     		ble	.L4
  21:../BLDCMotor/focmethod_q15.c ****     {
  22:../BLDCMotor/focmethod_q15.c ****         sector += 4;
  85              		.loc 1 22 9 is_stmt 1 view .LVU18
  86              		.loc 1 22 16 is_stmt 0 view .LVU19
  87 0030 0435     		adds	r5, r5, #4
  88              	.LVL5:
  89              		.loc 1 22 16 view .LVU20
  90 0032 EDB2     		uxtb	r5, r5
  91              	.LVL6:
  92              	.L4:
  23:../BLDCMotor/focmethod_q15.c ****     }
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 3


  24:../BLDCMotor/focmethod_q15.c **** 
  25:../BLDCMotor/focmethod_q15.c ****     int32_t s_vector = 0,m_vector = 0;
  93              		.loc 1 25 5 is_stmt 1 view .LVU21
  26:../BLDCMotor/focmethod_q15.c ****     int32_t X = 0,Y = 0,Z = 0;
  94              		.loc 1 26 5 view .LVU22
  27:../BLDCMotor/focmethod_q15.c ****     X = _IQ15mpy(_IQ15mpy(SQRT3_Q15,ubeta),T_UDC_Q15);
  95              		.loc 1 27 5 view .LVU23
  96              		.loc 1 27 9 is_stmt 0 view .LVU24
  97 0034 3146     		mov	r1, r6
  98              	.LVL7:
  99              		.loc 1 27 9 view .LVU25
 100 0036 4DF6B450 		movw	r0, #56756
 101              	.LVL8:
 102              		.loc 1 27 9 view .LVU26
 103 003a FFF7FEFF 		bl	_IQ15mpy
 104              	.LVL9:
 105 003e 40F25551 		movw	r1, #1365
 106 0042 FFF7FEFF 		bl	_IQ15mpy
 107              	.LVL10:
 108 0046 8046     		mov	r8, r0
 109              	.LVL11:
  28:../BLDCMotor/focmethod_q15.c ****     Y = _IQ15mpy(_IQ15mpy(_IQ15(1.5),ualpha) + _IQ15mpy((SQRT3_Q15>>1),ubeta),T_UDC_Q15);
 110              		.loc 1 28 5 is_stmt 1 view .LVU27
 111              		.loc 1 28 18 is_stmt 0 view .LVU28
 112 0048 3946     		mov	r1, r7
 113 004a 4FF44040 		mov	r0, #49152
 114              	.LVL12:
 115              		.loc 1 28 18 view .LVU29
 116 004e FFF7FEFF 		bl	_IQ15mpy
 117              	.LVL13:
 118 0052 0446     		mov	r4, r0
 119              		.loc 1 28 48 view .LVU30
 120 0054 3146     		mov	r1, r6
 121 0056 46F6DA60 		movw	r0, #28378
 122 005a FFF7FEFF 		bl	_IQ15mpy
 123              	.LVL14:
 124              		.loc 1 28 9 view .LVU31
 125 005e 40F25551 		movw	r1, #1365
 126 0062 2044     		add	r0, r0, r4
 127 0064 FFF7FEFF 		bl	_IQ15mpy
 128              	.LVL15:
 129 0068 0446     		mov	r4, r0
 130              	.LVL16:
  29:../BLDCMotor/focmethod_q15.c ****     Z = _IQ15mpy(_IQ15mpy(_IQ15(-1.5),ualpha) + _IQ15mpy((SQRT3_Q15>>1),ubeta),T_UDC_Q15);
 131              		.loc 1 29 5 is_stmt 1 view .LVU32
 132              		.loc 1 29 18 is_stmt 0 view .LVU33
 133 006a 3946     		mov	r1, r7
 134 006c 4748     		ldr	r0, .L25+4
 135              	.LVL17:
 136              		.loc 1 29 18 view .LVU34
 137 006e FFF7FEFF 		bl	_IQ15mpy
 138              	.LVL18:
 139 0072 0746     		mov	r7, r0
 140              	.LVL19:
 141              		.loc 1 29 49 view .LVU35
 142 0074 3146     		mov	r1, r6
 143 0076 46F6DA60 		movw	r0, #28378
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 4


 144 007a FFF7FEFF 		bl	_IQ15mpy
 145              	.LVL20:
 146              		.loc 1 29 9 view .LVU36
 147 007e 40F25551 		movw	r1, #1365
 148 0082 3844     		add	r0, r0, r7
 149 0084 FFF7FEFF 		bl	_IQ15mpy
 150              	.LVL21:
 151 0088 0346     		mov	r3, r0
 152              	.LVL22:
  30:../BLDCMotor/focmethod_q15.c ****    switch (sector) {
 153              		.loc 1 30 4 is_stmt 1 view .LVU37
 154 008a 6A1E     		subs	r2, r5, #1
 155 008c 052A     		cmp	r2, #5
 156 008e 06D8     		bhi	.L5
 157 0090 DFE802F0 		tbb	[pc, r2]
 158              	.L7:
 159 0094 0B       		.byte	(.L12-.L7)/2
 160 0095 08       		.byte	(.L11-.L7)/2
 161 0096 25       		.byte	(.L10-.L7)/2
 162 0097 28       		.byte	(.L9-.L7)/2
 163 0098 2C       		.byte	(.L8-.L7)/2
 164 0099 2F       		.byte	(.L6-.L7)/2
 165              	.LVL23:
 166              		.p2align 1
 167              	.L24:
  11:../BLDCMotor/focmethod_q15.c ****     if (ubeta > 0)
 168              		.loc 1 11 12 is_stmt 0 view .LVU38
 169 009a 0025     		movs	r5, #0
 170 009c B7E7     		b	.L2
 171              	.LVL24:
 172              	.L5:
 173              		.loc 1 30 4 view .LVU39
 174 009e 0023     		movs	r3, #0
 175 00a0 1C46     		mov	r4, r3
 176              	.LVL25:
 177              		.loc 1 30 4 view .LVU40
 178 00a2 02E0     		b	.L12
 179              	.LVL26:
 180              	.L11:
  31:../BLDCMotor/focmethod_q15.c ****         case 1: m_vector = Z;s_vector = Y ;break;
  32:../BLDCMotor/focmethod_q15.c ****         case 2:m_vector = Y ;s_vector = -X;break;
 181              		.loc 1 32 16 is_stmt 1 view .LVU41
 182              		.loc 1 32 30 view .LVU42
 183              		.loc 1 32 44 view .LVU43
 184              		.loc 1 32 25 is_stmt 0 view .LVU44
 185 00a4 2346     		mov	r3, r4
 186              		.loc 1 32 39 view .LVU45
 187 00a6 C8F10004 		rsb	r4, r8, #0
 188              	.LVL27:
 189              	.L12:
  33:../BLDCMotor/focmethod_q15.c ****         case 3:m_vector = -Z;s_vector = X ;break;
  34:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
  35:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
  36:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
  37:../BLDCMotor/focmethod_q15.c ****         default:
  38:../BLDCMotor/focmethod_q15.c ****         break;
  39:../BLDCMotor/focmethod_q15.c ****     }
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 5


  40:../BLDCMotor/focmethod_q15.c ****     if (m_vector + s_vector > T_PWM_Q15) 
 190              		.loc 1 40 5 is_stmt 1 view .LVU46
 191              		.loc 1 40 18 is_stmt 0 view .LVU47
 192 00aa E218     		adds	r2, r4, r3
 193              		.loc 1 40 8 view .LVU48
 194 00ac B2F5004F 		cmp	r2, #32768
 195 00b0 04DD     		ble	.L13
  41:../BLDCMotor/focmethod_q15.c ****     {
  42:../BLDCMotor/focmethod_q15.c ****         m_vector /= (m_vector + s_vector);
 196              		.loc 1 42 9 is_stmt 1 view .LVU49
 197              		.loc 1 42 18 is_stmt 0 view .LVU50
 198 00b2 93FBF2F3 		sdiv	r3, r3, r2
 199              	.LVL28:
  43:../BLDCMotor/focmethod_q15.c ****         s_vector /= m_vector + s_vector;
 200              		.loc 1 43 9 is_stmt 1 view .LVU51
 201              		.loc 1 43 30 is_stmt 0 view .LVU52
 202 00b6 E218     		adds	r2, r4, r3
 203              		.loc 1 43 18 view .LVU53
 204 00b8 94FBF2F4 		sdiv	r4, r4, r2
 205              	.LVL29:
 206              	.L13:
  44:../BLDCMotor/focmethod_q15.c ****     }
  45:../BLDCMotor/focmethod_q15.c ****     int32_t Ta,Tb,Tc;
 207              		.loc 1 45 5 is_stmt 1 view .LVU54
  46:../BLDCMotor/focmethod_q15.c ****     Ta = (T_PWM_Q15-m_vector-s_vector) >> 2;  
 208              		.loc 1 46 5 view .LVU55
 209              		.loc 1 46 20 is_stmt 0 view .LVU56
 210 00bc C3F50040 		rsb	r0, r3, #32768
 211              	.LVL30:
 212              		.loc 1 46 29 view .LVU57
 213 00c0 001B     		subs	r0, r0, r4
 214              		.loc 1 46 8 view .LVU58
 215 00c2 8210     		asrs	r2, r0, #2
 216              	.LVL31:
  47:../BLDCMotor/focmethod_q15.c ****     Tb = Ta + (m_vector>>1);
 217              		.loc 1 47 5 is_stmt 1 view .LVU59
 218              		.loc 1 47 24 is_stmt 0 view .LVU60
 219 00c4 5B10     		asrs	r3, r3, #1
 220              	.LVL32:
 221              		.loc 1 47 8 view .LVU61
 222 00c6 03EBA003 		add	r3, r3, r0, asr #2
 223              	.LVL33:
  48:../BLDCMotor/focmethod_q15.c ****     Tc = Tb + (s_vector>>1);
 224              		.loc 1 48 5 is_stmt 1 view .LVU62
 225              		.loc 1 48 8 is_stmt 0 view .LVU63
 226 00ca 03EB6404 		add	r4, r3, r4, asr #1
 227              	.LVL34:
  49:../BLDCMotor/focmethod_q15.c **** 
  50:../BLDCMotor/focmethod_q15.c ****     int32_t Tcmp1,Tcmp2,Tcmp3;
 228              		.loc 1 50 5 is_stmt 1 view .LVU64
  51:../BLDCMotor/focmethod_q15.c ****     switch (sector) {
 229              		.loc 1 51 5 view .LVU65
 230 00ce 013D     		subs	r5, r5, #1
 231              	.LVL35:
 232              		.loc 1 51 5 is_stmt 0 view .LVU66
 233 00d0 052D     		cmp	r5, #5
 234 00d2 16D8     		bhi	.L21
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 6


 235 00d4 DFE805F0 		tbb	[pc, r5]
 236              	.L16:
 237 00d8 15       		.byte	(.L21-.L16)/2
 238 00d9 11       		.byte	(.L20-.L16)/2
 239 00da 47       		.byte	(.L19-.L16)/2
 240 00db 4B       		.byte	(.L18-.L16)/2
 241 00dc 50       		.byte	(.L17-.L16)/2
 242 00dd 54       		.byte	(.L15-.L16)/2
 243              	.LVL36:
 244              		.p2align 1
 245              	.L10:
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 246              		.loc 1 33 16 is_stmt 1 view .LVU67
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 247              		.loc 1 33 25 is_stmt 0 view .LVU68
 248 00de 4342     		rsbs	r3, r0, #0
 249              	.LVL37:
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 250              		.loc 1 33 30 is_stmt 1 view .LVU69
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 251              		.loc 1 33 44 view .LVU70
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 252              		.loc 1 33 39 is_stmt 0 view .LVU71
 253 00e0 4446     		mov	r4, r8
 254              	.LVL38:
  33:../BLDCMotor/focmethod_q15.c ****         case 4:m_vector = -X;s_vector = Z ;break;
 255              		.loc 1 33 9 view .LVU72
 256 00e2 E2E7     		b	.L12
 257              	.LVL39:
 258              	.L9:
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 259              		.loc 1 34 16 is_stmt 1 view .LVU73
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 260              		.loc 1 34 30 view .LVU74
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 261              		.loc 1 34 44 view .LVU75
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 262              		.loc 1 34 39 is_stmt 0 view .LVU76
 263 00e4 0446     		mov	r4, r0
 264              	.LVL40:
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 265              		.loc 1 34 25 view .LVU77
 266 00e6 C8F10003 		rsb	r3, r8, #0
 267              	.LVL41:
  34:../BLDCMotor/focmethod_q15.c ****         case 5:m_vector = X ;s_vector = -Y;break;
 268              		.loc 1 34 9 view .LVU78
 269 00ea DEE7     		b	.L12
 270              	.LVL42:
 271              	.L8:
  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 272              		.loc 1 35 16 is_stmt 1 view .LVU79
  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 273              		.loc 1 35 30 view .LVU80
  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 274              		.loc 1 35 39 is_stmt 0 view .LVU81
 275 00ec 6442     		rsbs	r4, r4, #0
 276              	.LVL43:
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 7


  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 277              		.loc 1 35 44 is_stmt 1 view .LVU82
  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 278              		.loc 1 35 25 is_stmt 0 view .LVU83
 279 00ee 4346     		mov	r3, r8
  35:../BLDCMotor/focmethod_q15.c ****         case 6:m_vector = -Y;s_vector = -Z;break;
 280              		.loc 1 35 9 view .LVU84
 281 00f0 DBE7     		b	.L12
 282              	.LVL44:
 283              	.L6:
  36:../BLDCMotor/focmethod_q15.c ****         default:
 284              		.loc 1 36 16 is_stmt 1 view .LVU85
  36:../BLDCMotor/focmethod_q15.c ****         default:
 285              		.loc 1 36 25 is_stmt 0 view .LVU86
 286 00f2 6242     		rsbs	r2, r4, #0
 287              	.LVL45:
  36:../BLDCMotor/focmethod_q15.c ****         default:
 288              		.loc 1 36 30 is_stmt 1 view .LVU87
  36:../BLDCMotor/focmethod_q15.c ****         default:
 289              		.loc 1 36 39 is_stmt 0 view .LVU88
 290 00f4 4442     		rsbs	r4, r0, #0
 291              	.LVL46:
  36:../BLDCMotor/focmethod_q15.c ****         default:
 292              		.loc 1 36 44 is_stmt 1 view .LVU89
  36:../BLDCMotor/focmethod_q15.c ****         default:
 293              		.loc 1 36 25 is_stmt 0 view .LVU90
 294 00f6 1346     		mov	r3, r2
  36:../BLDCMotor/focmethod_q15.c ****         default:
 295              		.loc 1 36 9 view .LVU91
 296 00f8 D7E7     		b	.L12
 297              	.LVL47:
 298              	.L20:
  52:../BLDCMotor/focmethod_q15.c ****         case 1:Tcmp1 = Tb;Tcmp2 = Ta;Tcmp3 = Tc;break;
  53:../BLDCMotor/focmethod_q15.c ****         case 2:Tcmp1 = Ta;Tcmp2 = Tc;Tcmp3 = Tb;break;
 299              		.loc 1 53 16 is_stmt 1 view .LVU92
 300              		.loc 1 53 27 view .LVU93
 301              		.loc 1 53 38 view .LVU94
 302              		.loc 1 53 49 view .LVU95
 303              		.loc 1 53 9 is_stmt 0 view .LVU96
 304 00fa 1946     		mov	r1, r3
 305              		.loc 1 53 22 view .LVU97
 306 00fc 1346     		mov	r3, r2
 307              	.LVL48:
 308              		.loc 1 53 33 view .LVU98
 309 00fe 2246     		mov	r2, r4
 310              	.LVL49:
 311              		.loc 1 53 44 view .LVU99
 312 0100 0C46     		mov	r4, r1
 313              	.LVL50:
 314              	.L21:
  54:../BLDCMotor/focmethod_q15.c ****         case 3:Tcmp1 = Ta;Tcmp2 = Tb;Tcmp3 = Tc;break;
  55:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
  56:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
  57:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
  58:../BLDCMotor/focmethod_q15.c ****         default:break;
  59:../BLDCMotor/focmethod_q15.c ****     }
  60:../BLDCMotor/focmethod_q15.c ****     duty_t sg_duty;
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 8


 315              		.loc 1 60 5 is_stmt 1 view .LVU100
  61:../BLDCMotor/focmethod_q15.c ****     sg_duty._a = (float)(T_PWM_Q15 - (Tcmp1<<1) )/(float)T_PWM_Q15;
 316              		.loc 1 61 5 view .LVU101
 317              		.loc 1 61 44 is_stmt 0 view .LVU102
 318 0102 5B00     		lsls	r3, r3, #1
 319              	.LVL51:
 320              		.loc 1 61 36 view .LVU103
 321 0104 C3F50043 		rsb	r3, r3, #32768
 322              		.loc 1 61 18 view .LVU104
 323 0108 07EE903A 		vmov	s15, r3	@ int
 324 010c F8EEE77A 		vcvt.f32.s32	s15, s15
 325              		.loc 1 61 50 view .LVU105
 326 0110 DFED1F6A 		vldr.32	s13, .L25+8
 327 0114 67EEA67A 		vmul.f32	s15, s15, s13
 328              		.loc 1 61 16 view .LVU106
 329 0118 CDED047A 		vstr.32	s15, [sp, #16]
  62:../BLDCMotor/focmethod_q15.c ****     sg_duty._b = (float)(T_PWM_Q15 - (Tcmp2<<1) )/(float)T_PWM_Q15;
 330              		.loc 1 62 5 is_stmt 1 view .LVU107
 331              		.loc 1 62 44 is_stmt 0 view .LVU108
 332 011c 5200     		lsls	r2, r2, #1
 333              	.LVL52:
 334              		.loc 1 62 36 view .LVU109
 335 011e C2F50042 		rsb	r2, r2, #32768
 336              		.loc 1 62 18 view .LVU110
 337 0122 07EE902A 		vmov	s15, r2	@ int
 338 0126 B8EEE77A 		vcvt.f32.s32	s14, s15
 339              		.loc 1 62 50 view .LVU111
 340 012a 27EE267A 		vmul.f32	s14, s14, s13
 341              		.loc 1 62 16 view .LVU112
 342 012e 8DED057A 		vstr.32	s14, [sp, #20]
  63:../BLDCMotor/focmethod_q15.c ****     sg_duty._c = (float)(T_PWM_Q15 - (Tcmp3<<1) )/(float)T_PWM_Q15;
 343              		.loc 1 63 5 is_stmt 1 view .LVU113
 344              		.loc 1 63 44 is_stmt 0 view .LVU114
 345 0132 6400     		lsls	r4, r4, #1
 346              	.LVL53:
 347              		.loc 1 63 36 view .LVU115
 348 0134 C4F50044 		rsb	r4, r4, #32768
 349              		.loc 1 63 18 view .LVU116
 350 0138 07EE904A 		vmov	s15, r4	@ int
 351 013c F8EEE77A 		vcvt.f32.s32	s15, s15
 352              		.loc 1 63 50 view .LVU117
 353 0140 67EEA67A 		vmul.f32	s15, s15, s13
 354              		.loc 1 63 16 view .LVU118
 355 0144 CDED067A 		vstr.32	s15, [sp, #24]
  64:../BLDCMotor/focmethod_q15.c ****     return sg_duty;
 356              		.loc 1 64 5 is_stmt 1 view .LVU119
 357              		.loc 1 64 12 is_stmt 0 view .LVU120
 358 0148 04AB     		add	r3, sp, #16
 359 014a 93E80700 		ldm	r3, {r0, r1, r2}
 360              	.LVL54:
 361              		.loc 1 64 12 view .LVU121
 362 014e 0AAB     		add	r3, sp, #40
 363 0150 03E90700 		stmdb	r3, {r0, r1, r2}
  65:../BLDCMotor/focmethod_q15.c **** }
 364              		.loc 1 65 1 view .LVU122
 365 0154 9DED070A 		vldr.32	s0, [sp, #28]
 366 0158 DDED080A 		vldr.32	s1, [sp, #32]
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 9


 367 015c 9DED091A 		vldr.32	s2, [sp, #36]
 368 0160 0AB0     		add	sp, sp, #40
 369              	.LCFI2:
 370              		.cfi_remember_state
 371              		.cfi_def_cfa_offset 24
 372              		@ sp needed
 373 0162 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 374              	.LVL55:
 375              	.L19:
 376              	.LCFI3:
 377              		.cfi_restore_state
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 378              		.loc 1 54 16 is_stmt 1 view .LVU123
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 379              		.loc 1 54 27 view .LVU124
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 380              		.loc 1 54 38 view .LVU125
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 381              		.loc 1 54 49 view .LVU126
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 382              		.loc 1 54 9 is_stmt 0 view .LVU127
 383 0166 1946     		mov	r1, r3
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 384              		.loc 1 54 22 view .LVU128
 385 0168 1346     		mov	r3, r2
 386              	.LVL56:
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 387              		.loc 1 54 33 view .LVU129
 388 016a 0A46     		mov	r2, r1
 389              	.LVL57:
  54:../BLDCMotor/focmethod_q15.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 390              		.loc 1 54 9 view .LVU130
 391 016c C9E7     		b	.L21
 392              	.LVL58:
 393              	.L18:
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 394              		.loc 1 55 16 is_stmt 1 view .LVU131
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 395              		.loc 1 55 27 view .LVU132
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 396              		.loc 1 55 38 view .LVU133
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 397              		.loc 1 55 49 view .LVU134
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 398              		.loc 1 55 9 is_stmt 0 view .LVU135
 399 016e 1946     		mov	r1, r3
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 400              		.loc 1 55 22 view .LVU136
 401 0170 2346     		mov	r3, r4
 402              	.LVL59:
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 403              		.loc 1 55 44 view .LVU137
 404 0172 1446     		mov	r4, r2
 405              	.LVL60:
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 406              		.loc 1 55 33 view .LVU138
 407 0174 0A46     		mov	r2, r1
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 10


 408              	.LVL61:
  55:../BLDCMotor/focmethod_q15.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 409              		.loc 1 55 9 view .LVU139
 410 0176 C4E7     		b	.L21
 411              	.LVL62:
 412              	.L17:
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 413              		.loc 1 56 16 is_stmt 1 view .LVU140
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 414              		.loc 1 56 27 view .LVU141
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 415              		.loc 1 56 38 view .LVU142
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 416              		.loc 1 56 49 view .LVU143
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 417              		.loc 1 56 9 is_stmt 0 view .LVU144
 418 0178 1946     		mov	r1, r3
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 419              		.loc 1 56 22 view .LVU145
 420 017a 2346     		mov	r3, r4
 421              	.LVL63:
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 422              		.loc 1 56 44 view .LVU146
 423 017c 0C46     		mov	r4, r1
 424              	.LVL64:
  56:../BLDCMotor/focmethod_q15.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 425              		.loc 1 56 9 view .LVU147
 426 017e C0E7     		b	.L21
 427              	.LVL65:
 428              	.L15:
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 429              		.loc 1 57 16 is_stmt 1 view .LVU148
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 430              		.loc 1 57 27 view .LVU149
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 431              		.loc 1 57 38 view .LVU150
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 432              		.loc 1 57 49 view .LVU151
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 433              		.loc 1 57 9 is_stmt 0 view .LVU152
 434 0180 1146     		mov	r1, r2
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 435              		.loc 1 57 33 view .LVU153
 436 0182 2246     		mov	r2, r4
 437              	.LVL66:
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 438              		.loc 1 57 44 view .LVU154
 439 0184 0C46     		mov	r4, r1
 440              	.LVL67:
  57:../BLDCMotor/focmethod_q15.c ****         default:break;
 441              		.loc 1 57 9 view .LVU155
 442 0186 BCE7     		b	.L21
 443              	.L26:
 444              		.align	2
 445              	.L25:
 446 0188 4C22FFFF 		.word	-56756
 447 018c 0040FFFF 		.word	-49152
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 11


 448 0190 00000038 		.word	939524096
 449              		.cfi_endproc
 450              	.LFE235:
 452              		.section	.text._3s_2s_Q,"ax",%progbits
 453              		.align	1
 454              		.global	_3s_2s_Q
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 459              	_3s_2s_Q:
 460              	.LVL68:
 461              	.LFB236:
  66:../BLDCMotor/focmethod_q15.c **** 
  67:../BLDCMotor/focmethod_q15.c **** void _3s_2s_Q(abc_t i_abc,alpbet_t *alp_bet)
  68:../BLDCMotor/focmethod_q15.c **** {
 462              		.loc 1 68 1 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 28, pretend = 16, frame = 0
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466              		.loc 1 68 1 is_stmt 0 view .LVU157
 467 0000 84B0     		sub	sp, sp, #16
 468              	.LCFI4:
 469              		.cfi_def_cfa_offset 16
 470 0002 10B5     		push	{r4, lr}
 471              	.LCFI5:
 472              		.cfi_def_cfa_offset 24
 473              		.cfi_offset 4, -24
 474              		.cfi_offset 14, -20
 475 0004 02AC     		add	r4, sp, #8
 476 0006 84E80F00 		stm	r4, {r0, r1, r2, r3}
 477 000a 089C     		ldr	r4, [sp, #32]
  69:../BLDCMotor/focmethod_q15.c ****     alp_bet->Q_alpha = i_abc.Q_a;
 478              		.loc 1 69 5 is_stmt 1 view .LVU158
 479              		.loc 1 69 22 is_stmt 0 view .LVU159
 480 000c A360     		str	r3, [r4, #8]
  70:../BLDCMotor/focmethod_q15.c ****     alp_bet->Q_beta = _IQ15mpy(_IQ15div(SQRT3_Q15,_IQ15(3.0f)),(i_abc.Q_b - i_abc.Q_c));
 481              		.loc 1 70 5 is_stmt 1 view .LVU160
 482              		.loc 1 70 23 is_stmt 0 view .LVU161
 483 000e 4FF4C031 		mov	r1, #98304
 484 0012 4DF6B450 		movw	r0, #56756
 485 0016 FFF7FEFF 		bl	_IQ15div
 486              	.LVL69:
 487 001a 0699     		ldr	r1, [sp, #24]
 488 001c 079B     		ldr	r3, [sp, #28]
 489 001e C91A     		subs	r1, r1, r3
 490 0020 FFF7FEFF 		bl	_IQ15mpy
 491              	.LVL70:
 492              		.loc 1 70 21 view .LVU162
 493 0024 E060     		str	r0, [r4, #12]
  71:../BLDCMotor/focmethod_q15.c **** }
 494              		.loc 1 71 1 view .LVU163
 495 0026 BDE81040 		pop	{r4, lr}
 496              	.LCFI6:
 497              		.cfi_restore 14
 498              		.cfi_restore 4
 499              		.cfi_def_cfa_offset 16
 500 002a 04B0     		add	sp, sp, #16
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 12


 501              	.LCFI7:
 502              		.cfi_def_cfa_offset 0
 503 002c 7047     		bx	lr
 504              		.cfi_endproc
 505              	.LFE236:
 507              		.section	.text._2r_2s_Q,"ax",%progbits
 508              		.align	1
 509              		.global	_2r_2s_Q
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 514              	_2r_2s_Q:
 515              	.LVL71:
 516              	.LFB237:
  72:../BLDCMotor/focmethod_q15.c **** 
  73:../BLDCMotor/focmethod_q15.c **** alpbet_t _2r_2s_Q(dq_t i_dq,int32_t theta)
  74:../BLDCMotor/focmethod_q15.c **** {
 517              		.loc 1 74 1 is_stmt 1 view -0
 518              		.cfi_startproc
 519              		@ args = 24, pretend = 16, frame = 0
 520              		@ frame_needed = 0, uses_anonymous_args = 0
 521              		.loc 1 74 1 is_stmt 0 view .LVU165
 522 0000 84B0     		sub	sp, sp, #16
 523              	.LCFI8:
 524              		.cfi_def_cfa_offset 16
 525 0002 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 526              	.LCFI9:
 527              		.cfi_def_cfa_offset 48
 528              		.cfi_offset 3, -48
 529              		.cfi_offset 4, -44
 530              		.cfi_offset 5, -40
 531              		.cfi_offset 6, -36
 532              		.cfi_offset 7, -32
 533              		.cfi_offset 8, -28
 534              		.cfi_offset 9, -24
 535              		.cfi_offset 14, -20
 536 0006 0446     		mov	r4, r0
 537 0008 09A8     		add	r0, sp, #36
 538 000a 80E80E00 		stm	r0, {r1, r2, r3}
 539 000e 0D9D     		ldr	r5, [sp, #52]
  75:../BLDCMotor/focmethod_q15.c ****     alpbet_t i_alphabeta;
 540              		.loc 1 75 5 is_stmt 1 view .LVU166
  76:../BLDCMotor/focmethod_q15.c ****     int32_t cos_theta,sin_theta;
 541              		.loc 1 76 5 view .LVU167
  77:../BLDCMotor/focmethod_q15.c ****     int32_t theta_q15;
 542              		.loc 1 77 5 view .LVU168
  78:../BLDCMotor/focmethod_q15.c ****     theta_q15 = theta;
 543              		.loc 1 78 5 view .LVU169
 544              	.LVL72:
  79:../BLDCMotor/focmethod_q15.c ****     sin_theta = _IQ15sin(theta_q15);
 545              		.loc 1 79 5 view .LVU170
 546              		.loc 1 79 17 is_stmt 0 view .LVU171
 547 0010 2846     		mov	r0, r5
 548              	.LVL73:
 549              		.loc 1 79 17 view .LVU172
 550 0012 FFF7FEFF 		bl	_IQ15sin
 551              	.LVL74:
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 13


 552 0016 0746     		mov	r7, r0
 553              	.LVL75:
  80:../BLDCMotor/focmethod_q15.c ****     cos_theta = _IQ15cos(theta_q15);
 554              		.loc 1 80 5 is_stmt 1 view .LVU173
 555              		.loc 1 80 17 is_stmt 0 view .LVU174
 556 0018 2846     		mov	r0, r5
 557              	.LVL76:
 558              		.loc 1 80 17 view .LVU175
 559 001a FFF7FEFF 		bl	_IQ15cos
 560              	.LVL77:
 561 001e 0646     		mov	r6, r0
 562              	.LVL78:
  81:../BLDCMotor/focmethod_q15.c **** 
  82:../BLDCMotor/focmethod_q15.c ****     i_alphabeta.Q_alpha = _IQ15mpy(i_dq.Q_d , cos_theta) -  _IQ15mpy(i_dq.Q_q,sin_theta);
 563              		.loc 1 82 5 is_stmt 1 view .LVU176
 564              		.loc 1 82 27 is_stmt 0 view .LVU177
 565 0020 DDF82C90 		ldr	r9, [sp, #44]
 566 0024 0146     		mov	r1, r0
 567 0026 4846     		mov	r0, r9
 568              	.LVL79:
 569              		.loc 1 82 27 view .LVU178
 570 0028 FFF7FEFF 		bl	_IQ15mpy
 571              	.LVL80:
 572              		.loc 1 82 27 view .LVU179
 573 002c 0546     		mov	r5, r0
 574              	.LVL81:
 575              		.loc 1 82 61 view .LVU180
 576 002e DDF83080 		ldr	r8, [sp, #48]
 577 0032 3946     		mov	r1, r7
 578 0034 4046     		mov	r0, r8
 579 0036 FFF7FEFF 		bl	_IQ15mpy
 580              	.LVL82:
 581              		.loc 1 82 58 view .LVU181
 582 003a 2D1A     		subs	r5, r5, r0
 583              		.loc 1 82 25 view .LVU182
 584 003c A560     		str	r5, [r4, #8]
  83:../BLDCMotor/focmethod_q15.c ****     i_alphabeta.Q_beta = _IQ15mpy(i_dq.Q_d , sin_theta) +  _IQ15mpy(i_dq.Q_q,cos_theta);
 585              		.loc 1 83 5 is_stmt 1 view .LVU183
 586              		.loc 1 83 26 is_stmt 0 view .LVU184
 587 003e 3946     		mov	r1, r7
 588 0040 4846     		mov	r0, r9
 589 0042 FFF7FEFF 		bl	_IQ15mpy
 590              	.LVL83:
 591 0046 0546     		mov	r5, r0
 592              		.loc 1 83 60 view .LVU185
 593 0048 3146     		mov	r1, r6
 594 004a 4046     		mov	r0, r8
 595 004c FFF7FEFF 		bl	_IQ15mpy
 596              	.LVL84:
 597              		.loc 1 83 57 view .LVU186
 598 0050 0544     		add	r5, r5, r0
 599              		.loc 1 83 24 view .LVU187
 600 0052 E560     		str	r5, [r4, #12]
  84:../BLDCMotor/focmethod_q15.c ****     return i_alphabeta;
 601              		.loc 1 84 5 is_stmt 1 view .LVU188
  85:../BLDCMotor/focmethod_q15.c **** }
 602              		.loc 1 85 1 is_stmt 0 view .LVU189
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 14


 603 0054 2046     		mov	r0, r4
 604 0056 BDE8F843 		pop	{r3, r4, r5, r6, r7, r8, r9, lr}
 605              	.LCFI10:
 606              		.cfi_restore 14
 607              		.cfi_restore 9
 608              		.cfi_restore 8
 609              		.cfi_restore 7
 610              		.cfi_restore 6
 611              		.cfi_restore 5
 612              		.cfi_restore 4
 613              		.cfi_restore 3
 614              		.cfi_def_cfa_offset 16
 615              	.LVL85:
 616              		.loc 1 85 1 view .LVU190
 617 005a 04B0     		add	sp, sp, #16
 618              	.LCFI11:
 619              		.cfi_def_cfa_offset 0
 620 005c 7047     		bx	lr
 621              		.cfi_endproc
 622              	.LFE237:
 624              		.section	.text._2s_2r_Q,"ax",%progbits
 625              		.align	1
 626              		.global	_2s_2r_Q
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 631              	_2s_2r_Q:
 632              	.LVL86:
 633              	.LFB238:
  86:../BLDCMotor/focmethod_q15.c **** 
  87:../BLDCMotor/focmethod_q15.c **** void _2s_2r_Q(alpbet_t i_alphabeta,int32_t theta,dq_t *dq)
  88:../BLDCMotor/focmethod_q15.c **** {
 634              		.loc 1 88 1 is_stmt 1 view -0
 635              		.cfi_startproc
 636              		@ args = 8, pretend = 0, frame = 16
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              		.loc 1 88 1 is_stmt 0 view .LVU192
 639 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 640              	.LCFI12:
 641              		.cfi_def_cfa_offset 28
 642              		.cfi_offset 4, -28
 643              		.cfi_offset 5, -24
 644              		.cfi_offset 6, -20
 645              		.cfi_offset 7, -16
 646              		.cfi_offset 8, -12
 647              		.cfi_offset 9, -8
 648              		.cfi_offset 14, -4
 649 0004 85B0     		sub	sp, sp, #20
 650              	.LCFI13:
 651              		.cfi_def_cfa_offset 48
 652 0006 04AC     		add	r4, sp, #16
 653 0008 04E90F00 		stmdb	r4, {r0, r1, r2, r3}
 654 000c 0C9C     		ldr	r4, [sp, #48]
 655 000e 0D9E     		ldr	r6, [sp, #52]
  89:../BLDCMotor/focmethod_q15.c ****     int32_t cos_theta,sin_theta;
 656              		.loc 1 89 5 is_stmt 1 view .LVU193
  90:../BLDCMotor/focmethod_q15.c ****     int32_t theta_q15;
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 15


 657              		.loc 1 90 5 view .LVU194
  91:../BLDCMotor/focmethod_q15.c ****     theta_q15 = (theta);
 658              		.loc 1 91 5 view .LVU195
 659              	.LVL87:
  92:../BLDCMotor/focmethod_q15.c ****     sin_theta = _IQ15sin(theta_q15);
 660              		.loc 1 92 5 view .LVU196
 661              		.loc 1 92 17 is_stmt 0 view .LVU197
 662 0010 2046     		mov	r0, r4
 663 0012 FFF7FEFF 		bl	_IQ15sin
 664              	.LVL88:
 665 0016 0546     		mov	r5, r0
 666              	.LVL89:
  93:../BLDCMotor/focmethod_q15.c ****     cos_theta = _IQ15cos(theta_q15);
 667              		.loc 1 93 5 is_stmt 1 view .LVU198
 668              		.loc 1 93 17 is_stmt 0 view .LVU199
 669 0018 2046     		mov	r0, r4
 670              	.LVL90:
 671              		.loc 1 93 17 view .LVU200
 672 001a FFF7FEFF 		bl	_IQ15cos
 673              	.LVL91:
 674 001e 0746     		mov	r7, r0
 675              	.LVL92:
  94:../BLDCMotor/focmethod_q15.c ****     dq->Q_d =  _IQ15mpy(cos_theta,i_alphabeta.Q_alpha) + _IQ15mpy(sin_theta,i_alphabeta.Q_beta);
 676              		.loc 1 94 5 is_stmt 1 view .LVU201
 677              		.loc 1 94 16 is_stmt 0 view .LVU202
 678 0020 DDF80890 		ldr	r9, [sp, #8]
 679 0024 4946     		mov	r1, r9
 680 0026 FFF7FEFF 		bl	_IQ15mpy
 681              	.LVL93:
 682              		.loc 1 94 16 view .LVU203
 683 002a 0446     		mov	r4, r0
 684              	.LVL94:
 685              		.loc 1 94 58 view .LVU204
 686 002c DDF80C80 		ldr	r8, [sp, #12]
 687 0030 4146     		mov	r1, r8
 688 0032 2846     		mov	r0, r5
 689 0034 FFF7FEFF 		bl	_IQ15mpy
 690              	.LVL95:
 691              		.loc 1 94 56 view .LVU205
 692 0038 0444     		add	r4, r4, r0
 693              		.loc 1 94 13 view .LVU206
 694 003a B460     		str	r4, [r6, #8]
  95:../BLDCMotor/focmethod_q15.c ****     dq->Q_q = _IQ15mpy(-sin_theta,i_alphabeta.Q_alpha) + _IQ15mpy(cos_theta,i_alphabeta.Q_beta);   
 695              		.loc 1 95 5 is_stmt 1 view .LVU207
 696              		.loc 1 95 15 is_stmt 0 view .LVU208
 697 003c 4946     		mov	r1, r9
 698 003e 6842     		rsbs	r0, r5, #0
 699 0040 FFF7FEFF 		bl	_IQ15mpy
 700              	.LVL96:
 701 0044 0446     		mov	r4, r0
 702              		.loc 1 95 58 view .LVU209
 703 0046 4146     		mov	r1, r8
 704 0048 3846     		mov	r0, r7
 705 004a FFF7FEFF 		bl	_IQ15mpy
 706              	.LVL97:
 707              		.loc 1 95 56 view .LVU210
 708 004e 0444     		add	r4, r4, r0
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 16


 709              		.loc 1 95 13 view .LVU211
 710 0050 F460     		str	r4, [r6, #12]
  96:../BLDCMotor/focmethod_q15.c **** }
 711              		.loc 1 96 1 view .LVU212
 712 0052 05B0     		add	sp, sp, #20
 713              	.LCFI14:
 714              		.cfi_def_cfa_offset 28
 715              		@ sp needed
 716 0054 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 717              		.loc 1 96 1 view .LVU213
 718              		.cfi_endproc
 719              	.LFE238:
 721              		.text
 722              	.Letext0:
 723              		.file 2 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_defa
 724              		.file 3 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h
 725              		.file 4 "../Common/IQMath/ti/IQmathLib.h"
 726              		.file 5 "../BLDCMotor/motorctrl_common.h"
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 focmethod_q15.c
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:20     .text._svpwm_Q:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:26     .text._svpwm_Q:00000000 _svpwm_Q
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:159    .text._svpwm_Q:00000094 $d
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:166    .text._svpwm_Q:0000009a $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:237    .text._svpwm_Q:000000d8 $d
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:244    .text._svpwm_Q:000000de $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:446    .text._svpwm_Q:00000188 $d
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:453    .text._3s_2s_Q:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:459    .text._3s_2s_Q:00000000 _3s_2s_Q
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:508    .text._2r_2s_Q:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:514    .text._2r_2s_Q:00000000 _2r_2s_Q
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:625    .text._2s_2r_Q:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccMeNQf1.s:631    .text._2s_2r_Q:00000000 _2s_2r_Q

UNDEFINED SYMBOLS
_IQ15mpy
_IQ15div
_IQ15sin
_IQ15cos
