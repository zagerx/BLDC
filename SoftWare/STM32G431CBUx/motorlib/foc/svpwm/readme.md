## Voltage Modulation Test Module (FOC)

### 1.模块目的（Purpose）
本测试模块用于验证FOC电压调制链路的完整数学正确性与边界行为。在脱离电机、电流环、PWM 硬件的前提下，证明“从 dq 电压请求到 PWM 占空比”的整个调制过程是：
数学一致、几何正确、数值稳定、无隐含增益错误的。
该链路定义为：

```txt
(ud, uq, eangle)
   ↓
dq → αβ
   ↓
电压归一化
   ↓
线性区限幅（内切圆）
   ↓
七段式 SVPWM
   ↓
(duty_a, duty_b, duty_c)

```

### 2.模块的输入(Inputo)
- 任意方向
- 任意幅值（包括超出线性区）

```
ud, uq     : d/q 轴物理电压（Volt）DQ轴PI控制器的输出，也就是未限幅的电压
eangle    : 电角度（rad）
```

### 3.模块输出(Output)

```
alpha, beta    : 限幅后未规一化之前的αβ电压（调制空间）
duty_a, duty_b, duty_c : 三相占空比
```

## 测试模块必须验证的内容
### 限幅正确性
- 超限输入 → αβ 被压缩到内切圆
- 相位保持不变

### 几何一致性
- αβ 轨迹：
- 线性区：圆
- 边界：六边形内切
- 不允许相位旋转或畸变
### 扇区连续性
- 任意角度连续
- 60°边界无突变
### 七段式特性
- 任意时刻至多一相达到极值
- 不允许两相同时钳位




