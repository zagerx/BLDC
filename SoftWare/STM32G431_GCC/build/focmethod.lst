ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"focmethod.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._svpwm,"ax",%progbits
  20              		.align	1
  21              		.global	_svpwm
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_svpwm:
  27              	.LVL0:
  28              	.LFB329:
  29              		.file 1 "../BLDCMotor/focmethod.c"
   1:../BLDCMotor/focmethod.c **** #include "./motorctrl_common.h"
   2:../BLDCMotor/focmethod.c **** #include "debuglog.h"
   3:../BLDCMotor/focmethod.c **** 
   4:../BLDCMotor/focmethod.c **** static dq_t circle_limit(dq_t dq);
   5:../BLDCMotor/focmethod.c **** 
   6:../BLDCMotor/focmethod.c **** 
   7:../BLDCMotor/focmethod.c **** 
   8:../BLDCMotor/focmethod.c **** duty_t _svpwm(float ualpha,float ubeta)
   9:../BLDCMotor/focmethod.c **** {
  30              		.loc 1 9 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 40
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 9 1 is_stmt 0 view .LVU1
  36 0000 8AB0     		sub	sp, sp, #40
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 40
  10:../BLDCMotor/focmethod.c ****     unsigned char sector;    
  39              		.loc 1 10 5 is_stmt 1 view .LVU2
  11:../BLDCMotor/focmethod.c ****     sector = 0;
  40              		.loc 1 11 5 view .LVU3
  41              	.LVL1:
  12:../BLDCMotor/focmethod.c ****     /*-------------------------------*/
  13:../BLDCMotor/focmethod.c ****     if(ubeta > 0.0F) {
  42              		.loc 1 13 5 view .LVU4
  43              		.loc 1 13 7 is_stmt 0 view .LVU5
  44 0002 F5EEC00A 		vcmpe.f32	s1, #0
  45 0006 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 2


  46 000a 2BDD     		ble	.L30
  14:../BLDCMotor/focmethod.c ****         sector = 1;
  47              		.loc 1 14 16 view .LVU6
  48 000c 0123     		movs	r3, #1
  49              	.L2:
  50              	.LVL2:
  15:../BLDCMotor/focmethod.c ****     }
  16:../BLDCMotor/focmethod.c ****     if((sqrt3 * ualpha - ubeta) / 2.0F > 0.0F) {
  51              		.loc 1 16 5 is_stmt 1 view .LVU7
  52              		.loc 1 16 15 is_stmt 0 view .LVU8
  53 000e DFED967A 		vldr.32	s15, .L31
  54 0012 60EE277A 		vmul.f32	s15, s0, s15
  55              		.loc 1 16 24 view .LVU9
  56 0016 77EEE07A 		vsub.f32	s15, s15, s1
  57              		.loc 1 16 33 view .LVU10
  58 001a F6EE006A 		vmov.f32	s13, #5.0e-1
  59 001e 67EEA67A 		vmul.f32	s15, s15, s13
  60              		.loc 1 16 7 view .LVU11
  61 0022 F5EEC07A 		vcmpe.f32	s15, #0
  62 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  63 002a 01DD     		ble	.L3
  17:../BLDCMotor/focmethod.c ****         sector += 2;
  64              		.loc 1 17 9 is_stmt 1 view .LVU12
  65              		.loc 1 17 16 is_stmt 0 view .LVU13
  66 002c 0233     		adds	r3, r3, #2
  67              	.LVL3:
  68              		.loc 1 17 16 view .LVU14
  69 002e DBB2     		uxtb	r3, r3
  70              	.LVL4:
  71              	.L3:
  18:../BLDCMotor/focmethod.c ****     }
  19:../BLDCMotor/focmethod.c ****     if((-sqrt3 * ualpha - ubeta) / 2.0F > 0.0F) {
  72              		.loc 1 19 5 is_stmt 1 view .LVU15
  73              		.loc 1 19 16 is_stmt 0 view .LVU16
  74 0030 DFED8E7A 		vldr.32	s15, .L31+4
  75 0034 60EE277A 		vmul.f32	s15, s0, s15
  76              		.loc 1 19 25 view .LVU17
  77 0038 77EEE07A 		vsub.f32	s15, s15, s1
  78              		.loc 1 19 34 view .LVU18
  79 003c F6EE006A 		vmov.f32	s13, #5.0e-1
  80 0040 67EEA67A 		vmul.f32	s15, s15, s13
  81              		.loc 1 19 7 view .LVU19
  82 0044 F5EEC07A 		vcmpe.f32	s15, #0
  83 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  84 004c 01DD     		ble	.L5
  20:../BLDCMotor/focmethod.c ****         sector += 4;
  85              		.loc 1 20 9 is_stmt 1 view .LVU20
  86              		.loc 1 20 16 is_stmt 0 view .LVU21
  87 004e 0433     		adds	r3, r3, #4
  88              	.LVL5:
  89              		.loc 1 20 16 view .LVU22
  90 0050 DBB2     		uxtb	r3, r3
  91              	.LVL6:
  92              	.L5:
  21:../BLDCMotor/focmethod.c ****     }
  22:../BLDCMotor/focmethod.c ****     /*----------------------------------------------------*/
  23:../BLDCMotor/focmethod.c ****     float s_vector = 0.0f,m_vector = 0.0f;
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 3


  93              		.loc 1 23 5 is_stmt 1 view .LVU23
  24:../BLDCMotor/focmethod.c ****     switch (sector) {
  94              		.loc 1 24 5 view .LVU24
  95 0052 5A1E     		subs	r2, r3, #1
  96 0054 042A     		cmp	r2, #4
  97 0056 00F29C80 		bhi	.L7
  98 005a DFE802F0 		tbb	[pc, r2]
  99              	.L9:
 100 005e 05       		.byte	(.L13-.L9)/2
 101 005f 46       		.byte	(.L12-.L9)/2
 102 0060 5B       		.byte	(.L11-.L9)/2
 103 0061 70       		.byte	(.L10-.L9)/2
 104 0062 85       		.byte	(.L8-.L9)/2
 105              	.LVL7:
 106 0063 00       		.p2align 1
 107              	.L30:
  11:../BLDCMotor/focmethod.c ****     /*-------------------------------*/
 108              		.loc 1 11 12 is_stmt 0 view .LVU25
 109 0064 0023     		movs	r3, #0
 110 0066 D2E7     		b	.L2
 111              	.LVL8:
 112              	.L13:
  25:../BLDCMotor/focmethod.c ****         case 1:
  26:../BLDCMotor/focmethod.c ****             m_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 113              		.loc 1 26 13 is_stmt 1 view .LVU26
 114              		.loc 1 26 31 is_stmt 0 view .LVU27
 115 0068 FFEE087A 		vmov.f32	s15, #-1.5e+0
 116 006c 60EE277A 		vmul.f32	s15, s0, s15
 117              		.loc 1 26 53 view .LVU28
 118 0070 DFED7F6A 		vldr.32	s13, .L31+8
 119 0074 60EEA60A 		vmul.f32	s1, s1, s13
 120              	.LVL9:
 121              		.loc 1 26 40 view .LVU29
 122 0078 77EEA07A 		vadd.f32	s15, s15, s1
 123              		.loc 1 26 22 view .LVU30
 124 007c DFED7D6A 		vldr.32	s13, .L31+12
 125 0080 67EEA67A 		vmul.f32	s15, s15, s13
 126              	.LVL10:
  27:../BLDCMotor/focmethod.c ****             s_vector = (1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 127              		.loc 1 27 13 is_stmt 1 view .LVU31
 128              		.loc 1 27 30 is_stmt 0 view .LVU32
 129 0084 B7EE087A 		vmov.f32	s14, #1.5e+0
 130 0088 20EE077A 		vmul.f32	s14, s0, s14
 131              		.loc 1 27 39 view .LVU33
 132 008c 30EE877A 		vadd.f32	s14, s1, s14
 133              		.loc 1 27 22 view .LVU34
 134 0090 27EE267A 		vmul.f32	s14, s14, s13
 135              	.LVL11:
  28:../BLDCMotor/focmethod.c ****         break;
 136              		.loc 1 28 9 is_stmt 1 view .LVU35
 137              	.L14:
  29:../BLDCMotor/focmethod.c **** 
  30:../BLDCMotor/focmethod.c ****         case 2:
  31:../BLDCMotor/focmethod.c ****             m_vector = (1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
  32:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
  33:../BLDCMotor/focmethod.c ****         break;
  34:../BLDCMotor/focmethod.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 4


  35:../BLDCMotor/focmethod.c ****         case 3:
  36:../BLDCMotor/focmethod.c ****             m_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
  37:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
  38:../BLDCMotor/focmethod.c ****         break;
  39:../BLDCMotor/focmethod.c **** 
  40:../BLDCMotor/focmethod.c ****         case 4:
  41:../BLDCMotor/focmethod.c ****             m_vector = -(sqrt3 * ubeta * T_UDC);
  42:../BLDCMotor/focmethod.c ****             s_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
  43:../BLDCMotor/focmethod.c ****         break;
  44:../BLDCMotor/focmethod.c **** 
  45:../BLDCMotor/focmethod.c ****         case 5:
  46:../BLDCMotor/focmethod.c ****             m_vector = sqrt3 * ubeta * T_UDC;
  47:../BLDCMotor/focmethod.c ****             s_vector = -((1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
  48:../BLDCMotor/focmethod.c ****         break;
  49:../BLDCMotor/focmethod.c **** 
  50:../BLDCMotor/focmethod.c ****         default:
  51:../BLDCMotor/focmethod.c ****             m_vector = -((1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
  52:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
  53:../BLDCMotor/focmethod.c ****         break;
  54:../BLDCMotor/focmethod.c ****     }
  55:../BLDCMotor/focmethod.c **** 
  56:../BLDCMotor/focmethod.c ****     /*------------------------------------------------------------*/
  57:../BLDCMotor/focmethod.c ****     if (m_vector + s_vector > T_PWM) 
 138              		.loc 1 57 5 view .LVU36
 139              		.loc 1 57 18 is_stmt 0 view .LVU37
 140 0094 77EE276A 		vadd.f32	s13, s14, s15
 141              		.loc 1 57 8 view .LVU38
 142 0098 9FED776A 		vldr.32	s12, .L31+16
 143 009c F4EEC66A 		vcmpe.f32	s13, s12
 144 00a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 145 00a4 05DD     		ble	.L15
  58:../BLDCMotor/focmethod.c ****     {
  59:../BLDCMotor/focmethod.c ****         m_vector /= (m_vector + s_vector);
 146              		.loc 1 59 9 is_stmt 1 view .LVU39
 147              		.loc 1 59 18 is_stmt 0 view .LVU40
 148 00a6 C7EEA67A 		vdiv.f32	s15, s15, s13
 149              	.LVL12:
  60:../BLDCMotor/focmethod.c ****         s_vector /= m_vector + s_vector;
 150              		.loc 1 60 9 is_stmt 1 view .LVU41
 151              		.loc 1 60 30 is_stmt 0 view .LVU42
 152 00aa 77EE276A 		vadd.f32	s13, s14, s15
 153              		.loc 1 60 18 view .LVU43
 154 00ae 87EE267A 		vdiv.f32	s14, s14, s13
 155              	.LVL13:
 156              	.L15:
  61:../BLDCMotor/focmethod.c ****     }
  62:../BLDCMotor/focmethod.c **** 
  63:../BLDCMotor/focmethod.c ****     /*---------------------------------------------------*/
  64:../BLDCMotor/focmethod.c ****     float Ta,Tb,Tc;
 157              		.loc 1 64 5 is_stmt 1 view .LVU44
  65:../BLDCMotor/focmethod.c ****     Ta = (T_PWM - (m_vector + s_vector)) / 4.0F;  
 158              		.loc 1 65 5 view .LVU45
 159              		.loc 1 65 29 is_stmt 0 view .LVU46
 160 00b2 37EE276A 		vadd.f32	s12, s14, s15
 161              		.loc 1 65 17 view .LVU47
 162 00b6 DFED706A 		vldr.32	s13, .L31+16
 163 00ba 76EEC66A 		vsub.f32	s13, s13, s12
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 5


 164              		.loc 1 65 8 view .LVU48
 165 00be B5EE006A 		vmov.f32	s12, #2.5e-1
 166 00c2 66EE866A 		vmul.f32	s13, s13, s12
 167              	.LVL14:
  66:../BLDCMotor/focmethod.c ****     Tb = Ta + m_vector/2.0f;
 168              		.loc 1 66 5 is_stmt 1 view .LVU49
 169              		.loc 1 66 23 is_stmt 0 view .LVU50
 170 00c6 B6EE006A 		vmov.f32	s12, #5.0e-1
 171 00ca 67EE867A 		vmul.f32	s15, s15, s12
 172              	.LVL15:
 173              		.loc 1 66 8 view .LVU51
 174 00ce 77EEA67A 		vadd.f32	s15, s15, s13
 175              	.LVL16:
  67:../BLDCMotor/focmethod.c ****     Tc = Tb + s_vector/2.0f;
 176              		.loc 1 67 5 is_stmt 1 view .LVU52
 177              		.loc 1 67 23 is_stmt 0 view .LVU53
 178 00d2 27EE067A 		vmul.f32	s14, s14, s12
 179              	.LVL17:
 180              		.loc 1 67 8 view .LVU54
 181 00d6 37EE277A 		vadd.f32	s14, s14, s15
 182              	.LVL18:
  68:../BLDCMotor/focmethod.c **** 
  69:../BLDCMotor/focmethod.c ****     /*------------------------换相点-------------------------------------*/
  70:../BLDCMotor/focmethod.c ****     float Tcmp1 = 0.0f;
 183              		.loc 1 70 5 is_stmt 1 view .LVU55
  71:../BLDCMotor/focmethod.c ****     float Tcmp2 = 0.0f;
 184              		.loc 1 71 5 view .LVU56
  72:../BLDCMotor/focmethod.c ****     float Tcmp3 = 0.0f;
 185              		.loc 1 72 5 view .LVU57
  73:../BLDCMotor/focmethod.c ****     switch (sector) {
 186              		.loc 1 73 5 view .LVU58
 187 00da 013B     		subs	r3, r3, #1
 188              	.LVL19:
 189              		.loc 1 73 5 is_stmt 0 view .LVU59
 190 00dc 052B     		cmp	r3, #5
 191 00de 6DD8     		bhi	.L17
 192 00e0 DFE803F0 		tbb	[pc, r3]
 193              	.L19:
 194 00e4 7B       		.byte	(.L24-.L19)/2
 195 00e5 73       		.byte	(.L23-.L19)/2
 196 00e6 A3       		.byte	(.L22-.L19)/2
 197 00e7 AA       		.byte	(.L21-.L19)/2
 198 00e8 B3       		.byte	(.L20-.L19)/2
 199 00e9 BA       		.byte	(.L18-.L19)/2
 200              	.LVL20:
 201              		.p2align 1
 202              	.L12:
  31:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
 203              		.loc 1 31 13 is_stmt 1 view .LVU60
  31:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
 204              		.loc 1 31 30 is_stmt 0 view .LVU61
 205 00ea F7EE087A 		vmov.f32	s15, #1.5e+0
 206 00ee 20EE270A 		vmul.f32	s0, s0, s15
 207              	.LVL21:
  31:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
 208              		.loc 1 31 52 view .LVU62
 209 00f2 DFED5F7A 		vldr.32	s15, .L31+8
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 6


 210 00f6 60EEA77A 		vmul.f32	s15, s1, s15
  31:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
 211              		.loc 1 31 39 view .LVU63
 212 00fa 70EE277A 		vadd.f32	s15, s0, s15
  31:../BLDCMotor/focmethod.c ****             s_vector = -(sqrt3 * ubeta * T_UDC);
 213              		.loc 1 31 22 view .LVU64
 214 00fe 9FED5D7A 		vldr.32	s14, .L31+12
 215 0102 67EE877A 		vmul.f32	s15, s15, s14
 216              	.LVL22:
  32:../BLDCMotor/focmethod.c ****         break;
 217              		.loc 1 32 13 is_stmt 1 view .LVU65
  32:../BLDCMotor/focmethod.c ****         break;
 218              		.loc 1 32 32 is_stmt 0 view .LVU66
 219 0106 DFED586A 		vldr.32	s13, .L31
 220 010a 60EEA60A 		vmul.f32	s1, s1, s13
 221              	.LVL23:
  32:../BLDCMotor/focmethod.c ****         break;
 222              		.loc 1 32 22 view .LVU67
 223 010e 27EE607A 		vnmul.f32	s14, s14, s1
 224              	.LVL24:
  33:../BLDCMotor/focmethod.c **** 
 225              		.loc 1 33 9 is_stmt 1 view .LVU68
 226 0112 BFE7     		b	.L14
 227              	.LVL25:
 228              	.L11:
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 229              		.loc 1 36 13 view .LVU69
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 230              		.loc 1 36 33 is_stmt 0 view .LVU70
 231 0114 FFEE087A 		vmov.f32	s15, #-1.5e+0
 232 0118 20EE270A 		vmul.f32	s0, s0, s15
 233              	.LVL26:
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 234              		.loc 1 36 55 view .LVU71
 235 011c DFED547A 		vldr.32	s15, .L31+8
 236 0120 60EEA77A 		vmul.f32	s15, s1, s15
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 237              		.loc 1 36 42 view .LVU72
 238 0124 70EE277A 		vadd.f32	s15, s0, s15
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 239              		.loc 1 36 64 view .LVU73
 240 0128 9FED526A 		vldr.32	s12, .L31+12
  36:../BLDCMotor/focmethod.c ****             s_vector = sqrt3 * ubeta * T_UDC;
 241              		.loc 1 36 22 view .LVU74
 242 012c 66EE677A 		vnmul.f32	s15, s12, s15
 243              	.LVL27:
  37:../BLDCMotor/focmethod.c ****         break;
 244              		.loc 1 37 13 is_stmt 1 view .LVU75
  37:../BLDCMotor/focmethod.c ****         break;
 245              		.loc 1 37 30 is_stmt 0 view .LVU76
 246 0130 DFED4D6A 		vldr.32	s13, .L31
 247 0134 20EEA67A 		vmul.f32	s14, s1, s13
  37:../BLDCMotor/focmethod.c ****         break;
 248              		.loc 1 37 22 view .LVU77
 249 0138 27EE067A 		vmul.f32	s14, s14, s12
 250              	.LVL28:
  38:../BLDCMotor/focmethod.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 7


 251              		.loc 1 38 9 is_stmt 1 view .LVU78
 252 013c AAE7     		b	.L14
 253              	.LVL29:
 254              	.L10:
  41:../BLDCMotor/focmethod.c ****             s_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 255              		.loc 1 41 13 view .LVU79
  41:../BLDCMotor/focmethod.c ****             s_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 256              		.loc 1 41 32 is_stmt 0 view .LVU80
 257 013e DFED4A7A 		vldr.32	s15, .L31
 258 0142 60EEA77A 		vmul.f32	s15, s1, s15
  41:../BLDCMotor/focmethod.c ****             s_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 259              		.loc 1 41 40 view .LVU81
 260 0146 9FED4B6A 		vldr.32	s12, .L31+12
  41:../BLDCMotor/focmethod.c ****             s_vector = (-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC;
 261              		.loc 1 41 22 view .LVU82
 262 014a 66EE677A 		vnmul.f32	s15, s12, s15
 263              	.LVL30:
  42:../BLDCMotor/focmethod.c ****         break;
 264              		.loc 1 42 13 is_stmt 1 view .LVU83
  42:../BLDCMotor/focmethod.c ****         break;
 265              		.loc 1 42 31 is_stmt 0 view .LVU84
 266 014e FFEE086A 		vmov.f32	s13, #-1.5e+0
 267 0152 20EE267A 		vmul.f32	s14, s0, s13
  42:../BLDCMotor/focmethod.c ****         break;
 268              		.loc 1 42 53 view .LVU85
 269 0156 DFED466A 		vldr.32	s13, .L31+8
 270 015a 60EEA60A 		vmul.f32	s1, s1, s13
 271              	.LVL31:
  42:../BLDCMotor/focmethod.c ****         break;
 272              		.loc 1 42 40 view .LVU86
 273 015e 37EE207A 		vadd.f32	s14, s14, s1
  42:../BLDCMotor/focmethod.c ****         break;
 274              		.loc 1 42 22 view .LVU87
 275 0162 27EE067A 		vmul.f32	s14, s14, s12
 276              	.LVL32:
  43:../BLDCMotor/focmethod.c **** 
 277              		.loc 1 43 9 is_stmt 1 view .LVU88
 278 0166 95E7     		b	.L14
 279              	.LVL33:
 280              	.L8:
  46:../BLDCMotor/focmethod.c ****             s_vector = -((1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 281              		.loc 1 46 13 view .LVU89
  46:../BLDCMotor/focmethod.c ****             s_vector = -((1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 282              		.loc 1 46 30 is_stmt 0 view .LVU90
 283 0168 DFED3F7A 		vldr.32	s15, .L31
 284 016c 60EEA77A 		vmul.f32	s15, s1, s15
  46:../BLDCMotor/focmethod.c ****             s_vector = -((1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 285              		.loc 1 46 22 view .LVU91
 286 0170 DFED406A 		vldr.32	s13, .L31+12
 287 0174 67EEA67A 		vmul.f32	s15, s15, s13
 288              	.LVL34:
  47:../BLDCMotor/focmethod.c ****         break;
 289              		.loc 1 47 13 is_stmt 1 view .LVU92
  47:../BLDCMotor/focmethod.c ****         break;
 290              		.loc 1 47 32 is_stmt 0 view .LVU93
 291 0178 B7EE086A 		vmov.f32	s12, #1.5e+0
 292 017c 20EE060A 		vmul.f32	s0, s0, s12
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 8


 293              	.LVL35:
  47:../BLDCMotor/focmethod.c ****         break;
 294              		.loc 1 47 54 view .LVU94
 295 0180 9FED3B6A 		vldr.32	s12, .L31+8
 296 0184 20EE867A 		vmul.f32	s14, s1, s12
  47:../BLDCMotor/focmethod.c ****         break;
 297              		.loc 1 47 41 view .LVU95
 298 0188 30EE077A 		vadd.f32	s14, s0, s14
  47:../BLDCMotor/focmethod.c ****         break;
 299              		.loc 1 47 22 view .LVU96
 300 018c 26EEC77A 		vnmul.f32	s14, s13, s14
 301              	.LVL36:
  48:../BLDCMotor/focmethod.c **** 
 302              		.loc 1 48 9 is_stmt 1 view .LVU97
 303 0190 80E7     		b	.L14
 304              	.LVL37:
 305              	.L7:
  51:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 306              		.loc 1 51 13 view .LVU98
  51:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 307              		.loc 1 51 54 is_stmt 0 view .LVU99
 308 0192 9FED377A 		vldr.32	s14, .L31+8
 309 0196 20EE877A 		vmul.f32	s14, s1, s14
  51:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 310              		.loc 1 51 41 view .LVU100
 311 019a F7EE086A 		vmov.f32	s13, #1.5e+0
 312 019e F0EE477A 		vmov.f32	s15, s14
 313 01a2 40EE267A 		vmla.f32	s15, s0, s13
  51:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 314              		.loc 1 51 63 view .LVU101
 315 01a6 DFED336A 		vldr.32	s13, .L31+12
  51:../BLDCMotor/focmethod.c ****             s_vector = -((-1.5F * ualpha + sqrt3/2.0f * ubeta) * T_UDC);
 316              		.loc 1 51 22 view .LVU102
 317 01aa 66EEE77A 		vnmul.f32	s15, s13, s15
 318              	.LVL38:
  52:../BLDCMotor/focmethod.c ****         break;
 319              		.loc 1 52 13 is_stmt 1 view .LVU103
  52:../BLDCMotor/focmethod.c ****         break;
 320              		.loc 1 52 42 is_stmt 0 view .LVU104
 321 01ae BFEE086A 		vmov.f32	s12, #-1.5e+0
 322 01b2 00EE067A 		vmla.f32	s14, s0, s12
  52:../BLDCMotor/focmethod.c ****         break;
 323              		.loc 1 52 22 view .LVU105
 324 01b6 26EEC77A 		vnmul.f32	s14, s13, s14
 325              	.LVL39:
  53:../BLDCMotor/focmethod.c ****     }
 326              		.loc 1 53 9 is_stmt 1 view .LVU106
 327 01ba 6BE7     		b	.L14
 328              	.LVL40:
 329              	.L17:
 330              		.loc 1 73 5 is_stmt 0 view .LVU107
 331 01bc 9FED2F7A 		vldr.32	s14, .L31+20
 332              	.LVL41:
 333              		.loc 1 73 5 view .LVU108
 334 01c0 F0EE476A 		vmov.f32	s13, s14
 335              	.LVL42:
 336              		.loc 1 73 5 view .LVU109
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 9


 337 01c4 F0EE477A 		vmov.f32	s15, s14
 338              	.LVL43:
 339              		.loc 1 73 5 view .LVU110
 340 01c8 07E0     		b	.L24
 341              	.LVL44:
 342              	.L23:
  74:../BLDCMotor/focmethod.c ****         case 1:Tcmp1 = Tb;Tcmp2 = Ta;Tcmp3 = Tc;break;
  75:../BLDCMotor/focmethod.c ****         case 2:Tcmp1 = Ta;Tcmp2 = Tc;Tcmp3 = Tb;break;
 343              		.loc 1 75 16 is_stmt 1 view .LVU111
 344              		.loc 1 75 27 view .LVU112
 345              		.loc 1 75 38 view .LVU113
 346              		.loc 1 75 49 view .LVU114
 347              		.loc 1 75 9 is_stmt 0 view .LVU115
 348 01ca 17EE903A 		vmov	r3, s15
 349              		.loc 1 75 22 view .LVU116
 350 01ce F0EE667A 		vmov.f32	s15, s13
 351              	.LVL45:
 352              		.loc 1 75 33 view .LVU117
 353 01d2 F0EE476A 		vmov.f32	s13, s14
 354              	.LVL46:
 355              		.loc 1 75 44 view .LVU118
 356 01d6 07EE103A 		vmov	s14, r3
 357              	.LVL47:
 358              	.L24:
  76:../BLDCMotor/focmethod.c ****         case 3:Tcmp1 = Ta;Tcmp2 = Tb;Tcmp3 = Tc;break;
  77:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
  78:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
  79:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
  80:../BLDCMotor/focmethod.c ****     }
  81:../BLDCMotor/focmethod.c ****     /*-------------------------占空比---------------------------*/
  82:../BLDCMotor/focmethod.c ****     float duty_a,duty_b,duty_c;
 359              		.loc 1 82 5 is_stmt 1 view .LVU119
  83:../BLDCMotor/focmethod.c ****     duty_a =(T_PWM - Tcmp1*2.0f )/T_PWM;
 360              		.loc 1 83 5 view .LVU120
 361              		.loc 1 83 27 is_stmt 0 view .LVU121
 362 01da 77EEA77A 		vadd.f32	s15, s15, s15
 363              	.LVL48:
 364              		.loc 1 83 20 view .LVU122
 365 01de 9FED266A 		vldr.32	s12, .L31+16
 366              		.loc 1 83 20 view .LVU123
 367 01e2 76EE677A 		vsub.f32	s15, s12, s15
 368              		.loc 1 83 12 view .LVU124
 369 01e6 87EE865A 		vdiv.f32	s10, s15, s12
 370              	.LVL49:
  84:../BLDCMotor/focmethod.c ****     duty_b =(T_PWM - Tcmp2*2.0f )/T_PWM;
 371              		.loc 1 84 5 is_stmt 1 view .LVU125
 372              		.loc 1 84 27 is_stmt 0 view .LVU126
 373 01ea 76EEA66A 		vadd.f32	s13, s13, s13
 374              	.LVL50:
 375              		.loc 1 84 20 view .LVU127
 376 01ee 76EE666A 		vsub.f32	s13, s12, s13
 377              		.loc 1 84 12 view .LVU128
 378 01f2 C6EE865A 		vdiv.f32	s11, s13, s12
 379              	.LVL51:
  85:../BLDCMotor/focmethod.c ****     duty_c =(T_PWM - Tcmp3*2.0f )/T_PWM;
 380              		.loc 1 85 5 is_stmt 1 view .LVU129
 381              		.loc 1 85 27 is_stmt 0 view .LVU130
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 10


 382 01f6 37EE077A 		vadd.f32	s14, s14, s14
 383              	.LVL52:
 384              		.loc 1 85 20 view .LVU131
 385 01fa 36EE477A 		vsub.f32	s14, s12, s14
 386              		.loc 1 85 12 view .LVU132
 387 01fe C7EE067A 		vdiv.f32	s15, s14, s12
 388              	.LVL53:
  86:../BLDCMotor/focmethod.c **** 
  87:../BLDCMotor/focmethod.c ****     duty_t sg_duty;
 389              		.loc 1 87 5 is_stmt 1 view .LVU133
  88:../BLDCMotor/focmethod.c ****     sg_duty._a = duty_a;
 390              		.loc 1 88 5 view .LVU134
 391              		.loc 1 88 16 is_stmt 0 view .LVU135
 392 0202 8DED045A 		vstr.32	s10, [sp, #16]
  89:../BLDCMotor/focmethod.c ****     sg_duty._b = duty_b;
 393              		.loc 1 89 5 is_stmt 1 view .LVU136
 394              		.loc 1 89 16 is_stmt 0 view .LVU137
 395 0206 CDED055A 		vstr.32	s11, [sp, #20]
  90:../BLDCMotor/focmethod.c ****     sg_duty._c = duty_c;
 396              		.loc 1 90 5 is_stmt 1 view .LVU138
 397              		.loc 1 90 16 is_stmt 0 view .LVU139
 398 020a CDED067A 		vstr.32	s15, [sp, #24]
  91:../BLDCMotor/focmethod.c **** 
  92:../BLDCMotor/focmethod.c ****     return sg_duty;
 399              		.loc 1 92 5 is_stmt 1 view .LVU140
 400              		.loc 1 92 12 is_stmt 0 view .LVU141
 401 020e 04AB     		add	r3, sp, #16
 402 0210 93E80700 		ldm	r3, {r0, r1, r2}
 403 0214 0AAB     		add	r3, sp, #40
 404 0216 03E90700 		stmdb	r3, {r0, r1, r2}
  93:../BLDCMotor/focmethod.c **** }
 405              		.loc 1 93 1 view .LVU142
 406 021a 9DED070A 		vldr.32	s0, [sp, #28]
 407 021e DDED080A 		vldr.32	s1, [sp, #32]
 408 0222 9DED091A 		vldr.32	s2, [sp, #36]
 409 0226 0AB0     		add	sp, sp, #40
 410              	.LCFI1:
 411              		.cfi_remember_state
 412              		.cfi_def_cfa_offset 0
 413              		@ sp needed
 414 0228 7047     		bx	lr
 415              	.LVL54:
 416              	.L22:
 417              	.LCFI2:
 418              		.cfi_restore_state
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 419              		.loc 1 76 16 is_stmt 1 view .LVU143
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 420              		.loc 1 76 27 view .LVU144
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 421              		.loc 1 76 38 view .LVU145
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 422              		.loc 1 76 49 view .LVU146
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 423              		.loc 1 76 9 is_stmt 0 view .LVU147
 424 022a 17EE903A 		vmov	r3, s15
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 11


 425              		.loc 1 76 22 view .LVU148
 426 022e F0EE667A 		vmov.f32	s15, s13
 427              	.LVL55:
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 428              		.loc 1 76 33 view .LVU149
 429 0232 06EE903A 		vmov	s13, r3
 430              	.LVL56:
  76:../BLDCMotor/focmethod.c ****         case 4:Tcmp1 = Tc;Tcmp2 = Tb;Tcmp3 = Ta;break;
 431              		.loc 1 76 9 view .LVU150
 432 0236 D0E7     		b	.L24
 433              	.LVL57:
 434              	.L21:
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 435              		.loc 1 77 16 is_stmt 1 view .LVU151
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 436              		.loc 1 77 27 view .LVU152
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 437              		.loc 1 77 38 view .LVU153
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 438              		.loc 1 77 49 view .LVU154
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 439              		.loc 1 77 9 is_stmt 0 view .LVU155
 440 0238 17EE903A 		vmov	r3, s15
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 441              		.loc 1 77 22 view .LVU156
 442 023c F0EE477A 		vmov.f32	s15, s14
 443              	.LVL58:
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 444              		.loc 1 77 44 view .LVU157
 445 0240 B0EE667A 		vmov.f32	s14, s13
 446              	.LVL59:
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 447              		.loc 1 77 33 view .LVU158
 448 0244 06EE903A 		vmov	s13, r3
 449              	.LVL60:
  77:../BLDCMotor/focmethod.c ****         case 5:Tcmp1 = Tc;Tcmp2 = Ta;Tcmp3 = Tb;break;
 450              		.loc 1 77 9 view .LVU159
 451 0248 C7E7     		b	.L24
 452              	.LVL61:
 453              	.L20:
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 454              		.loc 1 78 16 is_stmt 1 view .LVU160
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 455              		.loc 1 78 27 view .LVU161
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 456              		.loc 1 78 38 view .LVU162
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 457              		.loc 1 78 49 view .LVU163
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 458              		.loc 1 78 9 is_stmt 0 view .LVU164
 459 024a 17EE903A 		vmov	r3, s15
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 460              		.loc 1 78 22 view .LVU165
 461 024e F0EE477A 		vmov.f32	s15, s14
 462              	.LVL62:
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 463              		.loc 1 78 44 view .LVU166
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 12


 464 0252 07EE103A 		vmov	s14, r3
 465              	.LVL63:
  78:../BLDCMotor/focmethod.c ****         case 6:Tcmp1 = Tb;Tcmp2 = Tc;Tcmp3 = Ta;break;
 466              		.loc 1 78 9 view .LVU167
 467 0256 C0E7     		b	.L24
 468              	.LVL64:
 469              	.L18:
  79:../BLDCMotor/focmethod.c ****     }
 470              		.loc 1 79 16 is_stmt 1 view .LVU168
  79:../BLDCMotor/focmethod.c ****     }
 471              		.loc 1 79 27 view .LVU169
  79:../BLDCMotor/focmethod.c ****     }
 472              		.loc 1 79 38 view .LVU170
  79:../BLDCMotor/focmethod.c ****     }
 473              		.loc 1 79 49 view .LVU171
  79:../BLDCMotor/focmethod.c ****     }
 474              		.loc 1 79 9 is_stmt 0 view .LVU172
 475 0258 16EE903A 		vmov	r3, s13
  79:../BLDCMotor/focmethod.c ****     }
 476              		.loc 1 79 33 view .LVU173
 477 025c F0EE476A 		vmov.f32	s13, s14
 478              	.LVL65:
  79:../BLDCMotor/focmethod.c ****     }
 479              		.loc 1 79 44 view .LVU174
 480 0260 07EE103A 		vmov	s14, r3
 481              	.LVL66:
  79:../BLDCMotor/focmethod.c ****     }
 482              		.loc 1 79 9 view .LVU175
 483 0264 B9E7     		b	.L24
 484              	.L32:
 485 0266 00BF     		.align	2
 486              	.L31:
 487 0268 D0B3DD3F 		.word	1071494096
 488 026c D0B3DDBF 		.word	-1075989552
 489 0270 D0B35D3F 		.word	1063105488
 490 0274 55558540 		.word	1082479957
 491 0278 0000C842 		.word	1120403456
 492 027c 00000000 		.word	0
 493              		.cfi_endproc
 494              	.LFE329:
 496              		.section	.text._3s_2s,"ax",%progbits
 497              		.align	1
 498              		.global	_3s_2s
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 503              	_3s_2s:
 504              	.LVL67:
 505              	.LFB330:
  94:../BLDCMotor/focmethod.c **** 
  95:../BLDCMotor/focmethod.c **** 
  96:../BLDCMotor/focmethod.c **** /*---------------Clark�任------------------------*/
  97:../BLDCMotor/focmethod.c ****  void _3s_2s(abc_t i_abc,alpbet_t *alp_bet)
  98:../BLDCMotor/focmethod.c **** {
 506              		.loc 1 98 1 is_stmt 1 view -0
 507              		.cfi_startproc
 508              		@ args = 28, pretend = 16, frame = 0
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 13


 509              		@ frame_needed = 0, uses_anonymous_args = 0
 510              		@ link register save eliminated.
 511              		.loc 1 98 1 is_stmt 0 view .LVU177
 512 0000 84B0     		sub	sp, sp, #16
 513              	.LCFI3:
 514              		.cfi_def_cfa_offset 16
 515 0002 8DE80F00 		stm	sp, {r0, r1, r2, r3}
 516 0006 069B     		ldr	r3, [sp, #24]
  99:../BLDCMotor/focmethod.c ****     // alpbet_t i_alphabeta;
 100:../BLDCMotor/focmethod.c ****     // alp_bet->alpha = 2.0f/3.0f*(i_abc.a - 1.0f/2.0f*i_abc.b - 1.0f/2.0f*i_abc.c);
 101:../BLDCMotor/focmethod.c ****     // alp_bet->beta =  2.0f/3.0f*(sqrt3_2*i_abc.b - sqrt3_2*i_abc.c);
 102:../BLDCMotor/focmethod.c ****     alp_bet->alpha = i_abc.a;
 517              		.loc 1 102 5 is_stmt 1 view .LVU178
 518              		.loc 1 102 27 is_stmt 0 view .LVU179
 519 0008 009A     		ldr	r2, [sp]	@ float
 520              		.loc 1 102 20 view .LVU180
 521 000a 1A60     		str	r2, [r3]	@ float
 103:../BLDCMotor/focmethod.c ****     alp_bet->beta = sqrt3/3.0f * (i_abc.b - i_abc.c);
 522              		.loc 1 103 5 is_stmt 1 view .LVU181
 523              		.loc 1 103 43 is_stmt 0 view .LVU182
 524 000c DDED017A 		vldr.32	s15, [sp, #4]
 525 0010 9DED027A 		vldr.32	s14, [sp, #8]
 526 0014 77EEC77A 		vsub.f32	s15, s15, s14
 527              		.loc 1 103 32 view .LVU183
 528 0018 9FED037A 		vldr.32	s14, .L35
 529 001c 67EE877A 		vmul.f32	s15, s15, s14
 530              		.loc 1 103 19 view .LVU184
 531 0020 C3ED017A 		vstr.32	s15, [r3, #4]
 104:../BLDCMotor/focmethod.c **** }
 532              		.loc 1 104 1 view .LVU185
 533 0024 04B0     		add	sp, sp, #16
 534              	.LCFI4:
 535              		.cfi_def_cfa_offset 0
 536 0026 7047     		bx	lr
 537              	.L36:
 538              		.align	2
 539              	.L35:
 540 0028 35CD133F 		.word	1058262325
 541              		.cfi_endproc
 542              	.LFE330:
 544              		.section	.text._2s_2r,"ax",%progbits
 545              		.align	1
 546              		.global	_2s_2r
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 551              	_2s_2r:
 552              	.LVL68:
 553              	.LFB331:
 105:../BLDCMotor/focmethod.c **** /*-------------------Park�任--------------------------------*/
 106:../BLDCMotor/focmethod.c ****  void _2s_2r(alpbet_t i_alphabeta,float theta,dq_t *dq)
 107:../BLDCMotor/focmethod.c **** {
 554              		.loc 1 107 1 is_stmt 1 view -0
 555              		.cfi_startproc
 556              		@ args = 4, pretend = 0, frame = 16
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558              		.loc 1 107 1 is_stmt 0 view .LVU187
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 14


 559 0000 10B5     		push	{r4, lr}
 560              	.LCFI5:
 561              		.cfi_def_cfa_offset 8
 562              		.cfi_offset 4, -8
 563              		.cfi_offset 14, -4
 564 0002 2DED048B 		vpush.64	{d8, d9}
 565              	.LCFI6:
 566              		.cfi_def_cfa_offset 24
 567              		.cfi_offset 80, -24
 568              		.cfi_offset 81, -20
 569              		.cfi_offset 82, -16
 570              		.cfi_offset 83, -12
 571 0006 84B0     		sub	sp, sp, #16
 572              	.LCFI7:
 573              		.cfi_def_cfa_offset 40
 574 0008 04AC     		add	r4, sp, #16
 575 000a 04E90F00 		stmdb	r4, {r0, r1, r2, r3}
 576 000e B0EE409A 		vmov.f32	s18, s0
 577 0012 0A9C     		ldr	r4, [sp, #40]
 108:../BLDCMotor/focmethod.c ****     dq->d =  cosf(theta)*i_alphabeta.alpha + sinf(theta)*i_alphabeta.beta;
 578              		.loc 1 108 5 is_stmt 1 view .LVU188
 579              		.loc 1 108 14 is_stmt 0 view .LVU189
 580 0014 FFF7FEFF 		bl	cosf
 581              	.LVL69:
 582              		.loc 1 108 14 view .LVU190
 583 0018 B0EE408A 		vmov.f32	s16, s0
 584              		.loc 1 108 37 view .LVU191
 585 001c DDED009A 		vldr.32	s19, [sp]
 586              		.loc 1 108 25 view .LVU192
 587 0020 60EE298A 		vmul.f32	s17, s0, s19
 588              		.loc 1 108 46 view .LVU193
 589 0024 B0EE490A 		vmov.f32	s0, s18
 590 0028 FFF7FEFF 		bl	sinf
 591              	.LVL70:
 592              		.loc 1 108 69 view .LVU194
 593 002c DDED017A 		vldr.32	s15, [sp, #4]
 594              		.loc 1 108 57 view .LVU195
 595 0030 20EE277A 		vmul.f32	s14, s0, s15
 596              		.loc 1 108 44 view .LVU196
 597 0034 78EE878A 		vadd.f32	s17, s17, s14
 598              		.loc 1 108 11 view .LVU197
 599 0038 C4ED008A 		vstr.32	s17, [r4]
 109:../BLDCMotor/focmethod.c ****     dq->q = -sinf(theta)*i_alphabeta.alpha + cosf(theta)*i_alphabeta.beta;    
 600              		.loc 1 109 5 is_stmt 1 view .LVU198
 601              		.loc 1 109 25 is_stmt 0 view .LVU199
 602 003c 20EE690A 		vnmul.f32	s0, s0, s19
 603              		.loc 1 109 57 view .LVU200
 604 0040 28EE278A 		vmul.f32	s16, s16, s15
 605              		.loc 1 109 44 view .LVU201
 606 0044 30EE080A 		vadd.f32	s0, s0, s16
 607              		.loc 1 109 11 view .LVU202
 608 0048 84ED010A 		vstr.32	s0, [r4, #4]
 110:../BLDCMotor/focmethod.c **** }
 609              		.loc 1 110 1 view .LVU203
 610 004c 04B0     		add	sp, sp, #16
 611              	.LCFI8:
 612              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 15


 613              		@ sp needed
 614 004e BDEC048B 		vldm	sp!, {d8-d9}
 615              	.LCFI9:
 616              		.cfi_restore 82
 617              		.cfi_restore 83
 618              		.cfi_restore 80
 619              		.cfi_restore 81
 620              		.cfi_def_cfa_offset 8
 621              	.LVL71:
 622              		.loc 1 110 1 view .LVU204
 623 0052 10BD     		pop	{r4, pc}
 624              		.loc 1 110 1 view .LVU205
 625              		.cfi_endproc
 626              	.LFE331:
 628              		.section	.text._2r_2s,"ax",%progbits
 629              		.align	1
 630              		.global	_2r_2s
 631              		.syntax unified
 632              		.thumb
 633              		.thumb_func
 635              	_2r_2s:
 636              	.LVL72:
 637              	.LFB332:
 111:../BLDCMotor/focmethod.c **** /*--------------��PARK�任------------------*/
 112:../BLDCMotor/focmethod.c ****  alpbet_t _2r_2s(dq_t i_dq,float theta)
 113:../BLDCMotor/focmethod.c **** {
 638              		.loc 1 113 1 is_stmt 1 view -0
 639              		.cfi_startproc
 640              		@ args = 20, pretend = 16, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
 642              		.loc 1 113 1 is_stmt 0 view .LVU207
 643 0000 84B0     		sub	sp, sp, #16
 644              	.LCFI10:
 645              		.cfi_def_cfa_offset 16
 646 0002 10B5     		push	{r4, lr}
 647              	.LCFI11:
 648              		.cfi_def_cfa_offset 24
 649              		.cfi_offset 4, -24
 650              		.cfi_offset 14, -20
 651 0004 2DED068B 		vpush.64	{d8, d9, d10}
 652              	.LCFI12:
 653              		.cfi_def_cfa_offset 48
 654              		.cfi_offset 80, -48
 655              		.cfi_offset 81, -44
 656              		.cfi_offset 82, -40
 657              		.cfi_offset 83, -36
 658              		.cfi_offset 84, -32
 659              		.cfi_offset 85, -28
 660 0008 0446     		mov	r4, r0
 661 000a 09A8     		add	r0, sp, #36
 662 000c 80E80E00 		stm	r0, {r1, r2, r3}
 663 0010 F0EE409A 		vmov.f32	s19, s0
 114:../BLDCMotor/focmethod.c ****     alpbet_t i_alphabeta;
 664              		.loc 1 114 5 is_stmt 1 view .LVU208
 115:../BLDCMotor/focmethod.c ****     i_alphabeta.alpha = i_dq.d * cosf(theta) -  i_dq.q * sinf(theta);
 665              		.loc 1 115 5 view .LVU209
 666              		.loc 1 115 29 is_stmt 0 view .LVU210
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 16


 667 0014 9DED098A 		vldr.32	s16, [sp, #36]
 668              		.loc 1 115 34 view .LVU211
 669 0018 FFF7FEFF 		bl	cosf
 670              	.LVL73:
 671              		.loc 1 115 34 view .LVU212
 672 001c F0EE408A 		vmov.f32	s17, s0
 673              		.loc 1 115 32 view .LVU213
 674 0020 28EE009A 		vmul.f32	s18, s16, s0
 675              		.loc 1 115 53 view .LVU214
 676 0024 9DED0AAA 		vldr.32	s20, [sp, #40]
 677              		.loc 1 115 58 view .LVU215
 678 0028 B0EE690A 		vmov.f32	s0, s19
 679 002c FFF7FEFF 		bl	sinf
 680              	.LVL74:
 681              		.loc 1 115 56 view .LVU216
 682 0030 6AEE007A 		vmul.f32	s15, s20, s0
 683              		.loc 1 115 46 view .LVU217
 684 0034 39EE679A 		vsub.f32	s18, s18, s15
 685              		.loc 1 115 23 view .LVU218
 686 0038 84ED009A 		vstr.32	s18, [r4]
 116:../BLDCMotor/focmethod.c ****     i_alphabeta.beta = i_dq.d * sinf(theta) +  i_dq.q * cosf(theta);
 687              		.loc 1 116 5 is_stmt 1 view .LVU219
 688              		.loc 1 116 31 is_stmt 0 view .LVU220
 689 003c 28EE008A 		vmul.f32	s16, s16, s0
 690              		.loc 1 116 55 view .LVU221
 691 0040 68EE8A8A 		vmul.f32	s17, s17, s20
 692              		.loc 1 116 45 view .LVU222
 693 0044 38EE288A 		vadd.f32	s16, s16, s17
 694              		.loc 1 116 22 view .LVU223
 695 0048 84ED018A 		vstr.32	s16, [r4, #4]
 117:../BLDCMotor/focmethod.c ****     return i_alphabeta;
 696              		.loc 1 117 5 is_stmt 1 view .LVU224
 118:../BLDCMotor/focmethod.c **** }
 697              		.loc 1 118 1 is_stmt 0 view .LVU225
 698 004c 2046     		mov	r0, r4
 699 004e BDEC068B 		vldm	sp!, {d8-d10}
 700              	.LCFI13:
 701              		.cfi_restore 84
 702              		.cfi_restore 85
 703              		.cfi_restore 82
 704              		.cfi_restore 83
 705              		.cfi_restore 80
 706              		.cfi_restore 81
 707              		.cfi_def_cfa_offset 24
 708 0052 BDE81040 		pop	{r4, lr}
 709              	.LCFI14:
 710              		.cfi_restore 14
 711              		.cfi_restore 4
 712              		.cfi_def_cfa_offset 16
 713              	.LVL75:
 714              		.loc 1 118 1 view .LVU226
 715 0056 04B0     		add	sp, sp, #16
 716              	.LCFI15:
 717              		.cfi_def_cfa_offset 0
 718 0058 7047     		bx	lr
 719              		.cfi_endproc
 720              	.LFE332:
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 17


 722              		.global	__aeabi_f2d
 723              		.global	__aeabi_d2f
 724              		.section	.text._normalize_angle,"ax",%progbits
 725              		.align	1
 726              		.global	_normalize_angle
 727              		.syntax unified
 728              		.thumb
 729              		.thumb_func
 731              	_normalize_angle:
 732              	.LVL76:
 733              	.LFB333:
 119:../BLDCMotor/focmethod.c **** 
 120:../BLDCMotor/focmethod.c **** /*-----------------------------------------*/
 121:../BLDCMotor/focmethod.c **** #if 0
 122:../BLDCMotor/focmethod.c **** static dq_t _3s_2r(abc_t i_abc, float theta)
 123:../BLDCMotor/focmethod.c **** {
 124:../BLDCMotor/focmethod.c ****     dq_t i_dq;
 125:../BLDCMotor/focmethod.c ****     float alpha,beta,rotor_theta;
 126:../BLDCMotor/focmethod.c ****     float ia, ib;
 127:../BLDCMotor/focmethod.c ****     ia = i_abc.a;
 128:../BLDCMotor/focmethod.c ****     ib = i_abc.b;
 129:../BLDCMotor/focmethod.c ****     rotor_theta =  theta;
 130:../BLDCMotor/focmethod.c ****     alpha = ia;
 131:../BLDCMotor/focmethod.c ****     beta = (2.0f*ib + ia)*0.577350269F;
 132:../BLDCMotor/focmethod.c ****     i_dq.d = alpha*cosf(rotor_theta) + beta*sinf(rotor_theta);
 133:../BLDCMotor/focmethod.c ****     i_dq.q = beta*cosf(rotor_theta) - alpha*sinf(rotor_theta);
 134:../BLDCMotor/focmethod.c ****     i_dq.theta = rotor_theta;
 135:../BLDCMotor/focmethod.c ****     return i_dq;
 136:../BLDCMotor/focmethod.c **** }
 137:../BLDCMotor/focmethod.c **** #endif
 138:../BLDCMotor/focmethod.c **** 
 139:../BLDCMotor/focmethod.c **** float _normalize_angle(float angle)
 140:../BLDCMotor/focmethod.c **** {
 734              		.loc 1 140 1 is_stmt 1 view -0
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 0
 737              		@ frame_needed = 0, uses_anonymous_args = 0
 738              		.loc 1 140 1 is_stmt 0 view .LVU228
 739 0000 08B5     		push	{r3, lr}
 740              	.LCFI16:
 741              		.cfi_def_cfa_offset 8
 742              		.cfi_offset 3, -8
 743              		.cfi_offset 14, -4
 744 0002 10EE100A 		vmov	r0, s0
 141:../BLDCMotor/focmethod.c ****   float a = fmod(angle, _2PI);
 745              		.loc 1 141 3 is_stmt 1 view .LVU229
 746              		.loc 1 141 13 is_stmt 0 view .LVU230
 747 0006 FFF7FEFF 		bl	__aeabi_f2d
 748              	.LVL77:
 749              		.loc 1 141 13 view .LVU231
 750 000a 9FED0B1B 		vldr.64	d1, .L45
 751 000e 41EC100B 		vmov	d0, r0, r1
 752 0012 FFF7FEFF 		bl	fmod
 753              	.LVL78:
 754 0016 51EC100B 		vmov	r0, r1, d0
 755              		.loc 1 141 9 view .LVU232
 756 001a FFF7FEFF 		bl	__aeabi_d2f
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 18


 757              	.LVL79:
 758 001e 00EE100A 		vmov	s0, r0
 759              	.LVL80:
 142:../BLDCMotor/focmethod.c ****   return a >= 0 ? a : (a + 2.0f*PI);  
 760              		.loc 1 142 3 is_stmt 1 view .LVU233
 761              		.loc 1 142 21 is_stmt 0 view .LVU234
 762 0022 B5EEC00A 		vcmpe.f32	s0, #0
 763 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 764 002a 00DB     		blt	.L44
 765              	.L41:
 143:../BLDCMotor/focmethod.c **** }
 766              		.loc 1 143 1 view .LVU235
 767 002c 08BD     		pop	{r3, pc}
 768              	.L44:
 142:../BLDCMotor/focmethod.c ****   return a >= 0 ? a : (a + 2.0f*PI);  
 769              		.loc 1 142 21 discriminator 2 view .LVU236
 770 002e DFED047A 		vldr.32	s15, .L45+8
 771 0032 30EE270A 		vadd.f32	s0, s0, s15
 772 0036 F9E7     		b	.L41
 773              	.L46:
 774              		.align	3
 775              	.L45:
 776 0038 00000040 		.word	1073741824
 777 003c FB211940 		.word	1075388923
 778 0040 DA0FC940 		.word	1086918618
 779              		.cfi_endproc
 780              	.LFE333:
 782              		.text
 783              	.Letext0:
 784              		.file 2 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_defa
 785              		.file 3 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h
 786              		.file 4 "../BLDCMotor/./motorctrl_common.h"
 787              		.file 5 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\math.h"
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 focmethod.c
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:20     .text._svpwm:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:26     .text._svpwm:00000000 _svpwm
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:100    .text._svpwm:0000005e $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:194    .text._svpwm:000000e4 $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:201    .text._svpwm:000000ea $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:487    .text._svpwm:00000268 $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:497    .text._3s_2s:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:503    .text._3s_2s:00000000 _3s_2s
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:540    .text._3s_2s:00000028 $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:545    .text._2s_2r:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:551    .text._2s_2r:00000000 _2s_2r
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:629    .text._2r_2s:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:635    .text._2r_2s:00000000 _2r_2s
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:725    .text._normalize_angle:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:731    .text._normalize_angle:00000000 _normalize_angle
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:776    .text._normalize_angle:00000038 $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:106    .text._svpwm:00000063 $d
C:\Users\57308\AppData\Local\Temp\ccp8AP1m.s:106    .text._svpwm:00000064 $t

UNDEFINED SYMBOLS
cosf
sinf
__aeabi_f2d
__aeabi_d2f
fmod
