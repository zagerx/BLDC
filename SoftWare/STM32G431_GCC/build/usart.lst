ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usart.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_USART1_UART_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_USART1_UART_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MX_USART1_UART_Init:
  27              	.LFB329:
  28              		.file 1 "Src/usart.c"
   1:Src/usart.c   **** /* USER CODE BEGIN Header */
   2:Src/usart.c   **** /**
   3:Src/usart.c   ****   ******************************************************************************
   4:Src/usart.c   ****   * @file    usart.c
   5:Src/usart.c   ****   * @brief   This file provides code for the configuration
   6:Src/usart.c   ****   *          of the USART instances.
   7:Src/usart.c   ****   ******************************************************************************
   8:Src/usart.c   ****   * @attention
   9:Src/usart.c   ****   *
  10:Src/usart.c   ****   * Copyright (c) 2023 STMicroelectronics.
  11:Src/usart.c   ****   * All rights reserved.
  12:Src/usart.c   ****   *
  13:Src/usart.c   ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Src/usart.c   ****   * in the root directory of this software component.
  15:Src/usart.c   ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Src/usart.c   ****   *
  17:Src/usart.c   ****   ******************************************************************************
  18:Src/usart.c   ****   */
  19:Src/usart.c   **** /* USER CODE END Header */
  20:Src/usart.c   **** /* Includes ------------------------------------------------------------------*/
  21:Src/usart.c   **** #include "usart.h"
  22:Src/usart.c   **** 
  23:Src/usart.c   **** /* USER CODE BEGIN 0 */
  24:Src/usart.c   **** #include "string.h"
  25:Src/usart.c   **** #include "protocol_cfg.h"
  26:Src/usart.c   **** #include "protocol.h"
  27:Src/usart.c   **** static uint8_t sg_uartreceive_buff[PRO_FRAME_MAX_SIZE];
  28:Src/usart.c   **** static unsigned char sg_uartsend_buf[PRO_FRAME_MAX_SIZE];
  29:Src/usart.c   **** /* USER CODE END 0 */
  30:Src/usart.c   **** 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 2


  31:Src/usart.c   **** UART_HandleTypeDef huart1;
  32:Src/usart.c   **** DMA_HandleTypeDef hdma_usart1_rx;
  33:Src/usart.c   **** DMA_HandleTypeDef hdma_usart1_tx;
  34:Src/usart.c   **** 
  35:Src/usart.c   **** /* USART1 init function */
  36:Src/usart.c   **** 
  37:Src/usart.c   **** void MX_USART1_UART_Init(void)
  38:Src/usart.c   **** {
  29              		.loc 1 38 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  39:Src/usart.c   **** 
  40:Src/usart.c   ****   /* USER CODE BEGIN USART1_Init 0 */
  41:Src/usart.c   **** 
  42:Src/usart.c   ****   /* USER CODE END USART1_Init 0 */
  43:Src/usart.c   **** 
  44:Src/usart.c   ****   /* USER CODE BEGIN USART1_Init 1 */
  45:Src/usart.c   **** 
  46:Src/usart.c   ****   /* USER CODE END USART1_Init 1 */
  47:Src/usart.c   ****   huart1.Instance = USART1;
  38              		.loc 1 47 3 view .LVU1
  39              		.loc 1 47 19 is_stmt 0 view .LVU2
  40 0002 1D48     		ldr	r0, .L11
  41 0004 1D4B     		ldr	r3, .L11+4
  42 0006 0360     		str	r3, [r0]
  48:Src/usart.c   ****   huart1.Init.BaudRate = 115200;
  43              		.loc 1 48 3 is_stmt 1 view .LVU3
  44              		.loc 1 48 24 is_stmt 0 view .LVU4
  45 0008 4FF4E133 		mov	r3, #115200
  46 000c 4360     		str	r3, [r0, #4]
  49:Src/usart.c   ****   huart1.Init.WordLength = UART_WORDLENGTH_8B;
  47              		.loc 1 49 3 is_stmt 1 view .LVU5
  48              		.loc 1 49 26 is_stmt 0 view .LVU6
  49 000e 0023     		movs	r3, #0
  50 0010 8360     		str	r3, [r0, #8]
  50:Src/usart.c   ****   huart1.Init.StopBits = UART_STOPBITS_1;
  51              		.loc 1 50 3 is_stmt 1 view .LVU7
  52              		.loc 1 50 24 is_stmt 0 view .LVU8
  53 0012 C360     		str	r3, [r0, #12]
  51:Src/usart.c   ****   huart1.Init.Parity = UART_PARITY_NONE;
  54              		.loc 1 51 3 is_stmt 1 view .LVU9
  55              		.loc 1 51 22 is_stmt 0 view .LVU10
  56 0014 0361     		str	r3, [r0, #16]
  52:Src/usart.c   ****   huart1.Init.Mode = UART_MODE_TX_RX;
  57              		.loc 1 52 3 is_stmt 1 view .LVU11
  58              		.loc 1 52 20 is_stmt 0 view .LVU12
  59 0016 0C22     		movs	r2, #12
  60 0018 4261     		str	r2, [r0, #20]
  53:Src/usart.c   ****   huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  61              		.loc 1 53 3 is_stmt 1 view .LVU13
  62              		.loc 1 53 25 is_stmt 0 view .LVU14
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 3


  63 001a 8361     		str	r3, [r0, #24]
  54:Src/usart.c   ****   huart1.Init.OverSampling = UART_OVERSAMPLING_16;
  64              		.loc 1 54 3 is_stmt 1 view .LVU15
  65              		.loc 1 54 28 is_stmt 0 view .LVU16
  66 001c C361     		str	r3, [r0, #28]
  55:Src/usart.c   ****   huart1.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
  67              		.loc 1 55 3 is_stmt 1 view .LVU17
  68              		.loc 1 55 30 is_stmt 0 view .LVU18
  69 001e 0362     		str	r3, [r0, #32]
  56:Src/usart.c   ****   huart1.Init.ClockPrescaler = UART_PRESCALER_DIV1;
  70              		.loc 1 56 3 is_stmt 1 view .LVU19
  71              		.loc 1 56 30 is_stmt 0 view .LVU20
  72 0020 4362     		str	r3, [r0, #36]
  57:Src/usart.c   ****   huart1.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
  73              		.loc 1 57 3 is_stmt 1 view .LVU21
  74              		.loc 1 57 38 is_stmt 0 view .LVU22
  75 0022 8362     		str	r3, [r0, #40]
  58:Src/usart.c   ****   if (HAL_UART_Init(&huart1) != HAL_OK)
  76              		.loc 1 58 3 is_stmt 1 view .LVU23
  77              		.loc 1 58 7 is_stmt 0 view .LVU24
  78 0024 FFF7FEFF 		bl	HAL_UART_Init
  79              	.LVL0:
  80              		.loc 1 58 6 view .LVU25
  81 0028 C8B9     		cbnz	r0, .L7
  82              	.L2:
  59:Src/usart.c   ****   {
  60:Src/usart.c   ****     Error_Handler();
  61:Src/usart.c   ****   }
  62:Src/usart.c   ****   if (HAL_UARTEx_SetTxFifoThreshold(&huart1, UART_TXFIFO_THRESHOLD_1_8) != HAL_OK)
  83              		.loc 1 62 3 is_stmt 1 view .LVU26
  84              		.loc 1 62 7 is_stmt 0 view .LVU27
  85 002a 0021     		movs	r1, #0
  86 002c 1248     		ldr	r0, .L11
  87 002e FFF7FEFF 		bl	HAL_UARTEx_SetTxFifoThreshold
  88              	.LVL1:
  89              		.loc 1 62 6 view .LVU28
  90 0032 B8B9     		cbnz	r0, .L8
  91              	.L3:
  63:Src/usart.c   ****   {
  64:Src/usart.c   ****     Error_Handler();
  65:Src/usart.c   ****   }
  66:Src/usart.c   ****   if (HAL_UARTEx_SetRxFifoThreshold(&huart1, UART_RXFIFO_THRESHOLD_1_8) != HAL_OK)
  92              		.loc 1 66 3 is_stmt 1 view .LVU29
  93              		.loc 1 66 7 is_stmt 0 view .LVU30
  94 0034 0021     		movs	r1, #0
  95 0036 1048     		ldr	r0, .L11
  96 0038 FFF7FEFF 		bl	HAL_UARTEx_SetRxFifoThreshold
  97              	.LVL2:
  98              		.loc 1 66 6 view .LVU31
  99 003c A8B9     		cbnz	r0, .L9
 100              	.L4:
  67:Src/usart.c   ****   {
  68:Src/usart.c   ****     Error_Handler();
  69:Src/usart.c   ****   }
  70:Src/usart.c   ****   if (HAL_UARTEx_DisableFifoMode(&huart1) != HAL_OK)
 101              		.loc 1 70 3 is_stmt 1 view .LVU32
 102              		.loc 1 70 7 is_stmt 0 view .LVU33
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 4


 103 003e 0E48     		ldr	r0, .L11
 104 0040 FFF7FEFF 		bl	HAL_UARTEx_DisableFifoMode
 105              	.LVL3:
 106              		.loc 1 70 6 view .LVU34
 107 0044 A0B9     		cbnz	r0, .L10
 108              	.L5:
  71:Src/usart.c   ****   {
  72:Src/usart.c   ****     Error_Handler();
  73:Src/usart.c   ****   }
  74:Src/usart.c   ****   /* USER CODE BEGIN USART1_Init 2 */
  75:Src/usart.c   ****   /*----------------- πƒ‹USART DMAΩ” ’----------------------------*/
  76:Src/usart.c   ****    __HAL_UART_ENABLE_IT(&huart1, UART_IT_IDLE);
 109              		.loc 1 76 4 is_stmt 1 view .LVU35
 110 0046 0C48     		ldr	r0, .L11
 111 0048 0268     		ldr	r2, [r0]
 112 004a 1368     		ldr	r3, [r2]
 113 004c 43F01003 		orr	r3, r3, #16
 114 0050 1360     		str	r3, [r2]
  77:Src/usart.c   ****     HAL_UART_Receive_DMA(&huart1, (uint8_t*)sg_uartreceive_buff, sizeof(sg_uartreceive_buff));  
 115              		.loc 1 77 5 view .LVU36
 116 0052 4FF48072 		mov	r2, #256
 117 0056 0A49     		ldr	r1, .L11+8
 118 0058 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 119              	.LVL4:
  78:Src/usart.c   ****     /*---------------πÿ±’USART DMA∑¢ÀÕ--------------------------*/
  79:Src/usart.c   ****   /* USER CODE END USART1_Init 2 */
  80:Src/usart.c   **** 
  81:Src/usart.c   **** }
 120              		.loc 1 81 1 is_stmt 0 view .LVU37
 121 005c 08BD     		pop	{r3, pc}
 122              	.L7:
  60:Src/usart.c   ****   }
 123              		.loc 1 60 5 is_stmt 1 view .LVU38
 124 005e FFF7FEFF 		bl	Error_Handler
 125              	.LVL5:
 126 0062 E2E7     		b	.L2
 127              	.L8:
  64:Src/usart.c   ****   }
 128              		.loc 1 64 5 view .LVU39
 129 0064 FFF7FEFF 		bl	Error_Handler
 130              	.LVL6:
 131 0068 E4E7     		b	.L3
 132              	.L9:
  68:Src/usart.c   ****   }
 133              		.loc 1 68 5 view .LVU40
 134 006a FFF7FEFF 		bl	Error_Handler
 135              	.LVL7:
 136 006e E6E7     		b	.L4
 137              	.L10:
  72:Src/usart.c   ****   }
 138              		.loc 1 72 5 view .LVU41
 139 0070 FFF7FEFF 		bl	Error_Handler
 140              	.LVL8:
 141 0074 E7E7     		b	.L5
 142              	.L12:
 143 0076 00BF     		.align	2
 144              	.L11:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 5


 145 0078 00000000 		.word	.LANCHOR0
 146 007c 00380140 		.word	1073821696
 147 0080 00000000 		.word	.LANCHOR1
 148              		.cfi_endproc
 149              	.LFE329:
 151              		.section	.text.HAL_UART_MspInit,"ax",%progbits
 152              		.align	1
 153              		.global	HAL_UART_MspInit
 154              		.syntax unified
 155              		.thumb
 156              		.thumb_func
 157              		.fpu fpv4-sp-d16
 159              	HAL_UART_MspInit:
 160              	.LVL9:
 161              	.LFB330:
  82:Src/usart.c   **** 
  83:Src/usart.c   **** void HAL_UART_MspInit(UART_HandleTypeDef* uartHandle)
  84:Src/usart.c   **** {
 162              		.loc 1 84 1 view -0
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 96
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		.loc 1 84 1 is_stmt 0 view .LVU43
 167 0000 30B5     		push	{r4, r5, lr}
 168              	.LCFI1:
 169              		.cfi_def_cfa_offset 12
 170              		.cfi_offset 4, -12
 171              		.cfi_offset 5, -8
 172              		.cfi_offset 14, -4
 173 0002 99B0     		sub	sp, sp, #100
 174              	.LCFI2:
 175              		.cfi_def_cfa_offset 112
 176 0004 0446     		mov	r4, r0
  85:Src/usart.c   **** 
  86:Src/usart.c   ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 177              		.loc 1 86 3 is_stmt 1 view .LVU44
 178              		.loc 1 86 20 is_stmt 0 view .LVU45
 179 0006 0021     		movs	r1, #0
 180 0008 1391     		str	r1, [sp, #76]
 181 000a 1491     		str	r1, [sp, #80]
 182 000c 1591     		str	r1, [sp, #84]
 183 000e 1691     		str	r1, [sp, #88]
 184 0010 1791     		str	r1, [sp, #92]
  87:Src/usart.c   ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 185              		.loc 1 87 3 is_stmt 1 view .LVU46
 186              		.loc 1 87 28 is_stmt 0 view .LVU47
 187 0012 4422     		movs	r2, #68
 188 0014 02A8     		add	r0, sp, #8
 189              	.LVL10:
 190              		.loc 1 87 28 view .LVU48
 191 0016 FFF7FEFF 		bl	memset
 192              	.LVL11:
  88:Src/usart.c   ****   if(uartHandle->Instance==USART1)
 193              		.loc 1 88 3 is_stmt 1 view .LVU49
 194              		.loc 1 88 16 is_stmt 0 view .LVU50
 195 001a 2268     		ldr	r2, [r4]
 196              		.loc 1 88 5 view .LVU51
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 6


 197 001c 324B     		ldr	r3, .L23
 198 001e 9A42     		cmp	r2, r3
 199 0020 01D0     		beq	.L19
 200              	.L13:
  89:Src/usart.c   ****   {
  90:Src/usart.c   ****   /* USER CODE BEGIN USART1_MspInit 0 */
  91:Src/usart.c   **** 
  92:Src/usart.c   ****   /* USER CODE END USART1_MspInit 0 */
  93:Src/usart.c   **** 
  94:Src/usart.c   ****   /** Initializes the peripherals clocks
  95:Src/usart.c   ****   */
  96:Src/usart.c   ****     PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USART1;
  97:Src/usart.c   ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK2;
  98:Src/usart.c   ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
  99:Src/usart.c   ****     {
 100:Src/usart.c   ****       Error_Handler();
 101:Src/usart.c   ****     }
 102:Src/usart.c   **** 
 103:Src/usart.c   ****     /* USART1 clock enable */
 104:Src/usart.c   ****     __HAL_RCC_USART1_CLK_ENABLE();
 105:Src/usart.c   **** 
 106:Src/usart.c   ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 107:Src/usart.c   ****     /**USART1 GPIO Configuration
 108:Src/usart.c   ****     PB6     ------> USART1_TX
 109:Src/usart.c   ****     PB7     ------> USART1_RX
 110:Src/usart.c   ****     */
 111:Src/usart.c   ****     GPIO_InitStruct.Pin = GPIO_PIN_6|GPIO_PIN_7;
 112:Src/usart.c   ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 113:Src/usart.c   ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 114:Src/usart.c   ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 115:Src/usart.c   ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART1;
 116:Src/usart.c   ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 117:Src/usart.c   **** 
 118:Src/usart.c   ****     /* USART1 DMA Init */
 119:Src/usart.c   ****     /* USART1_RX Init */
 120:Src/usart.c   ****     hdma_usart1_rx.Instance = DMA1_Channel1;
 121:Src/usart.c   ****     hdma_usart1_rx.Init.Request = DMA_REQUEST_USART1_RX;
 122:Src/usart.c   ****     hdma_usart1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 123:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 124:Src/usart.c   ****     hdma_usart1_rx.Init.MemInc = DMA_MINC_ENABLE;
 125:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 126:Src/usart.c   ****     hdma_usart1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 127:Src/usart.c   ****     hdma_usart1_rx.Init.Mode = DMA_NORMAL;
 128:Src/usart.c   ****     hdma_usart1_rx.Init.Priority = DMA_PRIORITY_LOW;
 129:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_rx) != HAL_OK)
 130:Src/usart.c   ****     {
 131:Src/usart.c   ****       Error_Handler();
 132:Src/usart.c   ****     }
 133:Src/usart.c   **** 
 134:Src/usart.c   ****     __HAL_LINKDMA(uartHandle,hdmarx,hdma_usart1_rx);
 135:Src/usart.c   **** 
 136:Src/usart.c   ****     /* USART1_TX Init */
 137:Src/usart.c   ****     hdma_usart1_tx.Instance = DMA1_Channel2;
 138:Src/usart.c   ****     hdma_usart1_tx.Init.Request = DMA_REQUEST_USART1_TX;
 139:Src/usart.c   ****     hdma_usart1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 140:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 141:Src/usart.c   ****     hdma_usart1_tx.Init.MemInc = DMA_MINC_ENABLE;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 7


 142:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 143:Src/usart.c   ****     hdma_usart1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 144:Src/usart.c   ****     hdma_usart1_tx.Init.Mode = DMA_NORMAL;
 145:Src/usart.c   ****     hdma_usart1_tx.Init.Priority = DMA_PRIORITY_LOW;
 146:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_tx) != HAL_OK)
 147:Src/usart.c   ****     {
 148:Src/usart.c   ****       Error_Handler();
 149:Src/usart.c   ****     }
 150:Src/usart.c   **** 
 151:Src/usart.c   ****     __HAL_LINKDMA(uartHandle,hdmatx,hdma_usart1_tx);
 152:Src/usart.c   **** 
 153:Src/usart.c   ****     /* USART1 interrupt Init */
 154:Src/usart.c   ****     HAL_NVIC_SetPriority(USART1_IRQn, 0, 0);
 155:Src/usart.c   ****     HAL_NVIC_EnableIRQ(USART1_IRQn);
 156:Src/usart.c   ****   /* USER CODE BEGIN USART1_MspInit 1 */
 157:Src/usart.c   **** 
 158:Src/usart.c   ****   /* USER CODE END USART1_MspInit 1 */
 159:Src/usart.c   ****   }
 160:Src/usart.c   **** }
 201              		.loc 1 160 1 view .LVU52
 202 0022 19B0     		add	sp, sp, #100
 203              	.LCFI3:
 204              		.cfi_remember_state
 205              		.cfi_def_cfa_offset 12
 206              		@ sp needed
 207 0024 30BD     		pop	{r4, r5, pc}
 208              	.LVL12:
 209              	.L19:
 210              	.LCFI4:
 211              		.cfi_restore_state
  96:Src/usart.c   ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK2;
 212              		.loc 1 96 5 is_stmt 1 view .LVU53
  96:Src/usart.c   ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK2;
 213              		.loc 1 96 40 is_stmt 0 view .LVU54
 214 0026 0123     		movs	r3, #1
 215 0028 0293     		str	r3, [sp, #8]
  97:Src/usart.c   ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 216              		.loc 1 97 5 is_stmt 1 view .LVU55
  98:Src/usart.c   ****     {
 217              		.loc 1 98 5 view .LVU56
  98:Src/usart.c   ****     {
 218              		.loc 1 98 9 is_stmt 0 view .LVU57
 219 002a 02A8     		add	r0, sp, #8
 220 002c FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 221              	.LVL13:
  98:Src/usart.c   ****     {
 222              		.loc 1 98 8 view .LVU58
 223 0030 0028     		cmp	r0, #0
 224 0032 50D1     		bne	.L20
 225              	.L15:
 104:Src/usart.c   **** 
 226              		.loc 1 104 5 is_stmt 1 view .LVU59
 227              	.LBB2:
 104:Src/usart.c   **** 
 228              		.loc 1 104 5 view .LVU60
 104:Src/usart.c   **** 
 229              		.loc 1 104 5 view .LVU61
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 8


 230 0034 2D4B     		ldr	r3, .L23+4
 231 0036 1A6E     		ldr	r2, [r3, #96]
 232 0038 42F48042 		orr	r2, r2, #16384
 233 003c 1A66     		str	r2, [r3, #96]
 104:Src/usart.c   **** 
 234              		.loc 1 104 5 view .LVU62
 235 003e 1A6E     		ldr	r2, [r3, #96]
 236 0040 02F48042 		and	r2, r2, #16384
 237 0044 0092     		str	r2, [sp]
 104:Src/usart.c   **** 
 238              		.loc 1 104 5 view .LVU63
 239 0046 009A     		ldr	r2, [sp]
 240              	.LBE2:
 104:Src/usart.c   **** 
 241              		.loc 1 104 5 view .LVU64
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 242              		.loc 1 106 5 view .LVU65
 243              	.LBB3:
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 244              		.loc 1 106 5 view .LVU66
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 245              		.loc 1 106 5 view .LVU67
 246 0048 DA6C     		ldr	r2, [r3, #76]
 247 004a 42F00202 		orr	r2, r2, #2
 248 004e DA64     		str	r2, [r3, #76]
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 249              		.loc 1 106 5 view .LVU68
 250 0050 DB6C     		ldr	r3, [r3, #76]
 251 0052 03F00203 		and	r3, r3, #2
 252 0056 0193     		str	r3, [sp, #4]
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 253              		.loc 1 106 5 view .LVU69
 254 0058 019B     		ldr	r3, [sp, #4]
 255              	.LBE3:
 106:Src/usart.c   ****     /**USART1 GPIO Configuration
 256              		.loc 1 106 5 view .LVU70
 111:Src/usart.c   ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 257              		.loc 1 111 5 view .LVU71
 111:Src/usart.c   ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 258              		.loc 1 111 25 is_stmt 0 view .LVU72
 259 005a C023     		movs	r3, #192
 260 005c 1393     		str	r3, [sp, #76]
 112:Src/usart.c   ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 261              		.loc 1 112 5 is_stmt 1 view .LVU73
 112:Src/usart.c   ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 262              		.loc 1 112 26 is_stmt 0 view .LVU74
 263 005e 0223     		movs	r3, #2
 264 0060 1493     		str	r3, [sp, #80]
 113:Src/usart.c   ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 265              		.loc 1 113 5 is_stmt 1 view .LVU75
 113:Src/usart.c   ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 266              		.loc 1 113 26 is_stmt 0 view .LVU76
 267 0062 0025     		movs	r5, #0
 268 0064 1595     		str	r5, [sp, #84]
 114:Src/usart.c   ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART1;
 269              		.loc 1 114 5 is_stmt 1 view .LVU77
 114:Src/usart.c   ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART1;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 9


 270              		.loc 1 114 27 is_stmt 0 view .LVU78
 271 0066 1695     		str	r5, [sp, #88]
 115:Src/usart.c   ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 272              		.loc 1 115 5 is_stmt 1 view .LVU79
 115:Src/usart.c   ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 273              		.loc 1 115 31 is_stmt 0 view .LVU80
 274 0068 0723     		movs	r3, #7
 275 006a 1793     		str	r3, [sp, #92]
 116:Src/usart.c   **** 
 276              		.loc 1 116 5 is_stmt 1 view .LVU81
 277 006c 13A9     		add	r1, sp, #76
 278 006e 2048     		ldr	r0, .L23+8
 279 0070 FFF7FEFF 		bl	HAL_GPIO_Init
 280              	.LVL14:
 120:Src/usart.c   ****     hdma_usart1_rx.Init.Request = DMA_REQUEST_USART1_RX;
 281              		.loc 1 120 5 view .LVU82
 120:Src/usart.c   ****     hdma_usart1_rx.Init.Request = DMA_REQUEST_USART1_RX;
 282              		.loc 1 120 29 is_stmt 0 view .LVU83
 283 0074 1F48     		ldr	r0, .L23+12
 284 0076 204B     		ldr	r3, .L23+16
 285 0078 0360     		str	r3, [r0]
 121:Src/usart.c   ****     hdma_usart1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 286              		.loc 1 121 5 is_stmt 1 view .LVU84
 121:Src/usart.c   ****     hdma_usart1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 287              		.loc 1 121 33 is_stmt 0 view .LVU85
 288 007a 1823     		movs	r3, #24
 289 007c 4360     		str	r3, [r0, #4]
 122:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 290              		.loc 1 122 5 is_stmt 1 view .LVU86
 122:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 291              		.loc 1 122 35 is_stmt 0 view .LVU87
 292 007e 8560     		str	r5, [r0, #8]
 123:Src/usart.c   ****     hdma_usart1_rx.Init.MemInc = DMA_MINC_ENABLE;
 293              		.loc 1 123 5 is_stmt 1 view .LVU88
 123:Src/usart.c   ****     hdma_usart1_rx.Init.MemInc = DMA_MINC_ENABLE;
 294              		.loc 1 123 35 is_stmt 0 view .LVU89
 295 0080 C560     		str	r5, [r0, #12]
 124:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 296              		.loc 1 124 5 is_stmt 1 view .LVU90
 124:Src/usart.c   ****     hdma_usart1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 297              		.loc 1 124 32 is_stmt 0 view .LVU91
 298 0082 8023     		movs	r3, #128
 299 0084 0361     		str	r3, [r0, #16]
 125:Src/usart.c   ****     hdma_usart1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 300              		.loc 1 125 5 is_stmt 1 view .LVU92
 125:Src/usart.c   ****     hdma_usart1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 301              		.loc 1 125 45 is_stmt 0 view .LVU93
 302 0086 4561     		str	r5, [r0, #20]
 126:Src/usart.c   ****     hdma_usart1_rx.Init.Mode = DMA_NORMAL;
 303              		.loc 1 126 5 is_stmt 1 view .LVU94
 126:Src/usart.c   ****     hdma_usart1_rx.Init.Mode = DMA_NORMAL;
 304              		.loc 1 126 42 is_stmt 0 view .LVU95
 305 0088 8561     		str	r5, [r0, #24]
 127:Src/usart.c   ****     hdma_usart1_rx.Init.Priority = DMA_PRIORITY_LOW;
 306              		.loc 1 127 5 is_stmt 1 view .LVU96
 127:Src/usart.c   ****     hdma_usart1_rx.Init.Priority = DMA_PRIORITY_LOW;
 307              		.loc 1 127 30 is_stmt 0 view .LVU97
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 10


 308 008a C561     		str	r5, [r0, #28]
 128:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_rx) != HAL_OK)
 309              		.loc 1 128 5 is_stmt 1 view .LVU98
 128:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_rx) != HAL_OK)
 310              		.loc 1 128 34 is_stmt 0 view .LVU99
 311 008c 0562     		str	r5, [r0, #32]
 129:Src/usart.c   ****     {
 312              		.loc 1 129 5 is_stmt 1 view .LVU100
 129:Src/usart.c   ****     {
 313              		.loc 1 129 9 is_stmt 0 view .LVU101
 314 008e FFF7FEFF 		bl	HAL_DMA_Init
 315              	.LVL15:
 129:Src/usart.c   ****     {
 316              		.loc 1 129 8 view .LVU102
 317 0092 18BB     		cbnz	r0, .L21
 318              	.L16:
 134:Src/usart.c   **** 
 319              		.loc 1 134 5 is_stmt 1 view .LVU103
 134:Src/usart.c   **** 
 320              		.loc 1 134 5 view .LVU104
 321 0094 174B     		ldr	r3, .L23+12
 322 0096 E367     		str	r3, [r4, #124]
 134:Src/usart.c   **** 
 323              		.loc 1 134 5 view .LVU105
 324 0098 9C62     		str	r4, [r3, #40]
 134:Src/usart.c   **** 
 325              		.loc 1 134 5 view .LVU106
 137:Src/usart.c   ****     hdma_usart1_tx.Init.Request = DMA_REQUEST_USART1_TX;
 326              		.loc 1 137 5 view .LVU107
 137:Src/usart.c   ****     hdma_usart1_tx.Init.Request = DMA_REQUEST_USART1_TX;
 327              		.loc 1 137 29 is_stmt 0 view .LVU108
 328 009a 1848     		ldr	r0, .L23+20
 329 009c 184B     		ldr	r3, .L23+24
 330 009e 0360     		str	r3, [r0]
 138:Src/usart.c   ****     hdma_usart1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 331              		.loc 1 138 5 is_stmt 1 view .LVU109
 138:Src/usart.c   ****     hdma_usart1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 332              		.loc 1 138 33 is_stmt 0 view .LVU110
 333 00a0 1923     		movs	r3, #25
 334 00a2 4360     		str	r3, [r0, #4]
 139:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 335              		.loc 1 139 5 is_stmt 1 view .LVU111
 139:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 336              		.loc 1 139 35 is_stmt 0 view .LVU112
 337 00a4 1023     		movs	r3, #16
 338 00a6 8360     		str	r3, [r0, #8]
 140:Src/usart.c   ****     hdma_usart1_tx.Init.MemInc = DMA_MINC_ENABLE;
 339              		.loc 1 140 5 is_stmt 1 view .LVU113
 140:Src/usart.c   ****     hdma_usart1_tx.Init.MemInc = DMA_MINC_ENABLE;
 340              		.loc 1 140 35 is_stmt 0 view .LVU114
 341 00a8 0023     		movs	r3, #0
 342 00aa C360     		str	r3, [r0, #12]
 141:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 343              		.loc 1 141 5 is_stmt 1 view .LVU115
 141:Src/usart.c   ****     hdma_usart1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 344              		.loc 1 141 32 is_stmt 0 view .LVU116
 345 00ac 8022     		movs	r2, #128
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 11


 346 00ae 0261     		str	r2, [r0, #16]
 142:Src/usart.c   ****     hdma_usart1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 347              		.loc 1 142 5 is_stmt 1 view .LVU117
 142:Src/usart.c   ****     hdma_usart1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 348              		.loc 1 142 45 is_stmt 0 view .LVU118
 349 00b0 4361     		str	r3, [r0, #20]
 143:Src/usart.c   ****     hdma_usart1_tx.Init.Mode = DMA_NORMAL;
 350              		.loc 1 143 5 is_stmt 1 view .LVU119
 143:Src/usart.c   ****     hdma_usart1_tx.Init.Mode = DMA_NORMAL;
 351              		.loc 1 143 42 is_stmt 0 view .LVU120
 352 00b2 8361     		str	r3, [r0, #24]
 144:Src/usart.c   ****     hdma_usart1_tx.Init.Priority = DMA_PRIORITY_LOW;
 353              		.loc 1 144 5 is_stmt 1 view .LVU121
 144:Src/usart.c   ****     hdma_usart1_tx.Init.Priority = DMA_PRIORITY_LOW;
 354              		.loc 1 144 30 is_stmt 0 view .LVU122
 355 00b4 C361     		str	r3, [r0, #28]
 145:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_tx) != HAL_OK)
 356              		.loc 1 145 5 is_stmt 1 view .LVU123
 145:Src/usart.c   ****     if (HAL_DMA_Init(&hdma_usart1_tx) != HAL_OK)
 357              		.loc 1 145 34 is_stmt 0 view .LVU124
 358 00b6 0362     		str	r3, [r0, #32]
 146:Src/usart.c   ****     {
 359              		.loc 1 146 5 is_stmt 1 view .LVU125
 146:Src/usart.c   ****     {
 360              		.loc 1 146 9 is_stmt 0 view .LVU126
 361 00b8 FFF7FEFF 		bl	HAL_DMA_Init
 362              	.LVL16:
 146:Src/usart.c   ****     {
 363              		.loc 1 146 8 view .LVU127
 364 00bc 88B9     		cbnz	r0, .L22
 365              	.L17:
 151:Src/usart.c   **** 
 366              		.loc 1 151 5 is_stmt 1 view .LVU128
 151:Src/usart.c   **** 
 367              		.loc 1 151 5 view .LVU129
 368 00be 0F4B     		ldr	r3, .L23+20
 369 00c0 A367     		str	r3, [r4, #120]
 151:Src/usart.c   **** 
 370              		.loc 1 151 5 view .LVU130
 371 00c2 9C62     		str	r4, [r3, #40]
 151:Src/usart.c   **** 
 372              		.loc 1 151 5 view .LVU131
 154:Src/usart.c   ****     HAL_NVIC_EnableIRQ(USART1_IRQn);
 373              		.loc 1 154 5 view .LVU132
 374 00c4 0022     		movs	r2, #0
 375 00c6 1146     		mov	r1, r2
 376 00c8 2520     		movs	r0, #37
 377 00ca FFF7FEFF 		bl	HAL_NVIC_SetPriority
 378              	.LVL17:
 155:Src/usart.c   ****   /* USER CODE BEGIN USART1_MspInit 1 */
 379              		.loc 1 155 5 view .LVU133
 380 00ce 2520     		movs	r0, #37
 381 00d0 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 382              	.LVL18:
 383              		.loc 1 160 1 is_stmt 0 view .LVU134
 384 00d4 A5E7     		b	.L13
 385              	.L20:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 12


 100:Src/usart.c   ****     }
 386              		.loc 1 100 7 is_stmt 1 view .LVU135
 387 00d6 FFF7FEFF 		bl	Error_Handler
 388              	.LVL19:
 389 00da ABE7     		b	.L15
 390              	.L21:
 131:Src/usart.c   ****     }
 391              		.loc 1 131 7 view .LVU136
 392 00dc FFF7FEFF 		bl	Error_Handler
 393              	.LVL20:
 394 00e0 D8E7     		b	.L16
 395              	.L22:
 148:Src/usart.c   ****     }
 396              		.loc 1 148 7 view .LVU137
 397 00e2 FFF7FEFF 		bl	Error_Handler
 398              	.LVL21:
 399 00e6 EAE7     		b	.L17
 400              	.L24:
 401              		.align	2
 402              	.L23:
 403 00e8 00380140 		.word	1073821696
 404 00ec 00100240 		.word	1073876992
 405 00f0 00040048 		.word	1207960576
 406 00f4 00000000 		.word	.LANCHOR2
 407 00f8 08000240 		.word	1073872904
 408 00fc 00000000 		.word	.LANCHOR3
 409 0100 1C000240 		.word	1073872924
 410              		.cfi_endproc
 411              	.LFE330:
 413              		.section	.text.HAL_UART_MspDeInit,"ax",%progbits
 414              		.align	1
 415              		.global	HAL_UART_MspDeInit
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 419              		.fpu fpv4-sp-d16
 421              	HAL_UART_MspDeInit:
 422              	.LVL22:
 423              	.LFB331:
 161:Src/usart.c   **** 
 162:Src/usart.c   **** void HAL_UART_MspDeInit(UART_HandleTypeDef* uartHandle)
 163:Src/usart.c   **** {
 424              		.loc 1 163 1 view -0
 425              		.cfi_startproc
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 164:Src/usart.c   **** 
 165:Src/usart.c   ****   if(uartHandle->Instance==USART1)
 428              		.loc 1 165 3 view .LVU139
 429              		.loc 1 165 16 is_stmt 0 view .LVU140
 430 0000 0268     		ldr	r2, [r0]
 431              		.loc 1 165 5 view .LVU141
 432 0002 0C4B     		ldr	r3, .L32
 433 0004 9A42     		cmp	r2, r3
 434 0006 00D0     		beq	.L31
 435 0008 7047     		bx	lr
 436              	.L31:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 13


 163:Src/usart.c   **** 
 437              		.loc 1 163 1 view .LVU142
 438 000a 10B5     		push	{r4, lr}
 439              	.LCFI5:
 440              		.cfi_def_cfa_offset 8
 441              		.cfi_offset 4, -8
 442              		.cfi_offset 14, -4
 443 000c 0446     		mov	r4, r0
 166:Src/usart.c   ****   {
 167:Src/usart.c   ****   /* USER CODE BEGIN USART1_MspDeInit 0 */
 168:Src/usart.c   **** 
 169:Src/usart.c   ****   /* USER CODE END USART1_MspDeInit 0 */
 170:Src/usart.c   ****     /* Peripheral clock disable */
 171:Src/usart.c   ****     __HAL_RCC_USART1_CLK_DISABLE();
 444              		.loc 1 171 5 is_stmt 1 view .LVU143
 445 000e 0A4A     		ldr	r2, .L32+4
 446 0010 136E     		ldr	r3, [r2, #96]
 447 0012 23F48043 		bic	r3, r3, #16384
 448 0016 1366     		str	r3, [r2, #96]
 172:Src/usart.c   **** 
 173:Src/usart.c   ****     /**USART1 GPIO Configuration
 174:Src/usart.c   ****     PB6     ------> USART1_TX
 175:Src/usart.c   ****     PB7     ------> USART1_RX
 176:Src/usart.c   ****     */
 177:Src/usart.c   ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_6|GPIO_PIN_7);
 449              		.loc 1 177 5 view .LVU144
 450 0018 C021     		movs	r1, #192
 451 001a 0848     		ldr	r0, .L32+8
 452              	.LVL23:
 453              		.loc 1 177 5 is_stmt 0 view .LVU145
 454 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
 455              	.LVL24:
 178:Src/usart.c   **** 
 179:Src/usart.c   ****     /* USART1 DMA DeInit */
 180:Src/usart.c   ****     HAL_DMA_DeInit(uartHandle->hdmarx);
 456              		.loc 1 180 5 is_stmt 1 view .LVU146
 457 0020 E06F     		ldr	r0, [r4, #124]
 458 0022 FFF7FEFF 		bl	HAL_DMA_DeInit
 459              	.LVL25:
 181:Src/usart.c   ****     HAL_DMA_DeInit(uartHandle->hdmatx);
 460              		.loc 1 181 5 view .LVU147
 461 0026 A06F     		ldr	r0, [r4, #120]
 462 0028 FFF7FEFF 		bl	HAL_DMA_DeInit
 463              	.LVL26:
 182:Src/usart.c   **** 
 183:Src/usart.c   ****     /* USART1 interrupt Deinit */
 184:Src/usart.c   ****     HAL_NVIC_DisableIRQ(USART1_IRQn);
 464              		.loc 1 184 5 view .LVU148
 465 002c 2520     		movs	r0, #37
 466 002e FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 467              	.LVL27:
 185:Src/usart.c   ****   /* USER CODE BEGIN USART1_MspDeInit 1 */
 186:Src/usart.c   **** 
 187:Src/usart.c   ****   /* USER CODE END USART1_MspDeInit 1 */
 188:Src/usart.c   ****   }
 189:Src/usart.c   **** }
 468              		.loc 1 189 1 is_stmt 0 view .LVU149
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 14


 469 0032 10BD     		pop	{r4, pc}
 470              	.LVL28:
 471              	.L33:
 472              		.loc 1 189 1 view .LVU150
 473              		.align	2
 474              	.L32:
 475 0034 00380140 		.word	1073821696
 476 0038 00100240 		.word	1073876992
 477 003c 00040048 		.word	1207960576
 478              		.cfi_endproc
 479              	.LFE331:
 481              		.section	.text._bsp_protransmit,"ax",%progbits
 482              		.align	1
 483              		.global	_bsp_protransmit
 484              		.syntax unified
 485              		.thumb
 486              		.thumb_func
 487              		.fpu fpv4-sp-d16
 489              	_bsp_protransmit:
 490              	.LVL29:
 491              	.LFB332:
 190:Src/usart.c   **** 
 191:Src/usart.c   **** /* USER CODE BEGIN 1 */
 192:Src/usart.c   **** 
 193:Src/usart.c   **** void _bsp_protransmit(unsigned char* pdata,unsigned short len)
 194:Src/usart.c   **** {
 492              		.loc 1 194 1 is_stmt 1 view -0
 493              		.cfi_startproc
 494              		@ args = 0, pretend = 0, frame = 0
 495              		@ frame_needed = 0, uses_anonymous_args = 0
 496              		.loc 1 194 1 is_stmt 0 view .LVU152
 497 0000 38B5     		push	{r3, r4, r5, lr}
 498              	.LCFI6:
 499              		.cfi_def_cfa_offset 16
 500              		.cfi_offset 3, -16
 501              		.cfi_offset 4, -12
 502              		.cfi_offset 5, -8
 503              		.cfi_offset 14, -4
 504 0002 0C46     		mov	r4, r1
 195:Src/usart.c   ****     memcpy(sg_uartsend_buf,pdata,len);
 505              		.loc 1 195 5 is_stmt 1 view .LVU153
 506 0004 054D     		ldr	r5, .L36
 507 0006 0A46     		mov	r2, r1
 508 0008 0146     		mov	r1, r0
 509              	.LVL30:
 510              		.loc 1 195 5 is_stmt 0 view .LVU154
 511 000a 2846     		mov	r0, r5
 512              	.LVL31:
 513              		.loc 1 195 5 view .LVU155
 514 000c FFF7FEFF 		bl	memcpy
 515              	.LVL32:
 196:Src/usart.c   ****     HAL_UART_Transmit_DMA(&huart1,sg_uartsend_buf,len);
 516              		.loc 1 196 5 is_stmt 1 view .LVU156
 517 0010 2246     		mov	r2, r4
 518 0012 2946     		mov	r1, r5
 519 0014 0248     		ldr	r0, .L36+4
 520 0016 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 15


 521              	.LVL33:
 197:Src/usart.c   **** }
 522              		.loc 1 197 1 is_stmt 0 view .LVU157
 523 001a 38BD     		pop	{r3, r4, r5, pc}
 524              	.L37:
 525              		.align	2
 526              	.L36:
 527 001c 00000000 		.word	.LANCHOR4
 528 0020 00000000 		.word	.LANCHOR0
 529              		.cfi_endproc
 530              	.LFE332:
 532              		.section	.text.USER_UART_IRQHandler,"ax",%progbits
 533              		.align	1
 534              		.global	USER_UART_IRQHandler
 535              		.syntax unified
 536              		.thumb
 537              		.thumb_func
 538              		.fpu fpv4-sp-d16
 540              	USER_UART_IRQHandler:
 541              	.LVL34:
 542              	.LFB333:
 198:Src/usart.c   **** 
 199:Src/usart.c   **** void USER_UART_IRQHandler(UART_HandleTypeDef *huart)
 200:Src/usart.c   **** {
 543              		.loc 1 200 1 is_stmt 1 view -0
 544              		.cfi_startproc
 545              		@ args = 0, pretend = 0, frame = 0
 546              		@ frame_needed = 0, uses_anonymous_args = 0
 201:Src/usart.c   ****     if(USART1 == huart1.Instance)                                   //≈–∂œ «∑Ò «¥Æø⁄1£®£°¥À¥¶”¶–¥(h
 547              		.loc 1 201 5 view .LVU159
 548              		.loc 1 201 24 is_stmt 0 view .LVU160
 549 0000 144B     		ldr	r3, .L45
 550 0002 1B68     		ldr	r3, [r3]
 551              		.loc 1 201 7 view .LVU161
 552 0004 144A     		ldr	r2, .L45+4
 553 0006 9342     		cmp	r3, r2
 554 0008 00D0     		beq	.L44
 555              	.L41:
 556 000a 7047     		bx	lr
 557              	.L44:
 202:Src/usart.c   ****     {
 203:Src/usart.c   ****         if(RESET != __HAL_UART_GET_FLAG(&huart1, UART_FLAG_IDLE))   //≈–∂œ «∑Ò «ø’œ–÷–∂œ
 558              		.loc 1 203 9 is_stmt 1 view .LVU162
 559              		.loc 1 203 21 is_stmt 0 view .LVU163
 560 000c DA69     		ldr	r2, [r3, #28]
 561              		.loc 1 203 11 view .LVU164
 562 000e 12F0100F 		tst	r2, #16
 563 0012 FAD0     		beq	.L41
 200:Src/usart.c   ****     if(USART1 == huart1.Instance)                                   //≈–∂œ «∑Ò «¥Æø⁄1£®£°¥À¥¶”¶–¥(h
 564              		.loc 1 200 1 view .LVU165
 565 0014 70B5     		push	{r4, r5, r6, lr}
 566              	.LCFI7:
 567              		.cfi_def_cfa_offset 16
 568              		.cfi_offset 4, -16
 569              		.cfi_offset 5, -12
 570              		.cfi_offset 6, -8
 571              		.cfi_offset 14, -4
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 16


 572              	.LBB4:
 204:Src/usart.c   ****         {
 205:Src/usart.c   ****             __HAL_UART_CLEAR_IDLEFLAG(&huart1);                     //«Â≥˛ø’œ–÷–∂œ±Í÷æ£®∑Ò‘Úª·“ª÷±≤
 573              		.loc 1 205 13 is_stmt 1 view .LVU166
 574 0016 1022     		movs	r2, #16
 575 0018 1A62     		str	r2, [r3, #32]
 206:Src/usart.c   ****             HAL_UART_DMAStop(&huart1);//Õ£÷π±æ¥ŒDMA¥´ ‰
 576              		.loc 1 206 13 view .LVU167
 577 001a 0E4E     		ldr	r6, .L45
 578 001c 3046     		mov	r0, r6
 579              	.LVL35:
 580              		.loc 1 206 13 is_stmt 0 view .LVU168
 581 001e FFF7FEFF 		bl	HAL_UART_DMAStop
 582              	.LVL36:
 207:Src/usart.c   ****             unsigned short data_length  = sizeof(sg_uartreceive_buff) - __HAL_DMA_GET_COUNTER(&hdma
 583              		.loc 1 207 13 is_stmt 1 view .LVU169
 584              		.loc 1 207 73 is_stmt 0 view .LVU170
 585 0022 0E4B     		ldr	r3, .L45+8
 586 0024 1B68     		ldr	r3, [r3]
 587 0026 5C68     		ldr	r4, [r3, #4]
 588              		.loc 1 207 71 view .LVU171
 589 0028 A4B2     		uxth	r4, r4
 590              		.loc 1 207 28 view .LVU172
 591 002a C4F58074 		rsb	r4, r4, #256
 592 002e A4B2     		uxth	r4, r4
 593              	.LVL37:
 208:Src/usart.c   ****             protocol_reciverdata_tofifo(sg_uartreceive_buff,data_length);
 594              		.loc 1 208 13 is_stmt 1 view .LVU173
 595 0030 0B4D     		ldr	r5, .L45+12
 596 0032 2146     		mov	r1, r4
 597 0034 2846     		mov	r0, r5
 598 0036 FFF7FEFF 		bl	protocol_reciverdata_tofifo
 599              	.LVL38:
 209:Src/usart.c   ****             memset(sg_uartreceive_buff,0,data_length);                                            /
 600              		.loc 1 209 13 view .LVU174
 601 003a 2246     		mov	r2, r4
 602 003c 0021     		movs	r1, #0
 603 003e 2846     		mov	r0, r5
 604 0040 FFF7FEFF 		bl	memset
 605              	.LVL39:
 210:Src/usart.c   ****             data_length = 0;
 606              		.loc 1 210 13 view .LVU175
 211:Src/usart.c   ****             HAL_UART_Receive_DMA(&huart1, (uint8_t*)sg_uartreceive_buff, sizeof(sg_uartreceive_buff
 607              		.loc 1 211 13 view .LVU176
 608 0044 4FF48072 		mov	r2, #256
 609 0048 2946     		mov	r1, r5
 610 004a 3046     		mov	r0, r6
 611 004c FFF7FEFF 		bl	HAL_UART_Receive_DMA
 612              	.LVL40:
 613              	.LBE4:
 212:Src/usart.c   ****         }
 213:Src/usart.c   ****     }
 214:Src/usart.c   **** }
 614              		.loc 1 214 1 is_stmt 0 view .LVU177
 615 0050 70BD     		pop	{r4, r5, r6, pc}
 616              	.L46:
 617 0052 00BF     		.align	2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 17


 618              	.L45:
 619 0054 00000000 		.word	.LANCHOR0
 620 0058 00380140 		.word	1073821696
 621 005c 00000000 		.word	.LANCHOR2
 622 0060 00000000 		.word	.LANCHOR1
 623              		.cfi_endproc
 624              	.LFE333:
 626              		.global	hdma_usart1_tx
 627              		.global	hdma_usart1_rx
 628              		.global	huart1
 629              		.section	.bss.hdma_usart1_rx,"aw",%nobits
 630              		.align	2
 631              		.set	.LANCHOR2,. + 0
 634              	hdma_usart1_rx:
 635 0000 00000000 		.space	96
 635      00000000 
 635      00000000 
 635      00000000 
 635      00000000 
 636              		.section	.bss.hdma_usart1_tx,"aw",%nobits
 637              		.align	2
 638              		.set	.LANCHOR3,. + 0
 641              	hdma_usart1_tx:
 642 0000 00000000 		.space	96
 642      00000000 
 642      00000000 
 642      00000000 
 642      00000000 
 643              		.section	.bss.huart1,"aw",%nobits
 644              		.align	2
 645              		.set	.LANCHOR0,. + 0
 648              	huart1:
 649 0000 00000000 		.space	144
 649      00000000 
 649      00000000 
 649      00000000 
 649      00000000 
 650              		.section	.bss.sg_uartreceive_buff,"aw",%nobits
 651              		.align	2
 652              		.set	.LANCHOR1,. + 0
 655              	sg_uartreceive_buff:
 656 0000 00000000 		.space	256
 656      00000000 
 656      00000000 
 656      00000000 
 656      00000000 
 657              		.section	.bss.sg_uartsend_buf,"aw",%nobits
 658              		.align	2
 659              		.set	.LANCHOR4,. + 0
 662              	sg_uartsend_buf:
 663 0000 00000000 		.space	256
 663      00000000 
 663      00000000 
 663      00000000 
 663      00000000 
 664              		.text
 665              	.Letext0:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 18


 666              		.file 2 "d:\\program files (x86)\\gcc-arm-none-eabi-10-2020-q4-major-win32\\tool\\arm-none-eabi\\i
 667              		.file 3 "d:\\program files (x86)\\gcc-arm-none-eabi-10-2020-q4-major-win32\\tool\\arm-none-eabi\\i
 668              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g431xx.h"
 669              		.file 5 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 670              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 671              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_rcc_ex.h"
 672              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_gpio.h"
 673              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 674              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_uart.h"
 675              		.file 11 "Inc/usart.h"
 676              		.file 12 "../protocol/protocol.h"
 677              		.file 13 "<built-in>"
 678              		.file 14 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_cortex.h"
 679              		.file 15 "Inc/main.h"
 680              		.file 16 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_uart_ex.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 usart.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:18     .text.MX_USART1_UART_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:26     .text.MX_USART1_UART_Init:00000000 MX_USART1_UART_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:145    .text.MX_USART1_UART_Init:00000078 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:152    .text.HAL_UART_MspInit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:159    .text.HAL_UART_MspInit:00000000 HAL_UART_MspInit
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:403    .text.HAL_UART_MspInit:000000e8 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:414    .text.HAL_UART_MspDeInit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:421    .text.HAL_UART_MspDeInit:00000000 HAL_UART_MspDeInit
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:475    .text.HAL_UART_MspDeInit:00000034 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:482    .text._bsp_protransmit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:489    .text._bsp_protransmit:00000000 _bsp_protransmit
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:527    .text._bsp_protransmit:0000001c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:533    .text.USER_UART_IRQHandler:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:540    .text.USER_UART_IRQHandler:00000000 USER_UART_IRQHandler
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:619    .text.USER_UART_IRQHandler:00000054 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:641    .bss.hdma_usart1_tx:00000000 hdma_usart1_tx
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:634    .bss.hdma_usart1_rx:00000000 hdma_usart1_rx
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:648    .bss.huart1:00000000 huart1
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:630    .bss.hdma_usart1_rx:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:637    .bss.hdma_usart1_tx:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:644    .bss.huart1:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:651    .bss.sg_uartreceive_buff:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:655    .bss.sg_uartreceive_buff:00000000 sg_uartreceive_buff
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:658    .bss.sg_uartsend_buf:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccpOtd0n.s:662    .bss.sg_uartsend_buf:00000000 sg_uartsend_buf

UNDEFINED SYMBOLS
HAL_UART_Init
HAL_UARTEx_SetTxFifoThreshold
HAL_UARTEx_SetRxFifoThreshold
HAL_UARTEx_DisableFifoMode
HAL_UART_Receive_DMA
Error_Handler
memset
HAL_RCCEx_PeriphCLKConfig
HAL_GPIO_Init
HAL_DMA_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_DMA_DeInit
HAL_NVIC_DisableIRQ
memcpy
HAL_UART_Transmit_DMA
HAL_UART_DMAStop
protocol_reciverdata_tofifo
