ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"protocol_msgmap.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.pro_testfunc,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	pro_testfunc:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "../Protocol/protocol_msgmap.c"
   1:../Protocol/protocol_msgmap.c **** #include "protocol_cfg.h"
   2:../Protocol/protocol_msgmap.c **** #include "protocol_comment.h"
   3:../Protocol/protocol_msgmap.c **** /*
   4:../Protocol/protocol_msgmap.c **** 该文件需完善
   5:../Protocol/protocol_msgmap.c **** */
   6:../Protocol/protocol_msgmap.c **** static char pro_testfunc(cmdmsg_t *p,void *pdata,unsigned short datalen);
   7:../Protocol/protocol_msgmap.c **** static char write_opt(cmdmsg_t *p,void *pdata,unsigned short datalen);
   8:../Protocol/protocol_msgmap.c **** 
   9:../Protocol/protocol_msgmap.c **** static const cmdmsg_t sgMsgTable[] = {
  10:../Protocol/protocol_msgmap.c ****     [0] = {
  11:../Protocol/protocol_msgmap.c ****         .cmd = PRO_FUNC_TESTCMD01,        
  12:../Protocol/protocol_msgmap.c ****         .flagbit = CMD_EVENT_UNINVAIL,
  13:../Protocol/protocol_msgmap.c ****         .fnHandler = pro_testfunc,        
  14:../Protocol/protocol_msgmap.c ****     }, 
  15:../Protocol/protocol_msgmap.c ****     [1] = {
  16:../Protocol/protocol_msgmap.c ****         .cmd = PRO_FUNC_CMD02,        
  17:../Protocol/protocol_msgmap.c ****         .flagbit = CMD_EVENT_01,
  18:../Protocol/protocol_msgmap.c ****         .fnHandler = write_opt,
  19:../Protocol/protocol_msgmap.c ****     },
  20:../Protocol/protocol_msgmap.c ****     [2] = {
  21:../Protocol/protocol_msgmap.c ****         .cmd = PRO_FUNC_CMD03,        
  22:../Protocol/protocol_msgmap.c ****         .flagbit = CMD_EVENT_02,
  23:../Protocol/protocol_msgmap.c ****         .fnHandler = write_opt,        
  24:../Protocol/protocol_msgmap.c ****     },
  25:../Protocol/protocol_msgmap.c ****     [3] = {
  26:../Protocol/protocol_msgmap.c ****         .cmd = PRO_FUNC_CMD04,        
  27:../Protocol/protocol_msgmap.c ****         .flagbit = CMD_EVENT_02,
  28:../Protocol/protocol_msgmap.c ****         .fnHandler = write_opt,        
  29:../Protocol/protocol_msgmap.c ****     },        
  30:../Protocol/protocol_msgmap.c **** };
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 2


  31:../Protocol/protocol_msgmap.c **** 
  32:../Protocol/protocol_msgmap.c **** char pro_testfunc(cmdmsg_t *p,void *pdata,unsigned short datalen)
  33:../Protocol/protocol_msgmap.c **** {
  29              		.loc 1 33 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34:../Protocol/protocol_msgmap.c ****     float data;
  34              		.loc 1 34 5 view .LVU1
  35:../Protocol/protocol_msgmap.c ****     data = *(float *)pdata;
  35              		.loc 1 35 5 view .LVU2
  36:../Protocol/protocol_msgmap.c ****     // ipc_write_data(PUBLIC_DATA_IQ_TARGET,data);
  37:../Protocol/protocol_msgmap.c ****     return 1;
  36              		.loc 1 37 5 view .LVU3
  38:../Protocol/protocol_msgmap.c **** }
  37              		.loc 1 38 1 is_stmt 0 view .LVU4
  38 0000 0120     		movs	r0, #1
  39              	.LVL1:
  40              		.loc 1 38 1 view .LVU5
  41 0002 7047     		bx	lr
  42              		.cfi_endproc
  43              	.LFE0:
  45              		.section	.text.write_opt,"ax",%progbits
  46              		.align	1
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  51              	write_opt:
  52              	.LVL2:
  53              	.LFB1:
  39:../Protocol/protocol_msgmap.c **** 
  40:../Protocol/protocol_msgmap.c **** char write_opt(cmdmsg_t *p,void *pdata,unsigned short datalen)
  41:../Protocol/protocol_msgmap.c **** {
  54              		.loc 1 41 1 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  42:../Protocol/protocol_msgmap.c ****     if (p->cmd == PRO_FUNC_CMD02)
  59              		.loc 1 42 5 view .LVU7
  43:../Protocol/protocol_msgmap.c ****     {
  44:../Protocol/protocol_msgmap.c ****         /* code */
  45:../Protocol/protocol_msgmap.c ****         // ipc_write_data(PUBLIC_DATA_IQ_TARGET,1.2f);
  46:../Protocol/protocol_msgmap.c ****     }
  60              		.loc 1 46 5 view .LVU8
  47:../Protocol/protocol_msgmap.c ****     if (p->cmd == PRO_FUNC_CMD03)
  61              		.loc 1 47 5 view .LVU9
  48:../Protocol/protocol_msgmap.c ****     {
  49:../Protocol/protocol_msgmap.c ****         /* code */
  50:../Protocol/protocol_msgmap.c ****         // ipc_write_data(PUBLIC_DATA_IQ_TARGET,0.5f);
  51:../Protocol/protocol_msgmap.c ****     }
  62              		.loc 1 51 5 view .LVU10
  52:../Protocol/protocol_msgmap.c ****     if (p->cmd == PRO_FUNC_CMD04)
  63              		.loc 1 52 5 view .LVU11
  53:../Protocol/protocol_msgmap.c ****     {
  54:../Protocol/protocol_msgmap.c ****         /* code */
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 3


  55:../Protocol/protocol_msgmap.c ****         // ipc_write_data(PUBLIC_DATA_IQ_TARGET,-0.5f);
  56:../Protocol/protocol_msgmap.c ****     }    
  64              		.loc 1 56 5 view .LVU12
  57:../Protocol/protocol_msgmap.c ****     return 0;
  65              		.loc 1 57 5 view .LVU13
  58:../Protocol/protocol_msgmap.c **** }
  66              		.loc 1 58 1 is_stmt 0 view .LVU14
  67 0000 0020     		movs	r0, #0
  68              	.LVL3:
  69              		.loc 1 58 1 view .LVU15
  70 0002 7047     		bx	lr
  71              		.cfi_endproc
  72              	.LFE1:
  74              		.section	.text.search_msgmap,"ax",%progbits
  75              		.align	1
  76              		.global	search_msgmap
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	search_msgmap:
  82              	.LVL4:
  83              	.LFB2:
  59:../Protocol/protocol_msgmap.c **** 
  60:../Protocol/protocol_msgmap.c **** char search_msgmap(unsigned char cmd,
  61:../Protocol/protocol_msgmap.c ****                    void *pData,
  62:../Protocol/protocol_msgmap.c ****                    unsigned short hwSize)
  63:../Protocol/protocol_msgmap.c **** {
  84              		.loc 1 63 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		.loc 1 63 1 is_stmt 0 view .LVU17
  89 0000 10B5     		push	{r4, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 8
  92              		.cfi_offset 4, -8
  93              		.cfi_offset 14, -4
  94 0002 8646     		mov	lr, r0
  64:../Protocol/protocol_msgmap.c ****     for (int n = 0; n < dimof(sgMsgTable); n++) {
  95              		.loc 1 64 5 is_stmt 1 view .LVU18
  96              	.LBB2:
  97              		.loc 1 64 10 view .LVU19
  98              	.LVL5:
  99              		.loc 1 64 14 is_stmt 0 view .LVU20
 100 0004 0023     		movs	r3, #0
 101              	.LVL6:
 102              	.L4:
 103              		.loc 1 64 21 is_stmt 1 discriminator 1 view .LVU21
 104              		.loc 1 64 5 is_stmt 0 discriminator 1 view .LVU22
 105 0006 032B     		cmp	r3, #3
 106 0008 0FD8     		bhi	.L9
 107              	.LBB3:
  65:../Protocol/protocol_msgmap.c ****         const cmdmsg_t *ptItem = &sgMsgTable[n];
 108              		.loc 1 65 9 is_stmt 1 view .LVU23
 109              		.loc 1 65 25 is_stmt 0 view .LVU24
 110 000a 094C     		ldr	r4, .L10
 111 000c 04EBC300 		add	r0, r4, r3, lsl #3
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 4


 112              	.LVL7:
  66:../Protocol/protocol_msgmap.c ****         if (cmd != ptItem->cmd) {
 113              		.loc 1 66 9 is_stmt 1 view .LVU25
 114              		.loc 1 66 17 is_stmt 0 view .LVU26
 115 0010 1FFA8EFC 		uxth	ip, lr
 116              		.loc 1 66 26 view .LVU27
 117 0014 34F83340 		ldrh	r4, [r4, r3, lsl #3]
 118              		.loc 1 66 12 view .LVU28
 119 0018 A445     		cmp	ip, r4
 120 001a 04D1     		bne	.L5
  67:../Protocol/protocol_msgmap.c ****             continue;
  68:../Protocol/protocol_msgmap.c ****         }
  69:../Protocol/protocol_msgmap.c ****         if (NULL == ptItem->fnHandler) {
 121              		.loc 1 69 9 is_stmt 1 view .LVU29
 122              		.loc 1 69 27 is_stmt 0 view .LVU30
 123 001c 4468     		ldr	r4, [r0, #4]
 124              		.loc 1 69 12 view .LVU31
 125 001e 14B1     		cbz	r4, .L5
  70:../Protocol/protocol_msgmap.c ****             continue; 
  71:../Protocol/protocol_msgmap.c ****         }
  72:../Protocol/protocol_msgmap.c ****         ptItem->fnHandler((cmdmsg_t *)ptItem, pData, hwSize); 
 126              		.loc 1 72 9 is_stmt 1 view .LVU32
 127 0020 A047     		blx	r4
 128              	.LVL8:
  73:../Protocol/protocol_msgmap.c ****         return 1;
 129              		.loc 1 73 9 view .LVU33
 130              		.loc 1 73 16 is_stmt 0 view .LVU34
 131 0022 0120     		movs	r0, #1
 132              	.L6:
 133              		.loc 1 73 16 view .LVU35
 134              	.LBE3:
 135              	.LBE2:
  74:../Protocol/protocol_msgmap.c ****     }    
  75:../Protocol/protocol_msgmap.c ****     return false;   //!< 没找到对应的消息
  76:../Protocol/protocol_msgmap.c **** }
 136              		.loc 1 76 1 view .LVU36
 137 0024 10BD     		pop	{r4, pc}
 138              	.LVL9:
 139              	.L5:
 140              	.LBB4:
  64:../Protocol/protocol_msgmap.c ****         const cmdmsg_t *ptItem = &sgMsgTable[n];
 141              		.loc 1 64 44 is_stmt 1 discriminator 2 view .LVU37
  64:../Protocol/protocol_msgmap.c ****         const cmdmsg_t *ptItem = &sgMsgTable[n];
 142              		.loc 1 64 45 is_stmt 0 discriminator 2 view .LVU38
 143 0026 0133     		adds	r3, r3, #1
 144              	.LVL10:
  64:../Protocol/protocol_msgmap.c ****         const cmdmsg_t *ptItem = &sgMsgTable[n];
 145              		.loc 1 64 45 discriminator 2 view .LVU39
 146 0028 EDE7     		b	.L4
 147              	.LVL11:
 148              	.L9:
  64:../Protocol/protocol_msgmap.c ****         const cmdmsg_t *ptItem = &sgMsgTable[n];
 149              		.loc 1 64 45 discriminator 2 view .LVU40
 150              	.LBE4:
  75:../Protocol/protocol_msgmap.c **** }
 151              		.loc 1 75 12 view .LVU41
 152 002a 0020     		movs	r0, #0
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 5


 153 002c FAE7     		b	.L6
 154              	.L11:
 155 002e 00BF     		.align	2
 156              	.L10:
 157 0030 00000000 		.word	.LANCHOR0
 158              		.cfi_endproc
 159              	.LFE2:
 161              		.section	.text.search_msgmap_event,"ax",%progbits
 162              		.align	1
 163              		.global	search_msgmap_event
 164              		.syntax unified
 165              		.thumb
 166              		.thumb_func
 168              	search_msgmap_event:
 169              	.LVL12:
 170              	.LFB3:
  77:../Protocol/protocol_msgmap.c **** 
  78:../Protocol/protocol_msgmap.c **** short search_msgmap_event(unsigned char cmd)
  79:../Protocol/protocol_msgmap.c **** {
 171              		.loc 1 79 1 is_stmt 1 view -0
 172              		.cfi_startproc
 173              		@ args = 0, pretend = 0, frame = 0
 174              		@ frame_needed = 0, uses_anonymous_args = 0
 175              		@ link register save eliminated.
  80:../Protocol/protocol_msgmap.c ****     const cmdmsg_t *ptItem ;
 176              		.loc 1 80 5 view .LVU43
  81:../Protocol/protocol_msgmap.c ****     for (int n = 0; n < dimof(sgMsgTable); n++) 
 177              		.loc 1 81 5 view .LVU44
 178              	.LBB5:
 179              		.loc 1 81 10 view .LVU45
 180              		.loc 1 81 14 is_stmt 0 view .LVU46
 181 0000 0023     		movs	r3, #0
 182              	.LVL13:
 183              	.L13:
 184              		.loc 1 81 21 is_stmt 1 discriminator 1 view .LVU47
 185              		.loc 1 81 5 is_stmt 0 discriminator 1 view .LVU48
 186 0002 032B     		cmp	r3, #3
 187 0004 0DD8     		bhi	.L17
  82:../Protocol/protocol_msgmap.c ****     {
  83:../Protocol/protocol_msgmap.c ****         ptItem = &sgMsgTable[n];
 188              		.loc 1 83 9 is_stmt 1 view .LVU49
 189              	.LVL14:
  84:../Protocol/protocol_msgmap.c ****         if (cmd != ptItem->cmd) {
 190              		.loc 1 84 9 view .LVU50
 191              		.loc 1 84 17 is_stmt 0 view .LVU51
 192 0006 82B2     		uxth	r2, r0
 193              		.loc 1 84 26 view .LVU52
 194 0008 0749     		ldr	r1, .L19
 195 000a 31F83310 		ldrh	r1, [r1, r3, lsl #3]
 196              		.loc 1 84 12 view .LVU53
 197 000e 8A42     		cmp	r2, r1
 198 0010 05D1     		bne	.L18
  85:../Protocol/protocol_msgmap.c ****             continue;
  86:../Protocol/protocol_msgmap.c ****         }
  87:../Protocol/protocol_msgmap.c ****         return ptItem->flagbit;
 199              		.loc 1 87 9 is_stmt 1 view .LVU54
 200              		.loc 1 87 22 is_stmt 0 view .LVU55
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 6


 201 0012 054A     		ldr	r2, .L19
 202 0014 02EBC303 		add	r3, r2, r3, lsl #3
 203              	.LVL15:
 204              		.loc 1 87 22 view .LVU56
 205 0018 93F90200 		ldrsb	r0, [r3, #2]
 206              	.LVL16:
 207              		.loc 1 87 22 view .LVU57
 208 001c 7047     		bx	lr
 209              	.LVL17:
 210              	.L18:
  85:../Protocol/protocol_msgmap.c ****             continue;
 211              		.loc 1 85 13 is_stmt 1 view .LVU58
  81:../Protocol/protocol_msgmap.c ****     {
 212              		.loc 1 81 44 view .LVU59
  81:../Protocol/protocol_msgmap.c ****     {
 213              		.loc 1 81 45 is_stmt 0 view .LVU60
 214 001e 0133     		adds	r3, r3, #1
 215              	.LVL18:
  81:../Protocol/protocol_msgmap.c ****     {
 216              		.loc 1 81 45 view .LVU61
 217 0020 EFE7     		b	.L13
 218              	.LVL19:
 219              	.L17:
  81:../Protocol/protocol_msgmap.c ****     {
 220              		.loc 1 81 45 view .LVU62
 221              	.LBE5:
  88:../Protocol/protocol_msgmap.c ****     }
  89:../Protocol/protocol_msgmap.c ****     return 0;
 222              		.loc 1 89 12 view .LVU63
 223 0022 0020     		movs	r0, #0
 224              	.LVL20:
  90:../Protocol/protocol_msgmap.c **** 
  91:../Protocol/protocol_msgmap.c **** }
 225              		.loc 1 91 1 view .LVU64
 226 0024 7047     		bx	lr
 227              	.L20:
 228 0026 00BF     		.align	2
 229              	.L19:
 230 0028 00000000 		.word	.LANCHOR0
 231              		.cfi_endproc
 232              	.LFE3:
 234              		.section	.rodata.sgMsgTable,"a"
 235              		.align	2
 236              		.set	.LANCHOR0,. + 0
 239              	sgMsgTable:
 240 0000 0100     		.short	1
 241 0002 FF       		.byte	-1
 242 0003 00       		.space	1
 243 0004 00000000 		.word	pro_testfunc
 244 0008 0200     		.short	2
 245 000a 00       		.byte	0
 246 000b 00       		.space	1
 247 000c 00000000 		.word	write_opt
 248 0010 0300     		.short	3
 249 0012 01       		.byte	1
 250 0013 00       		.space	1
 251 0014 00000000 		.word	write_opt
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 7


 252 0018 0400     		.short	4
 253 001a 01       		.byte	1
 254 001b 00       		.space	1
 255 001c 00000000 		.word	write_opt
 256              		.text
 257              	.Letext0:
 258              		.file 2 "../Protocol/protocol.h"
 259              		.file 3 "../Protocol/protocol_comment.h"
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccRGR43b.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 protocol_msgmap.c
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:20     .text.pro_testfunc:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:25     .text.pro_testfunc:00000000 pro_testfunc
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:46     .text.write_opt:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:51     .text.write_opt:00000000 write_opt
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:75     .text.search_msgmap:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:81     .text.search_msgmap:00000000 search_msgmap
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:157    .text.search_msgmap:00000030 $d
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:162    .text.search_msgmap_event:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:168    .text.search_msgmap_event:00000000 search_msgmap_event
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:230    .text.search_msgmap_event:00000028 $d
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:235    .rodata.sgMsgTable:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccRGR43b.s:239    .rodata.sgMsgTable:00000000 sgMsgTable

NO UNDEFINED SYMBOLS
