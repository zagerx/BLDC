ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fifo.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.bytefifo_isfull,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	bytefifo_isfull:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "../Public/fifo.c"
   1:../Public/fifo.c **** /**------------------------------------------------------------------------------------------------
   2:../Public/fifo.c **** ** Modified by:			
   3:../Public/fifo.c **** ** Modified date:		2023-08-17
   4:../Public/fifo.c **** ** Version:
   5:../Public/fifo.c **** ** Descriptions:	
   6:../Public/fifo.c **** **
   7:../Public/fifo.c **** ***************************************************************************************************
   8:../Public/fifo.c **** #include "fifo.h"
   9:../Public/fifo.c **** 
  10:../Public/fifo.c **** 
  11:../Public/fifo.c **** #define FIFO_LOCK 1
  12:../Public/fifo.c **** #define FIFO_UNLOCK 0
  13:../Public/fifo.c **** static char bytefifo_isfull(byte_fifo_t *pfifo)
  14:../Public/fifo.c **** {
  29              		.loc 1 14 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  15:../Public/fifo.c **** 	if((pfifo->head+1)%pfifo->buflen == pfifo->tail)
  34              		.loc 1 15 2 view .LVU1
  35              		.loc 1 15 11 is_stmt 0 view .LVU2
  36 0000 0388     		ldrh	r3, [r0]
  37              		.loc 1 15 17 view .LVU3
  38 0002 0133     		adds	r3, r3, #1
  39              		.loc 1 15 26 view .LVU4
  40 0004 8289     		ldrh	r2, [r0, #12]
  41 0006 92B2     		uxth	r2, r2
  42              		.loc 1 15 20 view .LVU5
  43 0008 93FBF2F1 		sdiv	r1, r3, r2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 2


  44 000c 02FB1133 		mls	r3, r2, r1, r3
  45              		.loc 1 15 43 view .LVU6
  46 0010 4288     		ldrh	r2, [r0, #2]
  47              		.loc 1 15 4 view .LVU7
  48 0012 9342     		cmp	r3, r2
  49 0014 01D0     		beq	.L3
  16:../Public/fifo.c **** 	{
  17:../Public/fifo.c **** 		return 0;//����
  18:../Public/fifo.c **** 	}
  19:../Public/fifo.c **** 	return 1;
  50              		.loc 1 19 9 view .LVU8
  51 0016 0120     		movs	r0, #1
  52              	.LVL1:
  53              		.loc 1 19 9 view .LVU9
  54 0018 7047     		bx	lr
  55              	.LVL2:
  56              	.L3:
  17:../Public/fifo.c **** 	}
  57              		.loc 1 17 10 view .LVU10
  58 001a 0020     		movs	r0, #0
  59              	.LVL3:
  20:../Public/fifo.c **** }
  60              		.loc 1 20 1 view .LVU11
  61 001c 7047     		bx	lr
  62              		.cfi_endproc
  63              	.LFE0:
  65              		.section	.text.bytefifo_isempty,"ax",%progbits
  66              		.align	1
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	bytefifo_isempty:
  73              	.LVL4:
  74              	.LFB1:
  21:../Public/fifo.c **** /*FIFO�գ����ܶ�����*/
  22:../Public/fifo.c **** static char bytefifo_isempty(byte_fifo_t *pfifo)
  23:../Public/fifo.c **** {
  75              		.loc 1 23 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  24:../Public/fifo.c **** 	if(pfifo->head == pfifo->tail)
  80              		.loc 1 24 2 view .LVU13
  81              		.loc 1 24 10 is_stmt 0 view .LVU14
  82 0000 0288     		ldrh	r2, [r0]
  83              		.loc 1 24 25 view .LVU15
  84 0002 4388     		ldrh	r3, [r0, #2]
  85              		.loc 1 24 4 view .LVU16
  86 0004 9A42     		cmp	r2, r3
  87 0006 01D0     		beq	.L6
  25:../Public/fifo.c **** 	{
  26:../Public/fifo.c **** 		return 0;//��
  27:../Public/fifo.c **** 	}
  28:../Public/fifo.c **** 	return 1;
  88              		.loc 1 28 9 view .LVU17
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 3


  89 0008 0120     		movs	r0, #1
  90              	.LVL5:
  91              		.loc 1 28 9 view .LVU18
  92 000a 7047     		bx	lr
  93              	.LVL6:
  94              	.L6:
  26:../Public/fifo.c **** 	}
  95              		.loc 1 26 10 view .LVU19
  96 000c 0020     		movs	r0, #0
  97              	.LVL7:
  29:../Public/fifo.c **** }
  98              		.loc 1 29 1 view .LVU20
  99 000e 7047     		bx	lr
 100              		.cfi_endproc
 101              	.LFE1:
 103              		.section	.text.bytefifo_writebyte,"ax",%progbits
 104              		.align	1
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu fpv4-sp-d16
 110              	bytefifo_writebyte:
 111              	.LVL8:
 112              	.LFB2:
  30:../Public/fifo.c **** /*FIFO������д����*/
  31:../Public/fifo.c **** static char bytefifo_writebyte(byte_fifo_t *pfifo,byte_t data)
  32:../Public/fifo.c **** {
 113              		.loc 1 32 1 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117              		.loc 1 32 1 is_stmt 0 view .LVU22
 118 0000 38B5     		push	{r3, r4, r5, lr}
 119              	.LCFI0:
 120              		.cfi_def_cfa_offset 16
 121              		.cfi_offset 3, -16
 122              		.cfi_offset 4, -12
 123              		.cfi_offset 5, -8
 124              		.cfi_offset 14, -4
 125 0002 0446     		mov	r4, r0
 126 0004 0D46     		mov	r5, r1
  33:../Public/fifo.c ****     if(bytefifo_isfull(pfifo) == 0)
 127              		.loc 1 33 5 is_stmt 1 view .LVU23
 128              		.loc 1 33 8 is_stmt 0 view .LVU24
 129 0006 FFF7FEFF 		bl	bytefifo_isfull
 130              	.LVL9:
 131              		.loc 1 33 7 view .LVU25
 132 000a 88B1     		cbz	r0, .L9
  34:../Public/fifo.c ****     {
  35:../Public/fifo.c ****         return 1;//��
  36:../Public/fifo.c ****     }
  37:../Public/fifo.c ****     pfifo->pbuf[pfifo->head] = data;
 133              		.loc 1 37 5 is_stmt 1 view .LVU26
 134              		.loc 1 37 10 is_stmt 0 view .LVU27
 135 000c A268     		ldr	r2, [r4, #8]
 136              		.loc 1 37 22 view .LVU28
 137 000e 2388     		ldrh	r3, [r4]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 4


 138              		.loc 1 37 30 view .LVU29
 139 0010 D554     		strb	r5, [r2, r3]
  38:../Public/fifo.c ****     pfifo->head = (pfifo->head + 1) % pfifo->buflen ;
 140              		.loc 1 38 5 is_stmt 1 view .LVU30
 141              		.loc 1 38 25 is_stmt 0 view .LVU31
 142 0012 2388     		ldrh	r3, [r4]
 143              		.loc 1 38 32 view .LVU32
 144 0014 0133     		adds	r3, r3, #1
 145              		.loc 1 38 44 view .LVU33
 146 0016 A289     		ldrh	r2, [r4, #12]
 147 0018 92B2     		uxth	r2, r2
 148              		.loc 1 38 37 view .LVU34
 149 001a 93FBF2F1 		sdiv	r1, r3, r2
 150 001e 02FB1133 		mls	r3, r2, r1, r3
 151              		.loc 1 38 17 view .LVU35
 152 0022 2380     		strh	r3, [r4]	@ movhi
  39:../Public/fifo.c **** 	pfifo->remain_byte--;
 153              		.loc 1 39 2 is_stmt 1 view .LVU36
 154              		.loc 1 39 7 is_stmt 0 view .LVU37
 155 0024 A388     		ldrh	r3, [r4, #4]
 156              		.loc 1 39 20 view .LVU38
 157 0026 013B     		subs	r3, r3, #1
 158 0028 1BB2     		sxth	r3, r3
 159 002a A380     		strh	r3, [r4, #4]	@ movhi
  40:../Public/fifo.c ****     return 0;//д��ɹ�
 160              		.loc 1 40 5 is_stmt 1 view .LVU39
 161              		.loc 1 40 12 is_stmt 0 view .LVU40
 162 002c 0020     		movs	r0, #0
 163              	.L8:
  41:../Public/fifo.c **** }
 164              		.loc 1 41 1 view .LVU41
 165 002e 38BD     		pop	{r3, r4, r5, pc}
 166              	.LVL10:
 167              	.L9:
  35:../Public/fifo.c ****     }
 168              		.loc 1 35 16 view .LVU42
 169 0030 0120     		movs	r0, #1
 170 0032 FCE7     		b	.L8
 171              		.cfi_endproc
 172              	.LFE2:
 174              		.section	.text.bytefifo_readbyte,"ax",%progbits
 175              		.align	1
 176              		.syntax unified
 177              		.thumb
 178              		.thumb_func
 179              		.fpu fpv4-sp-d16
 181              	bytefifo_readbyte:
 182              	.LVL11:
 183              	.LFB3:
  42:../Public/fifo.c **** static char bytefifo_readbyte(byte_fifo_t *pfifo,byte_t *pdata)
  43:../Public/fifo.c **** {/*FIFOΪ�� ���ܶ�*/
 184              		.loc 1 43 1 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              		.loc 1 43 1 is_stmt 0 view .LVU44
 189 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 5


 190              	.LCFI1:
 191              		.cfi_def_cfa_offset 16
 192              		.cfi_offset 3, -16
 193              		.cfi_offset 4, -12
 194              		.cfi_offset 5, -8
 195              		.cfi_offset 14, -4
 196 0002 0446     		mov	r4, r0
 197 0004 0D46     		mov	r5, r1
  44:../Public/fifo.c ****     if (bytefifo_isempty(pfifo) == 0)
 198              		.loc 1 44 5 is_stmt 1 view .LVU45
 199              		.loc 1 44 9 is_stmt 0 view .LVU46
 200 0006 FFF7FEFF 		bl	bytefifo_isempty
 201              	.LVL12:
 202              		.loc 1 44 8 view .LVU47
 203 000a 90B1     		cbz	r0, .L13
  45:../Public/fifo.c ****     {
  46:../Public/fifo.c ****         return 1;//�޷���ȡ
  47:../Public/fifo.c ****     }
  48:../Public/fifo.c **** 	*pdata = pfifo->pbuf[pfifo->tail];
 204              		.loc 1 48 2 is_stmt 1 view .LVU48
 205              		.loc 1 48 16 is_stmt 0 view .LVU49
 206 000c A268     		ldr	r2, [r4, #8]
 207              		.loc 1 48 28 view .LVU50
 208 000e 6388     		ldrh	r3, [r4, #2]
 209              		.loc 1 48 22 view .LVU51
 210 0010 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 211              		.loc 1 48 9 view .LVU52
 212 0012 2B70     		strb	r3, [r5]
  49:../Public/fifo.c ****     pfifo->tail = (pfifo->tail + 1)%pfifo->buflen ;
 213              		.loc 1 49 5 is_stmt 1 view .LVU53
 214              		.loc 1 49 25 is_stmt 0 view .LVU54
 215 0014 6388     		ldrh	r3, [r4, #2]
 216              		.loc 1 49 32 view .LVU55
 217 0016 0133     		adds	r3, r3, #1
 218              		.loc 1 49 42 view .LVU56
 219 0018 A289     		ldrh	r2, [r4, #12]
 220 001a 92B2     		uxth	r2, r2
 221              		.loc 1 49 36 view .LVU57
 222 001c 93FBF2F1 		sdiv	r1, r3, r2
 223 0020 02FB1133 		mls	r3, r2, r1, r3
 224              		.loc 1 49 17 view .LVU58
 225 0024 6380     		strh	r3, [r4, #2]	@ movhi
  50:../Public/fifo.c **** 	pfifo->remain_byte++;
 226              		.loc 1 50 2 is_stmt 1 view .LVU59
 227              		.loc 1 50 7 is_stmt 0 view .LVU60
 228 0026 A388     		ldrh	r3, [r4, #4]
 229              		.loc 1 50 20 view .LVU61
 230 0028 0133     		adds	r3, r3, #1
 231 002a 1BB2     		sxth	r3, r3
 232 002c A380     		strh	r3, [r4, #4]	@ movhi
  51:../Public/fifo.c **** 	return 0;
 233              		.loc 1 51 2 is_stmt 1 view .LVU62
 234              		.loc 1 51 9 is_stmt 0 view .LVU63
 235 002e 0020     		movs	r0, #0
 236              	.L12:
  52:../Public/fifo.c **** }
 237              		.loc 1 52 1 view .LVU64
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 6


 238 0030 38BD     		pop	{r3, r4, r5, pc}
 239              	.LVL13:
 240              	.L13:
  46:../Public/fifo.c ****     }
 241              		.loc 1 46 16 view .LVU65
 242 0032 0120     		movs	r0, #1
 243 0034 FCE7     		b	.L12
 244              		.cfi_endproc
 245              	.LFE3:
 247              		.section	.text.bytefifo_usendbyte,"ax",%progbits
 248              		.align	1
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv4-sp-d16
 254              	bytefifo_usendbyte:
 255              	.LVL14:
 256              	.LFB4:
  53:../Public/fifo.c **** 
  54:../Public/fifo.c **** /*��ȡFIFO��ʹ�õ��ֽ���*/
  55:../Public/fifo.c **** static unsigned short bytefifo_usendbyte(byte_fifo_t *pfifo)
  56:../Public/fifo.c **** {
 257              		.loc 1 56 1 is_stmt 1 view -0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
 261              		@ link register save eliminated.
  57:../Public/fifo.c **** 	if(pfifo->tail <= pfifo->head)
 262              		.loc 1 57 2 view .LVU67
 263              		.loc 1 57 10 is_stmt 0 view .LVU68
 264 0000 4288     		ldrh	r2, [r0, #2]
 265              		.loc 1 57 25 view .LVU69
 266 0002 0388     		ldrh	r3, [r0]
 267              		.loc 1 57 4 view .LVU70
 268 0004 9A42     		cmp	r2, r3
 269 0006 02D8     		bhi	.L16
  58:../Public/fifo.c **** 	{
  59:../Public/fifo.c **** 		return (pfifo->head-pfifo->tail);		
 270              		.loc 1 59 3 is_stmt 1 view .LVU71
 271              		.loc 1 59 22 is_stmt 0 view .LVU72
 272 0008 981A     		subs	r0, r3, r2
 273              	.LVL15:
 274              		.loc 1 59 22 view .LVU73
 275 000a 80B2     		uxth	r0, r0
 276 000c 7047     		bx	lr
 277              	.LVL16:
 278              	.L16:
  60:../Public/fifo.c **** 	}else{
  61:../Public/fifo.c **** 		return (pfifo->buflen  + pfifo->head - pfifo->tail);
 279              		.loc 1 61 3 is_stmt 1 view .LVU74
 280              		.loc 1 61 16 is_stmt 0 view .LVU75
 281 000e 8089     		ldrh	r0, [r0, #12]
 282              	.LVL17:
 283              		.loc 1 61 26 view .LVU76
 284 0010 13FA80F0 		uxtah	r0, r3, r0
 285 0014 80B2     		uxth	r0, r0
 286              		.loc 1 61 40 view .LVU77
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 7


 287 0016 801A     		subs	r0, r0, r2
 288 0018 80B2     		uxth	r0, r0
  62:../Public/fifo.c **** 	}
  63:../Public/fifo.c **** }
 289              		.loc 1 63 1 view .LVU78
 290 001a 7047     		bx	lr
 291              		.cfi_endproc
 292              	.LFE4:
 294              		.section	.text.bytefifo_init,"ax",%progbits
 295              		.align	1
 296              		.global	bytefifo_init
 297              		.syntax unified
 298              		.thumb
 299              		.thumb_func
 300              		.fpu fpv4-sp-d16
 302              	bytefifo_init:
 303              	.LVL18:
 304              	.LFB5:
  64:../Public/fifo.c **** void bytefifo_init(byte_fifo_t *pfifo,byte_t *arry,unsigned short len)
  65:../Public/fifo.c **** {
 305              		.loc 1 65 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309              		@ link register save eliminated.
  66:../Public/fifo.c ****     pfifo->head = 0;
 310              		.loc 1 66 5 view .LVU80
 311              		.loc 1 66 17 is_stmt 0 view .LVU81
 312 0000 0023     		movs	r3, #0
 313 0002 0380     		strh	r3, [r0]	@ movhi
  67:../Public/fifo.c ****     pfifo->tail = 0;
 314              		.loc 1 67 5 is_stmt 1 view .LVU82
 315              		.loc 1 67 17 is_stmt 0 view .LVU83
 316 0004 4380     		strh	r3, [r0, #2]	@ movhi
  68:../Public/fifo.c ****     pfifo->remain_byte = len;
 317              		.loc 1 68 5 is_stmt 1 view .LVU84
 318              		.loc 1 68 24 is_stmt 0 view .LVU85
 319 0006 0FFA82FC 		sxth	ip, r2
 320 000a A0F804C0 		strh	ip, [r0, #4]	@ movhi
  69:../Public/fifo.c ****     pfifo->pbuf = arry;  
 321              		.loc 1 69 5 is_stmt 1 view .LVU86
 322              		.loc 1 69 17 is_stmt 0 view .LVU87
 323 000e 8160     		str	r1, [r0, #8]
  70:../Public/fifo.c ****     pfifo->buflen = len;
 324              		.loc 1 70 5 is_stmt 1 view .LVU88
 325              		.loc 1 70 19 is_stmt 0 view .LVU89
 326 0010 8281     		strh	r2, [r0, #12]	@ movhi
  71:../Public/fifo.c ****     pfifo->lockstate = FIFO_UNLOCK;
 327              		.loc 1 71 5 is_stmt 1 view .LVU90
 328              		.loc 1 71 22 is_stmt 0 view .LVU91
 329 0012 8373     		strb	r3, [r0, #14]
  72:../Public/fifo.c **** }
 330              		.loc 1 72 1 view .LVU92
 331 0014 7047     		bx	lr
 332              		.cfi_endproc
 333              	.LFE5:
 335              		.section	.text.bytefifo_writemulitebyge,"ax",%progbits
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 8


 336              		.align	1
 337              		.global	bytefifo_writemulitebyge
 338              		.syntax unified
 339              		.thumb
 340              		.thumb_func
 341              		.fpu fpv4-sp-d16
 343              	bytefifo_writemulitebyge:
 344              	.LVL19:
 345              	.LFB6:
  73:../Public/fifo.c **** char bytefifo_writemulitebyge(byte_fifo_t *pfifo,byte_t *buf,unsigned short len)
  74:../Public/fifo.c **** {
 346              		.loc 1 74 1 is_stmt 1 view -0
 347              		.cfi_startproc
 348              		@ args = 0, pretend = 0, frame = 0
 349              		@ frame_needed = 0, uses_anonymous_args = 0
 350              		.loc 1 74 1 is_stmt 0 view .LVU94
 351 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 352              	.LCFI2:
 353              		.cfi_def_cfa_offset 24
 354              		.cfi_offset 4, -24
 355              		.cfi_offset 5, -20
 356              		.cfi_offset 6, -16
 357              		.cfi_offset 7, -12
 358              		.cfi_offset 8, -8
 359              		.cfi_offset 14, -4
  75:../Public/fifo.c **** 	byte_t *pw;
 360              		.loc 1 75 2 is_stmt 1 view .LVU95
  76:../Public/fifo.c **** 	pw = buf;
 361              		.loc 1 76 2 view .LVU96
 362              	.LVL20:
  77:../Public/fifo.c ****     if (pfifo->lockstate)
 363              		.loc 1 77 5 view .LVU97
 364              		.loc 1 77 14 is_stmt 0 view .LVU98
 365 0004 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 366              		.loc 1 77 8 view .LVU99
 367 0006 23B1     		cbz	r3, .L25
  78:../Public/fifo.c ****     {
  79:../Public/fifo.c ****         return 1;
 368              		.loc 1 79 16 view .LVU100
 369 0008 4FF00108 		mov	r8, #1
 370              	.LVL21:
 371              	.L20:
  80:../Public/fifo.c ****     }
  81:../Public/fifo.c ****     pfifo->lockstate = FIFO_LOCK;
  82:../Public/fifo.c **** 
  83:../Public/fifo.c **** 	if(len > (pfifo->buflen  - bytefifo_usendbyte(pfifo)-1))//-1����Ϊ��һ���ֽ�ʼ
  84:../Public/fifo.c **** 	{
  85:../Public/fifo.c ****         pfifo->lockstate = FIFO_UNLOCK;
  86:../Public/fifo.c **** 		return 1;//д��ʧ��
  87:../Public/fifo.c **** 	}
  88:../Public/fifo.c **** 	while(len--)
  89:../Public/fifo.c **** 	{
  90:../Public/fifo.c **** 		bytefifo_writebyte(pfifo,*pw);
  91:../Public/fifo.c **** 		pw++;
  92:../Public/fifo.c **** 	}
  93:../Public/fifo.c ****     pfifo->lockstate = FIFO_UNLOCK;
  94:../Public/fifo.c **** 	return 0;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 9


  95:../Public/fifo.c **** }
 372              		.loc 1 95 1 view .LVU101
 373 000c 4046     		mov	r0, r8
 374 000e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 375              	.LVL22:
 376              	.L25:
 377              		.loc 1 95 1 view .LVU102
 378 0012 0646     		mov	r6, r0
 379 0014 0F46     		mov	r7, r1
 380 0016 1446     		mov	r4, r2
 381 0018 03F0FF08 		and	r8, r3, #255
  81:../Public/fifo.c **** 
 382              		.loc 1 81 5 is_stmt 1 view .LVU103
  81:../Public/fifo.c **** 
 383              		.loc 1 81 22 is_stmt 0 view .LVU104
 384 001c 0123     		movs	r3, #1
 385 001e 8373     		strb	r3, [r0, #14]
  83:../Public/fifo.c **** 	{
 386              		.loc 1 83 2 is_stmt 1 view .LVU105
  83:../Public/fifo.c **** 	{
 387              		.loc 1 83 17 is_stmt 0 view .LVU106
 388 0020 8589     		ldrh	r5, [r0, #12]
 389 0022 ADB2     		uxth	r5, r5
  83:../Public/fifo.c **** 	{
 390              		.loc 1 83 29 view .LVU107
 391 0024 FFF7FEFF 		bl	bytefifo_usendbyte
 392              	.LVL23:
  83:../Public/fifo.c **** 	{
 393              		.loc 1 83 27 view .LVU108
 394 0028 2D1A     		subs	r5, r5, r0
  83:../Public/fifo.c **** 	{
 395              		.loc 1 83 4 view .LVU109
 396 002a A542     		cmp	r5, r4
 397 002c 0ADC     		bgt	.L21
  85:../Public/fifo.c **** 		return 1;//д��ʧ��
 398              		.loc 1 85 9 is_stmt 1 view .LVU110
  85:../Public/fifo.c **** 		return 1;//д��ʧ��
 399              		.loc 1 85 26 is_stmt 0 view .LVU111
 400 002e 0023     		movs	r3, #0
 401 0030 B373     		strb	r3, [r6, #14]
  86:../Public/fifo.c **** 	}
 402              		.loc 1 86 3 is_stmt 1 view .LVU112
  86:../Public/fifo.c **** 	}
 403              		.loc 1 86 10 is_stmt 0 view .LVU113
 404 0032 4FF00108 		mov	r8, #1
 405 0036 E9E7     		b	.L20
 406              	.LVL24:
 407              	.L22:
  90:../Public/fifo.c **** 		pw++;
 408              		.loc 1 90 3 is_stmt 1 view .LVU114
 409 0038 17F8011B 		ldrb	r1, [r7], #1	@ zero_extendqisi2
 410              	.LVL25:
  90:../Public/fifo.c **** 		pw++;
 411              		.loc 1 90 3 is_stmt 0 view .LVU115
 412 003c 3046     		mov	r0, r6
 413 003e FFF7FEFF 		bl	bytefifo_writebyte
 414              	.LVL26:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 10


  91:../Public/fifo.c **** 	}
 415              		.loc 1 91 3 is_stmt 1 view .LVU116
  88:../Public/fifo.c **** 	{
 416              		.loc 1 88 11 is_stmt 0 view .LVU117
 417 0042 2C46     		mov	r4, r5
 418              	.LVL27:
 419              	.L21:
  88:../Public/fifo.c **** 	{
 420              		.loc 1 88 7 is_stmt 1 view .LVU118
  88:../Public/fifo.c **** 	{
 421              		.loc 1 88 11 is_stmt 0 view .LVU119
 422 0044 631E     		subs	r3, r4, #1
 423 0046 9DB2     		uxth	r5, r3
 424              	.LVL28:
  88:../Public/fifo.c **** 	{
 425              		.loc 1 88 7 view .LVU120
 426 0048 002C     		cmp	r4, #0
 427 004a F5D1     		bne	.L22
  93:../Public/fifo.c **** 	return 0;
 428              		.loc 1 93 5 is_stmt 1 view .LVU121
  93:../Public/fifo.c **** 	return 0;
 429              		.loc 1 93 22 is_stmt 0 view .LVU122
 430 004c 0023     		movs	r3, #0
 431 004e B373     		strb	r3, [r6, #14]
  94:../Public/fifo.c **** }
 432              		.loc 1 94 2 is_stmt 1 view .LVU123
  94:../Public/fifo.c **** }
 433              		.loc 1 94 9 is_stmt 0 view .LVU124
 434 0050 DCE7     		b	.L20
 435              		.cfi_endproc
 436              	.LFE6:
 438              		.section	.text.bytefifo_readmulintebyte,"ax",%progbits
 439              		.align	1
 440              		.global	bytefifo_readmulintebyte
 441              		.syntax unified
 442              		.thumb
 443              		.thumb_func
 444              		.fpu fpv4-sp-d16
 446              	bytefifo_readmulintebyte:
 447              	.LVL29:
 448              	.LFB7:
  96:../Public/fifo.c **** char bytefifo_readmulintebyte(byte_fifo_t *pfifo,byte_t *buf,unsigned short len)
  97:../Public/fifo.c **** {
 449              		.loc 1 97 1 is_stmt 1 view -0
 450              		.cfi_startproc
 451              		@ args = 0, pretend = 0, frame = 8
 452              		@ frame_needed = 0, uses_anonymous_args = 0
 453              		.loc 1 97 1 is_stmt 0 view .LVU126
 454 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 455              	.LCFI3:
 456              		.cfi_def_cfa_offset 20
 457              		.cfi_offset 4, -20
 458              		.cfi_offset 5, -16
 459              		.cfi_offset 6, -12
 460              		.cfi_offset 7, -8
 461              		.cfi_offset 14, -4
 462 0002 83B0     		sub	sp, sp, #12
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 11


 463              	.LCFI4:
 464              		.cfi_def_cfa_offset 32
  98:../Public/fifo.c **** 	byte_t temp = 0;
 465              		.loc 1 98 2 is_stmt 1 view .LVU127
 466              		.loc 1 98 9 is_stmt 0 view .LVU128
 467 0004 0023     		movs	r3, #0
 468 0006 8DF80730 		strb	r3, [sp, #7]
  99:../Public/fifo.c **** 	char statues = 1;
 469              		.loc 1 99 2 is_stmt 1 view .LVU129
 470              	.LVL30:
 100:../Public/fifo.c ****     if (pfifo->lockstate)
 471              		.loc 1 100 5 view .LVU130
 472              		.loc 1 100 14 is_stmt 0 view .LVU131
 473 000a 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 474              		.loc 1 100 8 view .LVU132
 475 000c 13B1     		cbz	r3, .L33
 101:../Public/fifo.c ****     {
 102:../Public/fifo.c ****         return 1;
 476              		.loc 1 102 16 view .LVU133
 477 000e 0120     		movs	r0, #1
 478              	.LVL31:
 479              	.L27:
 103:../Public/fifo.c ****     }
 104:../Public/fifo.c ****     pfifo->lockstate = FIFO_LOCK;
 105:../Public/fifo.c **** 	if(len > bytefifo_usendbyte(pfifo))//
 106:../Public/fifo.c **** 	{
 107:../Public/fifo.c ****         pfifo->lockstate = FIFO_UNLOCK;
 108:../Public/fifo.c **** 		return 1;//��ȡʧ��
 109:../Public/fifo.c **** 	}
 110:../Public/fifo.c **** 	while(len--)
 111:../Public/fifo.c **** 	{
 112:../Public/fifo.c **** 		statues = bytefifo_readbyte(pfifo,&temp);
 113:../Public/fifo.c **** 		*buf++ = temp;
 114:../Public/fifo.c **** 	}
 115:../Public/fifo.c ****     pfifo->lockstate = FIFO_UNLOCK;
 116:../Public/fifo.c **** 	return statues;
 117:../Public/fifo.c **** }...
 480              		.loc 1 117 1 view .LVU134
 481 0010 03B0     		add	sp, sp, #12
 482              	.LCFI5:
 483              		.cfi_remember_state
 484              		.cfi_def_cfa_offset 20
 485              		@ sp needed
 486 0012 F0BD     		pop	{r4, r5, r6, r7, pc}
 487              	.LVL32:
 488              	.L33:
 489              	.LCFI6:
 490              		.cfi_restore_state
 491              		.loc 1 117 1 view .LVU135
 492 0014 0746     		mov	r7, r0
 493 0016 0D46     		mov	r5, r1
 494 0018 1646     		mov	r6, r2
 104:../Public/fifo.c ****     pfifo->lockstate = FIFO_LOCK;
 495              		.loc 1 104 5 is_stmt 1 view .LVU136
 104:../Public/fifo.c ****     pfifo->lockstate = FIFO_LOCK;
 496              		.loc 1 104 22 is_stmt 0 view .LVU137
 497 001a 0123     		movs	r3, #1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 12


 498 001c 8373     		strb	r3, [r0, #14]
 105:../Public/fifo.c **** 	if(len > bytefifo_usendbyte(pfifo))//
 499              		.loc 1 105 2 is_stmt 1 view .LVU138
 105:../Public/fifo.c **** 	if(len > bytefifo_usendbyte(pfifo))//
 500              		.loc 1 105 11 is_stmt 0 view .LVU139
 501 001e FFF7FEFF 		bl	bytefifo_usendbyte
 502              	.LVL33:
 105:../Public/fifo.c **** 	if(len > bytefifo_usendbyte(pfifo))//
 503              		.loc 1 105 4 view .LVU140
 504 0022 B042     		cmp	r0, r6
 505 0024 01D3     		bcc	.L34
  99:../Public/fifo.c **** 	char statues = 1;
 506              		.loc 1 99 7 view .LVU141
 507 0026 0120     		movs	r0, #1
 508 0028 0FE0     		b	.L28
 509              	.L34:
 107:../Public/fifo.c ****         pfifo->lockstate = FIFO_UNLOCK;
 510              		.loc 1 107 9 is_stmt 1 view .LVU142
 107:../Public/fifo.c ****         pfifo->lockstate = FIFO_UNLOCK;
 511              		.loc 1 107 26 is_stmt 0 view .LVU143
 512 002a 0023     		movs	r3, #0
 513 002c BB73     		strb	r3, [r7, #14]
 108:../Public/fifo.c **** 		return 1;//��ȡʧ��
 514              		.loc 1 108 3 is_stmt 1 view .LVU144
 108:../Public/fifo.c **** 		return 1;//��ȡʧ��
 515              		.loc 1 108 10 is_stmt 0 view .LVU145
 516 002e 0120     		movs	r0, #1
 517 0030 EEE7     		b	.L27
 518              	.LVL34:
 519              	.L29:
 112:../Public/fifo.c **** 		statues = bytefifo_readbyte(pfifo,&temp);
 520              		.loc 1 112 3 is_stmt 1 view .LVU146
 112:../Public/fifo.c **** 		statues = bytefifo_readbyte(pfifo,&temp);
 521              		.loc 1 112 13 is_stmt 0 view .LVU147
 522 0032 0DF10701 		add	r1, sp, #7
 523 0036 3846     		mov	r0, r7
 524              	.LVL35:
 112:../Public/fifo.c **** 		statues = bytefifo_readbyte(pfifo,&temp);
 525              		.loc 1 112 13 view .LVU148
 526 0038 FFF7FEFF 		bl	bytefifo_readbyte
 527              	.LVL36:
 113:../Public/fifo.c **** 		*buf++ = temp;
 528              		.loc 1 113 3 is_stmt 1 view .LVU149
 113:../Public/fifo.c **** 		*buf++ = temp;
 529              		.loc 1 113 7 is_stmt 0 view .LVU150
 530 003c 2946     		mov	r1, r5
 531              	.LVL37:
 113:../Public/fifo.c **** 		*buf++ = temp;
 532              		.loc 1 113 10 view .LVU151
 533 003e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 534 0042 01F8013B 		strb	r3, [r1], #1
 535              	.LVL38:
 110:../Public/fifo.c **** 	while(len--)
 536              		.loc 1 110 11 view .LVU152
 537 0046 2646     		mov	r6, r4
 113:../Public/fifo.c **** 		*buf++ = temp;
 538              		.loc 1 113 7 view .LVU153
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 13


 539 0048 0D46     		mov	r5, r1
 540              	.LVL39:
 541              	.L28:
 110:../Public/fifo.c **** 	while(len--)
 542              		.loc 1 110 7 is_stmt 1 view .LVU154
 110:../Public/fifo.c **** 	while(len--)
 543              		.loc 1 110 11 is_stmt 0 view .LVU155
 544 004a 731E     		subs	r3, r6, #1
 545 004c 9CB2     		uxth	r4, r3
 546              	.LVL40:
 110:../Public/fifo.c **** 	while(len--)
 547              		.loc 1 110 7 view .LVU156
 548 004e 002E     		cmp	r6, #0
 549 0050 EFD1     		bne	.L29
 115:../Public/fifo.c ****     pfifo->lockstate = FIFO_UNLOCK;
 550              		.loc 1 115 5 is_stmt 1 view .LVU157
 115:../Public/fifo.c ****     pfifo->lockstate = FIFO_UNLOCK;
 551              		.loc 1 115 22 is_stmt 0 view .LVU158
 552 0052 0023     		movs	r3, #0
 553 0054 BB73     		strb	r3, [r7, #14]
 116:../Public/fifo.c **** 	return statues;
 554              		.loc 1 116 2 is_stmt 1 view .LVU159
 116:../Public/fifo.c **** 	return statues;
 555              		.loc 1 116 9 is_stmt 0 view .LVU160
 556 0056 DBE7     		b	.L27
 557              		.cfi_endproc
 558              	.LFE7:
 560              		.text
 561              	.Letext0:
 562              		.file 2 "../Public/fifo.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 fifo.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:18     .text.bytefifo_isfull:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:25     .text.bytefifo_isfull:00000000 bytefifo_isfull
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:66     .text.bytefifo_isempty:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:72     .text.bytefifo_isempty:00000000 bytefifo_isempty
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:104    .text.bytefifo_writebyte:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:110    .text.bytefifo_writebyte:00000000 bytefifo_writebyte
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:175    .text.bytefifo_readbyte:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:181    .text.bytefifo_readbyte:00000000 bytefifo_readbyte
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:248    .text.bytefifo_usendbyte:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:254    .text.bytefifo_usendbyte:00000000 bytefifo_usendbyte
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:295    .text.bytefifo_init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:302    .text.bytefifo_init:00000000 bytefifo_init
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:336    .text.bytefifo_writemulitebyge:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:343    .text.bytefifo_writemulitebyge:00000000 bytefifo_writemulitebyge
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:439    .text.bytefifo_readmulintebyte:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccVDECmb.s:446    .text.bytefifo_readmulintebyte:00000000 bytefifo_readmulintebyte

NO UNDEFINED SYMBOLS
