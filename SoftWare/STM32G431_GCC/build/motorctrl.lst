ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motorctrl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.motor_enable_noirq,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	motor_enable_noirq:
  26              	.LFB334:
  27              		.file 1 "../BLDCMotor/motorctrl.c"
   1:../BLDCMotor/motorctrl.c **** #include "./motorctrl.h"
   2:../BLDCMotor/motorctrl.c **** #include "debuglog.h"
   3:../BLDCMotor/motorctrl.c **** #include "motorctrl_common.h"
   4:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G431
   5:../BLDCMotor/motorctrl.c **** #include "mt6816.h"
   6:../BLDCMotor/motorctrl.c **** #endif
   7:../BLDCMotor/motorctrl.c **** #define Q15_PI_2                   (51471)
   8:../BLDCMotor/motorctrl.c **** #define Q15_2PI                    (205884)
   9:../BLDCMotor/motorctrl.c **** #define PI_2                       (1.570796f)
  10:../BLDCMotor/motorctrl.c **** #define MOTORCTRL_PERCI            (1)
  11:../BLDCMotor/motorctrl.c **** 
  12:../BLDCMotor/motorctrl.c **** enum{
  13:../BLDCMotor/motorctrl.c ****     MOTOR_INIT,
  14:../BLDCMotor/motorctrl.c ****     MOTOR_IDLE,
  15:../BLDCMotor/motorctrl.c ****     MOTOR_START, 
  16:../BLDCMotor/motorctrl.c ****     MOTOR_RUNING,
  17:../BLDCMotor/motorctrl.c ****     MOTOR_STOP,
  18:../BLDCMotor/motorctrl.c **** };
  19:../BLDCMotor/motorctrl.c **** 
  20:../BLDCMotor/motorctrl.c **** motordebug_t sg_motordebug = {0};
  21:../BLDCMotor/motorctrl.c **** typedef struct
  22:../BLDCMotor/motorctrl.c **** {
  23:../BLDCMotor/motorctrl.c ****     unsigned char state;
  24:../BLDCMotor/motorctrl.c ****     unsigned short cnt;
  25:../BLDCMotor/motorctrl.c **** }motorctrl_t;
  26:../BLDCMotor/motorctrl.c **** 
  27:../BLDCMotor/motorctrl.c **** static dq_t _currmentloop(abc_t i_abc,float ele_theta);
  28:../BLDCMotor/motorctrl.c **** static float _get_angleoffset(void);
  29:../BLDCMotor/motorctrl.c **** static void motor_enable(void);
  30:../BLDCMotor/motorctrl.c **** static void motor_disable(void);
  31:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 2


  32:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab);
  33:../BLDCMotor/motorctrl.c **** motorctrl_t g_Motor1 = {
  34:../BLDCMotor/motorctrl.c ****     .state = MOTOR_INIT,
  35:../BLDCMotor/motorctrl.c ****     .cnt = 0,
  36:../BLDCMotor/motorctrl.c **** };
  37:../BLDCMotor/motorctrl.c **** static volatile float sg_MecThetaOffset = 0.0f;
  38:../BLDCMotor/motorctrl.c **** static lowfilter_t sg_elefilter[3];
  39:../BLDCMotor/motorctrl.c **** static pid_cb_t *sgp_curloop_d_pid;
  40:../BLDCMotor/motorctrl.c **** static pid_cb_t *sgp_curloop_q_pid;
  41:../BLDCMotor/motorctrl.c **** static curloop_t sg_curloop_param;
  42:../BLDCMotor/motorctrl.c **** float pre_angle_test = 0.0f;
  43:../BLDCMotor/motorctrl.c **** float next_angle_test = 0.0f;
  44:../BLDCMotor/motorctrl.c **** float raw_angle = 0.0f;
  45:../BLDCMotor/motorctrl.c **** float test_ia = 0.0f;
  46:../BLDCMotor/motorctrl.c **** float test_ib = 0.0f;
  47:../BLDCMotor/motorctrl.c **** float test_ic = 0.0f;
  48:../BLDCMotor/motorctrl.c **** extern float RTT_test_Id;
  49:../BLDCMotor/motorctrl.c **** void motortctrl_process(void)
  50:../BLDCMotor/motorctrl.c **** {
  51:../BLDCMotor/motorctrl.c **** 
  52:../BLDCMotor/motorctrl.c ****     char rec_buf[32];
  53:../BLDCMotor/motorctrl.c ****     char cnt = 0;
  54:../BLDCMotor/motorctrl.c ****     if (readline_fromPC(rec_buf,sizeof(rec_buf)))
  55:../BLDCMotor/motorctrl.c ****     {
  56:../BLDCMotor/motorctrl.c ****         motorprotocol_pause(rec_buf);
  57:../BLDCMotor/motorctrl.c ****     }
  58:../BLDCMotor/motorctrl.c **** 
  59:../BLDCMotor/motorctrl.c ****     switch (g_Motor1.state)
  60:../BLDCMotor/motorctrl.c ****     {
  61:../BLDCMotor/motorctrl.c ****     case MOTOR_INIT:
  62:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = _get_angleoffset();
  63:../BLDCMotor/motorctrl.c ****         foc_paraminit();
  64:../BLDCMotor/motorctrl.c ****         USER_DEBUG_NORMAL("motor init\r\n");
  65:../BLDCMotor/motorctrl.c ****         HAL_Delay(20);
  66:../BLDCMotor/motorctrl.c ****         motor_enable();
  67:../BLDCMotor/motorctrl.c ****         g_Motor1.state = MOTOR_RUNING;           
  68:../BLDCMotor/motorctrl.c ****         break;
  69:../BLDCMotor/motorctrl.c **** 
  70:../BLDCMotor/motorctrl.c ****     case MOTOR_RUNING:
  71:../BLDCMotor/motorctrl.c ****         {
  72:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 15000))
  73:../BLDCMotor/motorctrl.c ****             {
  74:../BLDCMotor/motorctrl.c ****                 // g_Motor1.state = MOTOR_STOP;
  75:../BLDCMotor/motorctrl.c ****             }
  76:../BLDCMotor/motorctrl.c ****         }
  77:../BLDCMotor/motorctrl.c ****         break;
  78:../BLDCMotor/motorctrl.c **** 
  79:../BLDCMotor/motorctrl.c ****     case MOTOR_STOP:
  80:../BLDCMotor/motorctrl.c ****         motor_disable();
  81:../BLDCMotor/motorctrl.c ****         break;
  82:../BLDCMotor/motorctrl.c ****     default:
  83:../BLDCMotor/motorctrl.c ****         break;
  84:../BLDCMotor/motorctrl.c ****     }
  85:../BLDCMotor/motorctrl.c **** }
  86:../BLDCMotor/motorctrl.c **** /*------------Âë®ÊúüÊÄßË¢´Ë∞ÉÁî®----------------*/
  87:../BLDCMotor/motorctrl.c **** void _50uscycle_process(unsigned int *abc_vale,float _elec_theta)
  88:../BLDCMotor/motorctrl.c **** {
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 3


  89:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
  90:../BLDCMotor/motorctrl.c ****     int32_t Q15_Mechtheta;    
  91:../BLDCMotor/motorctrl.c **** 
  92:../BLDCMotor/motorctrl.c ****     duty_t dut01,dut02;
  93:../BLDCMotor/motorctrl.c **** 
  94:../BLDCMotor/motorctrl.c **** 
  95:../BLDCMotor/motorctrl.c **** 
  96:../BLDCMotor/motorctrl.c **** /*----------------‰∏âÁõ∏ÁîµÊµÅÂ§ÑÁêÜ------------------------------*/    
  97:../BLDCMotor/motorctrl.c ****     float Ia,Ib,Ic;
  98:../BLDCMotor/motorctrl.c ****     int32_t a1,b1,c1;
  99:../BLDCMotor/motorctrl.c ****     a1 = abc_vale[0] - A_ADCCHANNL_OFFSET;
 100:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 101:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 102:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ia = a1;
 103:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ib = b1;
 104:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ic = c1;    
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 106:../BLDCMotor/motorctrl.c ****     Ib = (float)b1*(float)B_VOLITETOCURRENT_FACTOR;
 107:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 108:../BLDCMotor/motorctrl.c **** #if 1
 109:../BLDCMotor/motorctrl.c ****     abc_t i_abc;
 110:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&sg_elefilter[0],Ia);
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 112:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 113:../BLDCMotor/motorctrl.c **** #endif
 114:../BLDCMotor/motorctrl.c **** 
 115:../BLDCMotor/motorctrl.c **** /*---------------------Ëé∑ÂèñÂΩìÂâçËΩ¨Â≠êËßíÂ∫¶-------------------------*/
 116:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G4_MCB
 117:../BLDCMotor/motorctrl.c ****     // Q15_Mechtheta = ((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_COV))[0];
 118:../BLDCMotor/motorctrl.c ****     // mech_theta = _IQ20toF(Q15_Mechtheta);
 119:../BLDCMotor/motorctrl.c ****     // raw_angle = mech_theta;
 120:../BLDCMotor/motorctrl.c ****     // mech_theta = (mech_theta - sg_MecThetaOffset);
 121:../BLDCMotor/motorctrl.c ****     // elec_theta = mech_theta * MOTOR_PAIR;
 122:../BLDCMotor/motorctrl.c ****     // elec_theta += ANGLE_COMPENSATA;
 123:../BLDCMotor/motorctrl.c ****     // elec_theta = _normalize_angle(elec_theta);
 124:../BLDCMotor/motorctrl.c ****     // sg_motordebug.ele_angle = elec_theta;
 125:../BLDCMotor/motorctrl.c **** 
 126:../BLDCMotor/motorctrl.c **** 
 127:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f,0.8f,_IQ15(0.0f),_IQ15(0.8f)};
 128:../BLDCMotor/motorctrl.c ****     alpbet_t uab,uab_q15;            
 129:../BLDCMotor/motorctrl.c ****     if (sg_motordebug.self_ele_theta > 6.28f)
 130:../BLDCMotor/motorctrl.c ****     {
 131:../BLDCMotor/motorctrl.c ****         sg_motordebug.self_ele_theta = 0.0f;
 132:../BLDCMotor/motorctrl.c ****     }
 133:../BLDCMotor/motorctrl.c ****     _currmentloop(i_abc,sg_motordebug.self_ele_theta);
 134:../BLDCMotor/motorctrl.c ****     uab = _2r_2s(udq, sg_motordebug.self_ele_theta);
 135:../BLDCMotor/motorctrl.c ****     dut01 = _svpwm(uab.alpha,uab.beta);
 136:../BLDCMotor/motorctrl.c ****     motor_set_pwm(dut01);//ÊöÇÊó∂Â±èËîΩ ÁîµÊú∫‰∏çËΩ¨Âä®
 137:../BLDCMotor/motorctrl.c ****     sg_motordebug.self_ele_theta += 0.001f;  
 138:../BLDCMotor/motorctrl.c **** 
 139:../BLDCMotor/motorctrl.c **** #endif
 140:../BLDCMotor/motorctrl.c **** 
 141:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 142:../BLDCMotor/motorctrl.c ****     Q15_Mechtheta = ((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_COV))[0];
 143:../BLDCMotor/motorctrl.c ****     mech_theta = _IQ20toF(Q15_Mechtheta);
 144:../BLDCMotor/motorctrl.c ****     raw_angle = mech_theta;
 145:../BLDCMotor/motorctrl.c ****     mech_theta = (mech_theta - sg_MecThetaOffset);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 4


 146:../BLDCMotor/motorctrl.c ****     elec_theta = mech_theta * MOTOR_PAIR;
 147:../BLDCMotor/motorctrl.c ****     elec_theta += ANGLE_COMPENSATA;
 148:../BLDCMotor/motorctrl.c ****     elec_theta = _normalize_angle(elec_theta);
 149:../BLDCMotor/motorctrl.c ****     sg_motordebug.ele_angle = elec_theta;
 150:../BLDCMotor/motorctrl.c **** 
 151:../BLDCMotor/motorctrl.c ****     #if 0//Âº∫Êãñ       
 152:../BLDCMotor/motorctrl.c ****         #if 1
 153:../BLDCMotor/motorctrl.c ****             dq_t udq = {0.0f,0.8f,_IQ15(0.0f),_IQ15(0.8f)};
 154:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;            
 155:../BLDCMotor/motorctrl.c ****             if (sg_motordebug.self_ele_theta > 6.28f)
 156:../BLDCMotor/motorctrl.c ****             {
 157:../BLDCMotor/motorctrl.c ****                 sg_motordebug.self_ele_theta = 0.0f;
 158:../BLDCMotor/motorctrl.c ****             }
 159:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,sg_motordebug.self_ele_theta);
 160:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, sg_motordebug.self_ele_theta);
 161:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 162:../BLDCMotor/motorctrl.c ****             // motor_set_pwm(dut01);//ÊöÇÊó∂Â±èËîΩ ÁîµÊú∫‰∏çËΩ¨Âä®
 163:../BLDCMotor/motorctrl.c ****             sg_motordebug.self_ele_theta += 0.001f;                
 164:../BLDCMotor/motorctrl.c ****         #else
 165:../BLDCMotor/motorctrl.c ****             dq_t udq = {0.0f,-0.8f,_IQ15(0.0f),_IQ15(0.8f)};
 166:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;            
 167:../BLDCMotor/motorctrl.c ****             if (sg_motordebug.self_ele_theta < 0.0f)
 168:../BLDCMotor/motorctrl.c ****             {
 169:../BLDCMotor/motorctrl.c ****                 sg_motordebug.self_ele_theta += _2PI;
 170:../BLDCMotor/motorctrl.c ****             }
 171:../BLDCMotor/motorctrl.c ****             _currmentloop(i_abc,sg_motordebug.self_ele_theta);
 172:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, sg_motordebug.self_ele_theta);
 173:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 174:../BLDCMotor/motorctrl.c ****             motor_set_pwm(dut01);
 175:../BLDCMotor/motorctrl.c ****             sg_motordebug.self_ele_theta -= 0.001f;               
 176:../BLDCMotor/motorctrl.c ****         #endif
 177:../BLDCMotor/motorctrl.c ****     #else //‰ΩøÁî®‰º†ÊÑüÂô®
 178:../BLDCMotor/motorctrl.c ****     {
 179:../BLDCMotor/motorctrl.c ****         dq_t udq = {0.0f,0.1f,_IQ15(0.0f),_IQ15(0.8f)};
 180:../BLDCMotor/motorctrl.c ****         alpbet_t uab,uab_q15;
 181:../BLDCMotor/motorctrl.c ****         #if 0/*Èó≠ÁéØÊéßÂà∂*/
 182:../BLDCMotor/motorctrl.c ****             udq = _currmentloop(i_abc,elec_theta - PI/2.0F);
 183:../BLDCMotor/motorctrl.c ****         #endif
 184:../BLDCMotor/motorctrl.c ****         uab = _2r_2s(udq, elec_theta);
 185:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 186:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 187:../BLDCMotor/motorctrl.c ****     }
 188:../BLDCMotor/motorctrl.c ****     #endif
 189:../BLDCMotor/motorctrl.c **** #endif
 190:../BLDCMotor/motorctrl.c **** 
 191:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G431
 192:../BLDCMotor/motorctrl.c ****             
 193:../BLDCMotor/motorctrl.c ****         Q15_Mechtheta = ((int32_t*)sensor_user_read(SENSOR_01,EN_SENSORDATA_COV))[0];
 194:../BLDCMotor/motorctrl.c ****         mech_theta = _IQ20toF(Q15_Mechtheta);
 195:../BLDCMotor/motorctrl.c ****         mech_theta -= sg_MecThetaOffset;
 196:../BLDCMotor/motorctrl.c ****         elec_theta = mech_theta * MOTOR_PAIR;
 197:../BLDCMotor/motorctrl.c ****         static unsigned char flag = 2;
 198:../BLDCMotor/motorctrl.c ****         if (flag == 2)
 199:../BLDCMotor/motorctrl.c ****         {
 200:../BLDCMotor/motorctrl.c ****             elec_theta = 0.0f;
 201:../BLDCMotor/motorctrl.c ****             flag = 0;
 202:../BLDCMotor/motorctrl.c ****         }
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 5


 203:../BLDCMotor/motorctrl.c ****         
 204:../BLDCMotor/motorctrl.c ****         elec_theta = _normalize_angle(elec_theta);
 205:../BLDCMotor/motorctrl.c ****         sg_motordebug.ele_angle = elec_theta;
 206:../BLDCMotor/motorctrl.c **** 
 207:../BLDCMotor/motorctrl.c ****         #if 0//Âº∫Êãñ
 208:../BLDCMotor/motorctrl.c ****             {            
 209:../BLDCMotor/motorctrl.c ****                 dq_t udq = {0.0f,1.0f,_IQ15(0.0f),_IQ15(0.0f)};
 210:../BLDCMotor/motorctrl.c ****                 alpbet_t uab,uab_q15;
 211:../BLDCMotor/motorctrl.c ****                 if (sg_motordebug.self_ele_theta >= _2PI)
 212:../BLDCMotor/motorctrl.c ****                 {
 213:../BLDCMotor/motorctrl.c ****                     sg_motordebug.self_ele_theta -= _2PI;
 214:../BLDCMotor/motorctrl.c ****                 }
 215:../BLDCMotor/motorctrl.c ****                 uab = _2r_2s(udq, sg_motordebug.self_ele_theta); 
 216:../BLDCMotor/motorctrl.c ****                 dut01 = _svpwm(uab.alpha,uab.beta);
 217:../BLDCMotor/motorctrl.c ****                 motor_set_pwm(dut01);
 218:../BLDCMotor/motorctrl.c ****                 sg_motordebug.self_ele_theta += 0.31415926f;
 219:../BLDCMotor/motorctrl.c ****             }
 220:../BLDCMotor/motorctrl.c ****         #else //‰ΩøÁî®‰º†ÊÑüÂô®
 221:../BLDCMotor/motorctrl.c ****         {
 222:../BLDCMotor/motorctrl.c ****             dq_t udq = {0.0f,0.0f,_IQ15(0.0f),_IQ15(0.8f)};
 223:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;
 224:../BLDCMotor/motorctrl.c ****             #if 1/*Èó≠ÁéØÊéßÂà∂*/
 225:../BLDCMotor/motorctrl.c ****                 // _currmentloop(i_abc,elec_theta);
 226:../BLDCMotor/motorctrl.c ****                 udq = _currmentloop(i_abc,elec_theta);
 227:../BLDCMotor/motorctrl.c ****                 sg_motordebug.pid_D_out = udq.d;
 228:../BLDCMotor/motorctrl.c ****             #endif
 229:../BLDCMotor/motorctrl.c ****             
 230:../BLDCMotor/motorctrl.c **** 
 231:../BLDCMotor/motorctrl.c ****     // float tar_id = 0.0f,tar_iq = 0.0f;
 232:../BLDCMotor/motorctrl.c ****     // tar_id = _IQ15toF(sg_motordebug.Q_id_targe);
 233:../BLDCMotor/motorctrl.c ****     // tar_iq = _IQ15toF(sg_motordebug.Q_iq_targe);
 234:../BLDCMotor/motorctrl.c ****     // udq.d =tar_id;
 235:../BLDCMotor/motorctrl.c ****             uab = _2r_2s(udq, elec_theta);
 236:../BLDCMotor/motorctrl.c **** 
 237:../BLDCMotor/motorctrl.c ****             uab = _limit_voltagecircle(uab);
 238:../BLDCMotor/motorctrl.c **** 
 239:../BLDCMotor/motorctrl.c ****             sg_motordebug.ialpha =  uab.alpha;
 240:../BLDCMotor/motorctrl.c ****             sg_motordebug.ibeta = uab.beta;
 241:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 242:../BLDCMotor/motorctrl.c ****             motor_set_pwm(dut01);
 243:../BLDCMotor/motorctrl.c **** 
 244:../BLDCMotor/motorctrl.c ****         }
 245:../BLDCMotor/motorctrl.c ****         #endif
 246:../BLDCMotor/motorctrl.c **** #endif
 247:../BLDCMotor/motorctrl.c **** /*--------------------------------------------------------------
 248:../BLDCMotor/motorctrl.c **** ÂºÄÁéØÊéßÂà∂
 249:../BLDCMotor/motorctrl.c **** 100usË∞ÉÁî®ÂåπÈÖçÂèÇÊï∞  
 250:../BLDCMotor/motorctrl.c ****     42BLDC  theta += 0.004f;  uq = 1.0f
 251:../BLDCMotor/motorctrl.c ****     yateng  theta += 0.004f;  uq = 1.0f
 252:../BLDCMotor/motorctrl.c ****     qita    theta += 0.004f;  uq = 1.0f
 253:../BLDCMotor/motorctrl.c **** --------------------------------------------------------------*/
 254:../BLDCMotor/motorctrl.c ****     return;
 255:../BLDCMotor/motorctrl.c **** }
 256:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab) {  
 257:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
 258:../BLDCMotor/motorctrl.c ****     float voltage_magnitude = sqrt(raw_uab.alpha * raw_uab.alpha + raw_uab.beta * raw_uab.beta); //
 259:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 6


 260:../BLDCMotor/motorctrl.c ****     if (voltage_magnitude > max_voltage) {  
 261:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 262:../BLDCMotor/motorctrl.c ****         float scale_factor = max_voltage / voltage_magnitude;  
 263:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 264:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 265:../BLDCMotor/motorctrl.c ****     } else {  
 266:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Âú®ÂÖÅËÆ∏ËåÉÂõ¥ÂÜÖÔºåÂàô‰∏çËøõË°å‰ªª‰ΩïÊîπÂèò  
 267:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha;  
 268:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 269:../BLDCMotor/motorctrl.c ****     }
 270:../BLDCMotor/motorctrl.c ****     return uab;
 271:../BLDCMotor/motorctrl.c **** }
 272:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 273:../BLDCMotor/motorctrl.c **** {
 274:../BLDCMotor/motorctrl.c **** #if 1
 275:../BLDCMotor/motorctrl.c ****     alpbet_t i_alphbeta;
 276:../BLDCMotor/motorctrl.c ****     dq_t i_dq;
 277:../BLDCMotor/motorctrl.c ****     test_ia = cosf(ele_theta);
 278:../BLDCMotor/motorctrl.c ****     test_ib = cosf(ele_theta - _2PI/3.0f);
 279:../BLDCMotor/motorctrl.c ****     test_ic = cosf(ele_theta + _2PI/3.0f);
 280:../BLDCMotor/motorctrl.c **** 
 281:../BLDCMotor/motorctrl.c ****     // i_abc.a = test_ib;
 282:../BLDCMotor/motorctrl.c ****     // i_abc.b = test_ic;
 283:../BLDCMotor/motorctrl.c ****     // i_abc.c = test_ia;
 284:../BLDCMotor/motorctrl.c **** 
 285:../BLDCMotor/motorctrl.c ****     sg_motordebug.ia = i_abc.a;
 286:../BLDCMotor/motorctrl.c ****     sg_motordebug.ib = i_abc.b;
 287:../BLDCMotor/motorctrl.c ****     sg_motordebug.ic = i_abc.c;
 288:../BLDCMotor/motorctrl.c **** 
 289:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32G431
 290:../BLDCMotor/motorctrl.c ****     i_abc.a = sg_motordebug.ia;
 291:../BLDCMotor/motorctrl.c ****     i_abc.b = sg_motordebug.ic;
 292:../BLDCMotor/motorctrl.c ****     i_abc.c = sg_motordebug.ib;
 293:../BLDCMotor/motorctrl.c **** 
 294:../BLDCMotor/motorctrl.c ****     // i_abc.a = sg_motordebug.ib;
 295:../BLDCMotor/motorctrl.c ****     // i_abc.b = sg_motordebug.ia;
 296:../BLDCMotor/motorctrl.c ****     // i_abc.c = sg_motordebug.ic;//ÂèØ‰ª•ÂÜçËØï iq‰∏∫Ê≠£Ê≠£Â∏∏
 297:../BLDCMotor/motorctrl.c **** 
 298:../BLDCMotor/motorctrl.c ****     // i_abc.a = sg_motordebug.ib;
 299:../BLDCMotor/motorctrl.c ****     // i_abc.b = sg_motordebug.ic;
 300:../BLDCMotor/motorctrl.c ****     // i_abc.c = sg_motordebug.ia;    //Êó†Ê≥ï‰ΩøÁî®
 301:../BLDCMotor/motorctrl.c **** 
 302:../BLDCMotor/motorctrl.c ****     // i_abc.a = sg_motordebug.ic;
 303:../BLDCMotor/motorctrl.c ****     // i_abc.b = sg_motordebug.ia;
 304:../BLDCMotor/motorctrl.c ****     // i_abc.c = sg_motordebug.ib;//Êó†Ê≥ï‰ΩøÁî®
 305:../BLDCMotor/motorctrl.c **** 
 306:../BLDCMotor/motorctrl.c ****     // i_abc.a = sg_motordebug.ic;
 307:../BLDCMotor/motorctrl.c ****     // i_abc.b = sg_motordebug.ib;
 308:../BLDCMotor/motorctrl.c ****     // i_abc.c = sg_motordebug.ia;//ÂèØ‰ª•ÂÜçËØï id,iqÊñπÂêëÊ≠£Á°Æ  ÂèØ‰ª•ËØïÁùÄË∞ÉËØï
 309:../BLDCMotor/motorctrl.c **** #endif
 310:../BLDCMotor/motorctrl.c ****     _3s_2s(i_abc,&i_alphbeta);
 311:../BLDCMotor/motorctrl.c ****     // sg_motordebug.ialpha = i_alphbeta.alpha;
 312:../BLDCMotor/motorctrl.c ****     // sg_motordebug.ibeta = i_alphbeta.beta;    
 313:../BLDCMotor/motorctrl.c ****     _2s_2r(i_alphbeta,((ele_theta - PI_2)),&i_dq);
 314:../BLDCMotor/motorctrl.c ****     sg_motordebug.id = (i_dq.d);
 315:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq = (i_dq.q);
 316:../BLDCMotor/motorctrl.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 7


 317:../BLDCMotor/motorctrl.c ****     dq_t udq;
 318:../BLDCMotor/motorctrl.c **** #if 1
 319:../BLDCMotor/motorctrl.c ****     float tar_id = 0.0f,tar_iq = 0.0f;
 320:../BLDCMotor/motorctrl.c ****     tar_id = _IQ15toF(sg_motordebug.Q_id_targe);
 321:../BLDCMotor/motorctrl.c ****     tar_iq = _IQ15toF(sg_motordebug.Q_iq_targe);
 322:../BLDCMotor/motorctrl.c ****     udq.d =pid_contrl(sgp_curloop_d_pid,tar_id,i_dq.d);
 323:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_real = i_dq.d;
 324:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_targe = tar_id;
 325:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(sgp_curloop_q_pid,tar_iq,i_dq.q);
 326:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_real = i_dq.q;
 327:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_targe = tar_iq;
 328:../BLDCMotor/motorctrl.c **** 
 329:../BLDCMotor/motorctrl.c **** 
 330:../BLDCMotor/motorctrl.c **** #endif
 331:../BLDCMotor/motorctrl.c **** 
 332:../BLDCMotor/motorctrl.c ****     
 333:../BLDCMotor/motorctrl.c ****     return udq;
 334:../BLDCMotor/motorctrl.c **** #endif
 335:../BLDCMotor/motorctrl.c **** }
 336:../BLDCMotor/motorctrl.c **** 
 337:../BLDCMotor/motorctrl.c **** static void motor_enable(void)
 338:../BLDCMotor/motorctrl.c **** {
 339:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 340:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 341:../BLDCMotor/motorctrl.c **** #endif
 342:../BLDCMotor/motorctrl.c ****     /*pwm ‰ΩøËÉΩ*/
 343:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
 344:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
 345:../BLDCMotor/motorctrl.c ****     adc_start();
 346:../BLDCMotor/motorctrl.c **** }
 347:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 348:../BLDCMotor/motorctrl.c **** {
  28              		.loc 1 348 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
 349:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 350:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 351:../BLDCMotor/motorctrl.c **** #endif
 352:../BLDCMotor/motorctrl.c ****     /*pwm ‰ΩøËÉΩ*/
 353:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
  37              		.loc 1 353 5 view .LVU1
  38 0002 FFF7FEFF 		bl	tim_pwm_enable
  39              	.LVL0:
 354:../BLDCMotor/motorctrl.c **** }
  40              		.loc 1 354 1 is_stmt 0 view .LVU2
  41 0006 08BD     		pop	{r3, pc}
  42              		.cfi_endproc
  43              	.LFE334:
  45              		.section	.text.motor_set_pwm,"ax",%progbits
  46              		.align	1
  47              		.syntax unified
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 8


  48              		.thumb
  49              		.thumb_func
  51              	motor_set_pwm:
  52              	.LFB336:
 355:../BLDCMotor/motorctrl.c **** static void motor_disable(void)
 356:../BLDCMotor/motorctrl.c **** {
 357:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 358:../BLDCMotor/motorctrl.c ****     gpio_setmotor_powerdown();
 359:../BLDCMotor/motorctrl.c **** #endif    
 360:../BLDCMotor/motorctrl.c ****     tim_pwm_disable();
 361:../BLDCMotor/motorctrl.c ****     adc_stop();
 362:../BLDCMotor/motorctrl.c **** }
 363:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp)
 364:../BLDCMotor/motorctrl.c **** {
  53              		.loc 1 364 1 is_stmt 1 view -0
  54              		.cfi_startproc
  55              		@ args = 0, pretend = 0, frame = 16
  56              		@ frame_needed = 0, uses_anonymous_args = 0
  57 0000 00B5     		push	{lr}
  58              	.LCFI1:
  59              		.cfi_def_cfa_offset 4
  60              		.cfi_offset 14, -4
  61 0002 85B0     		sub	sp, sp, #20
  62              	.LCFI2:
  63              		.cfi_def_cfa_offset 24
  64 0004 8DED010A 		vstr.32	s0, [sp, #4]
  65 0008 CDED020A 		vstr.32	s1, [sp, #8]
  66 000c 8DED031A 		vstr.32	s2, [sp, #12]
 365:../BLDCMotor/motorctrl.c ****     tim_set_pwm(temp._a,temp._b,temp._c);
  67              		.loc 1 365 5 view .LVU4
  68 0010 FFF7FEFF 		bl	tim_set_pwm
  69              	.LVL1:
 366:../BLDCMotor/motorctrl.c **** }
  70              		.loc 1 366 1 is_stmt 0 view .LVU5
  71 0014 05B0     		add	sp, sp, #20
  72              	.LCFI3:
  73              		.cfi_def_cfa_offset 4
  74              		@ sp needed
  75 0016 5DF804FB 		ldr	pc, [sp], #4
  76              		.cfi_endproc
  77              	.LFE336:
  79              		.section	.text._get_angleoffset,"ax",%progbits
  80              		.align	1
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  85              	_get_angleoffset:
  86              	.LFB337:
 367:../BLDCMotor/motorctrl.c **** static float _get_angleoffset(void)
 368:../BLDCMotor/motorctrl.c **** {
  87              		.loc 1 368 1 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 48
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91 0000 30B5     		push	{r4, r5, lr}
  92              	.LCFI4:
  93              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 9


  94              		.cfi_offset 4, -12
  95              		.cfi_offset 5, -8
  96              		.cfi_offset 14, -4
  97 0002 8FB0     		sub	sp, sp, #60
  98              	.LCFI5:
  99              		.cfi_def_cfa_offset 72
 369:../BLDCMotor/motorctrl.c ****     motor_enable_noirq();
 100              		.loc 1 369 5 view .LVU7
 101 0004 FFF7FEFF 		bl	motor_enable_noirq
 102              	.LVL2:
 370:../BLDCMotor/motorctrl.c ****     /*-----------ËÆæÁΩÆalpha/betaÂùêÊ†áÁ≥ª------------------*/
 371:../BLDCMotor/motorctrl.c ****     alpbet_t uab = {1.0f,0.0f};
 103              		.loc 1 371 5 view .LVU8
 104              		.loc 1 371 14 is_stmt 0 view .LVU9
 105 0008 0025     		movs	r5, #0
 106 000a 0A95     		str	r5, [sp, #40]
 107 000c 0B95     		str	r5, [sp, #44]
 108 000e 0C95     		str	r5, [sp, #48]
 109 0010 0D95     		str	r5, [sp, #52]
 110 0012 4FF07E52 		mov	r2, #1065353216
 111 0016 0A92     		str	r2, [sp, #40]	@ float
 372:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 112              		.loc 1 372 5 is_stmt 1 view .LVU10
 373:../BLDCMotor/motorctrl.c ****     float theta;
 113              		.loc 1 373 5 view .LVU11
 374:../BLDCMotor/motorctrl.c **** 
 375:../BLDCMotor/motorctrl.c ****     #ifdef BOARD_STM32H723 || BOARD_STM32G4_MCB
 376:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 377:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 378:../BLDCMotor/motorctrl.c ****         HAL_Delay(500);    
 379:../BLDCMotor/motorctrl.c ****         tim_encode_writecnt(0);
 380:../BLDCMotor/motorctrl.c ****         theta = 0.0f;
 381:../BLDCMotor/motorctrl.c ****         motor_disable();
 382:../BLDCMotor/motorctrl.c ****         return theta;
 383:../BLDCMotor/motorctrl.c ****     #endif
 384:../BLDCMotor/motorctrl.c **** 
 385:../BLDCMotor/motorctrl.c ****     #ifdef BOARD_STM32G431
 386:../BLDCMotor/motorctrl.c ****         dq_t udq = {1.0f,0.0f};
 114              		.loc 1 386 9 view .LVU12
 115              		.loc 1 386 14 is_stmt 0 view .LVU13
 116 0018 03AB     		add	r3, sp, #12
 117 001a 0395     		str	r5, [sp, #12]
 118 001c 0495     		str	r5, [sp, #16]
 119 001e 0595     		str	r5, [sp, #20]
 120 0020 0695     		str	r5, [sp, #24]
 121 0022 0392     		str	r2, [sp, #12]	@ float
 387:../BLDCMotor/motorctrl.c ****         uab = _2r_2s(udq,0.0f);
 122              		.loc 1 387 9 is_stmt 1 view .LVU14
 123              		.loc 1 387 15 is_stmt 0 view .LVU15
 124 0024 0095     		str	r5, [sp]
 125 0026 0ECB     		ldm	r3, {r1, r2, r3}
 126 0028 9FED180A 		vldr.32	s0, .L9
 127 002c 0AA8     		add	r0, sp, #40
 128 002e FFF7FEFF 		bl	_2r_2s
 129              	.LVL3:
 388:../BLDCMotor/motorctrl.c ****         dut01 = _svpwm(uab.alpha,uab.beta);
 130              		.loc 1 388 9 is_stmt 1 view .LVU16
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 10


 131              		.loc 1 388 17 is_stmt 0 view .LVU17
 132 0032 DDED0B0A 		vldr.32	s1, [sp, #44]
 133 0036 9DED0A0A 		vldr.32	s0, [sp, #40]
 134 003a FFF7FEFF 		bl	_svpwm
 135              	.LVL4:
 136 003e 8DED070A 		vstr.32	s0, [sp, #28]
 137 0042 CDED080A 		vstr.32	s1, [sp, #32]
 138 0046 8DED091A 		vstr.32	s2, [sp, #36]
 389:../BLDCMotor/motorctrl.c ****         motor_set_pwm(dut01);
 139              		.loc 1 389 9 is_stmt 1 view .LVU18
 140 004a FFF7FEFF 		bl	motor_set_pwm
 141              	.LVL5:
 390:../BLDCMotor/motorctrl.c ****         HAL_Delay(500);    
 142              		.loc 1 390 9 view .LVU19
 143 004e 4FF4FA70 		mov	r0, #500
 144 0052 FFF7FEFF 		bl	HAL_Delay
 145              	.LVL6:
 391:../BLDCMotor/motorctrl.c ****         // motor_disable();
 392:../BLDCMotor/motorctrl.c ****         HAL_Delay(500);
 146              		.loc 1 392 9 view .LVU20
 147 0056 4FF4FA70 		mov	r0, #500
 148 005a FFF7FEFF 		bl	HAL_Delay
 149              	.LVL7:
 393:../BLDCMotor/motorctrl.c ****         int32_t Q15_theta;
 150              		.loc 1 393 9 view .LVU21
 394:../BLDCMotor/motorctrl.c ****         int32_t Q_thetaSum = 0;
 151              		.loc 1 394 9 view .LVU22
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
 152              		.loc 1 395 9 view .LVU23
 153              	.LBB2:
 154              		.loc 1 395 14 view .LVU24
 155              		.loc 1 395 22 is_stmt 0 view .LVU25
 156 005e 2C46     		mov	r4, r5
 157              		.loc 1 395 9 view .LVU26
 158 0060 07E0     		b	.L6
 159              	.LVL8:
 160              	.L7:
 396:../BLDCMotor/motorctrl.c ****         {
 397:../BLDCMotor/motorctrl.c ****             Q_thetaSum += ((int32_t*)(sensor_user_read(SENSOR_01,EN_SENSORDATA_COV)))[0];
 161              		.loc 1 397 13 is_stmt 1 discriminator 3 view .LVU27
 162              		.loc 1 397 39 is_stmt 0 discriminator 3 view .LVU28
 163 0062 0121     		movs	r1, #1
 164 0064 0020     		movs	r0, #0
 165 0066 FFF7FEFF 		bl	sensor_user_read
 166              	.LVL9:
 167              		.loc 1 397 86 discriminator 3 view .LVU29
 168 006a 0368     		ldr	r3, [r0]
 169              		.loc 1 397 24 discriminator 3 view .LVU30
 170 006c 1D44     		add	r5, r5, r3
 171              	.LVL10:
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
 172              		.loc 1 395 37 is_stmt 1 discriminator 3 view .LVU31
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
 173              		.loc 1 395 38 is_stmt 0 discriminator 3 view .LVU32
 174 006e 0134     		adds	r4, r4, #1
 175              	.LVL11:
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 11


 176              		.loc 1 395 38 discriminator 3 view .LVU33
 177 0070 E4B2     		uxtb	r4, r4
 178              	.LVL12:
 179              	.L6:
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
 180              		.loc 1 395 29 is_stmt 1 discriminator 1 view .LVU34
 395:../BLDCMotor/motorctrl.c ****         for (uint8_t i = 0; i < 10; i++)
 181              		.loc 1 395 9 is_stmt 0 discriminator 1 view .LVU35
 182 0072 092C     		cmp	r4, #9
 183 0074 F5D9     		bls	.L7
 184              	.LBE2:
 398:../BLDCMotor/motorctrl.c ****         }
 399:../BLDCMotor/motorctrl.c ****         Q15_theta = Q_thetaSum/10;        
 185              		.loc 1 399 9 is_stmt 1 view .LVU36
 186              		.loc 1 399 19 is_stmt 0 view .LVU37
 187 0076 0648     		ldr	r0, .L9+4
 188 0078 80FB0530 		smull	r3, r0, r0, r5
 189 007c ED17     		asrs	r5, r5, #31
 190              	.LVL13:
 400:../BLDCMotor/motorctrl.c ****         theta = _IQ20toF(Q15_theta);
 191              		.loc 1 400 9 is_stmt 1 view .LVU38
 192              		.loc 1 400 17 is_stmt 0 view .LVU39
 193 007e C5EBA000 		rsb	r0, r5, r0, asr #2
 194              	.LVL14:
 195              		.loc 1 400 17 view .LVU40
 196 0082 FFF7FEFF 		bl	_IQ20toF
 197              	.LVL15:
 401:../BLDCMotor/motorctrl.c ****         return theta;
 198              		.loc 1 401 9 is_stmt 1 view .LVU41
 402:../BLDCMotor/motorctrl.c ****     #endif
 403:../BLDCMotor/motorctrl.c **** }
 199              		.loc 1 403 1 is_stmt 0 view .LVU42
 200 0086 0FB0     		add	sp, sp, #60
 201              	.LCFI6:
 202              		.cfi_def_cfa_offset 12
 203              		@ sp needed
 204 0088 30BD     		pop	{r4, r5, pc}
 205              	.LVL16:
 206              	.L10:
 207              		.loc 1 403 1 view .LVU43
 208 008a 00BF     		.align	2
 209              	.L9:
 210 008c 00000000 		.word	0
 211 0090 67666666 		.word	1717986919
 212              		.cfi_endproc
 213              	.LFE337:
 215              		.section	.text.motor_enable,"ax",%progbits
 216              		.align	1
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 221              	motor_enable:
 222              	.LFB333:
 338:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 223              		.loc 1 338 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 12


 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227 0000 08B5     		push	{r3, lr}
 228              	.LCFI7:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 3, -8
 231              		.cfi_offset 14, -4
 343:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
 232              		.loc 1 343 5 view .LVU45
 233 0002 FFF7FEFF 		bl	tim_pwm_enable
 234              	.LVL17:
 344:../BLDCMotor/motorctrl.c ****     adc_start();
 235              		.loc 1 344 5 view .LVU46
 236 0006 FFF7FEFF 		bl	tim_tigger_adc
 237              	.LVL18:
 345:../BLDCMotor/motorctrl.c **** }
 238              		.loc 1 345 5 view .LVU47
 239 000a FFF7FEFF 		bl	adc_start
 240              	.LVL19:
 346:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 241              		.loc 1 346 1 is_stmt 0 view .LVU48
 242 000e 08BD     		pop	{r3, pc}
 243              		.cfi_endproc
 244              	.LFE333:
 246              		.section	.text.motor_disable,"ax",%progbits
 247              		.align	1
 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 252              	motor_disable:
 253              	.LFB335:
 356:../BLDCMotor/motorctrl.c **** #ifdef BOARD_STM32H723
 254              		.loc 1 356 1 is_stmt 1 view -0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 0
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258 0000 08B5     		push	{r3, lr}
 259              	.LCFI8:
 260              		.cfi_def_cfa_offset 8
 261              		.cfi_offset 3, -8
 262              		.cfi_offset 14, -4
 360:../BLDCMotor/motorctrl.c ****     adc_stop();
 263              		.loc 1 360 5 view .LVU50
 264 0002 FFF7FEFF 		bl	tim_pwm_disable
 265              	.LVL20:
 361:../BLDCMotor/motorctrl.c **** }
 266              		.loc 1 361 5 view .LVU51
 267 0006 FFF7FEFF 		bl	adc_stop
 268              	.LVL21:
 362:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp)
 269              		.loc 1 362 1 is_stmt 0 view .LVU52
 270 000a 08BD     		pop	{r3, pc}
 271              		.cfi_endproc
 272              	.LFE335:
 274              		.section	.text._currmentloop,"ax",%progbits
 275              		.align	1
 276              		.syntax unified
 277              		.thumb
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 13


 278              		.thumb_func
 280              	_currmentloop:
 281              	.LVL22:
 282              	.LFB332:
 273:../BLDCMotor/motorctrl.c **** #if 1
 283              		.loc 1 273 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 28, pretend = 16, frame = 32
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 273:../BLDCMotor/motorctrl.c **** #if 1
 287              		.loc 1 273 1 is_stmt 0 view .LVU54
 288 0000 84B0     		sub	sp, sp, #16
 289              	.LCFI9:
 290              		.cfi_def_cfa_offset 16
 291 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 292              	.LCFI10:
 293              		.cfi_def_cfa_offset 36
 294              		.cfi_offset 4, -36
 295              		.cfi_offset 5, -32
 296              		.cfi_offset 6, -28
 297              		.cfi_offset 7, -24
 298              		.cfi_offset 14, -20
 299 0004 2DED028B 		vpush.64	{d8}
 300              	.LCFI11:
 301              		.cfi_def_cfa_offset 44
 302              		.cfi_offset 80, -44
 303              		.cfi_offset 81, -40
 304 0008 8DB0     		sub	sp, sp, #52
 305              	.LCFI12:
 306              		.cfi_def_cfa_offset 96
 307 000a 0646     		mov	r6, r0
 308 000c 15AD     		add	r5, sp, #84
 309 000e 85E80E00 		stm	r5, {r1, r2, r3}
 310 0012 B0EE408A 		vmov.f32	s16, s0
 275:../BLDCMotor/motorctrl.c ****     dq_t i_dq;
 311              		.loc 1 275 5 is_stmt 1 view .LVU55
 276:../BLDCMotor/motorctrl.c ****     test_ia = cosf(ele_theta);
 312              		.loc 1 276 5 view .LVU56
 277:../BLDCMotor/motorctrl.c ****     test_ib = cosf(ele_theta - _2PI/3.0f);
 313              		.loc 1 277 5 view .LVU57
 277:../BLDCMotor/motorctrl.c ****     test_ib = cosf(ele_theta - _2PI/3.0f);
 314              		.loc 1 277 15 is_stmt 0 view .LVU58
 315 0016 FFF7FEFF 		bl	cosf
 316              	.LVL23:
 277:../BLDCMotor/motorctrl.c ****     test_ib = cosf(ele_theta - _2PI/3.0f);
 317              		.loc 1 277 13 view .LVU59
 318 001a 314B     		ldr	r3, .L17
 319 001c 83ED000A 		vstr.32	s0, [r3]
 278:../BLDCMotor/motorctrl.c ****     test_ic = cosf(ele_theta + _2PI/3.0f);
 320              		.loc 1 278 5 is_stmt 1 view .LVU60
 278:../BLDCMotor/motorctrl.c ****     test_ic = cosf(ele_theta + _2PI/3.0f);
 321              		.loc 1 278 15 is_stmt 0 view .LVU61
 322 0020 DFED308A 		vldr.32	s17, .L17+4
 323 0024 38EE680A 		vsub.f32	s0, s16, s17
 324 0028 FFF7FEFF 		bl	cosf
 325              	.LVL24:
 278:../BLDCMotor/motorctrl.c ****     test_ic = cosf(ele_theta + _2PI/3.0f);
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 14


 326              		.loc 1 278 13 view .LVU62
 327 002c 2E4B     		ldr	r3, .L17+8
 328 002e 83ED000A 		vstr.32	s0, [r3]
 279:../BLDCMotor/motorctrl.c **** 
 329              		.loc 1 279 5 is_stmt 1 view .LVU63
 279:../BLDCMotor/motorctrl.c **** 
 330              		.loc 1 279 15 is_stmt 0 view .LVU64
 331 0032 38EE280A 		vadd.f32	s0, s16, s17
 332 0036 FFF7FEFF 		bl	cosf
 333              	.LVL25:
 279:../BLDCMotor/motorctrl.c **** 
 334              		.loc 1 279 13 view .LVU65
 335 003a 2C4B     		ldr	r3, .L17+12
 336 003c 83ED000A 		vstr.32	s0, [r3]
 285:../BLDCMotor/motorctrl.c ****     sg_motordebug.ib = i_abc.b;
 337              		.loc 1 285 5 is_stmt 1 view .LVU66
 285:../BLDCMotor/motorctrl.c ****     sg_motordebug.ib = i_abc.b;
 338              		.loc 1 285 22 is_stmt 0 view .LVU67
 339 0040 2B4C     		ldr	r4, .L17+16
 340 0042 159B     		ldr	r3, [sp, #84]	@ float
 341 0044 2360     		str	r3, [r4]	@ float
 286:../BLDCMotor/motorctrl.c ****     sg_motordebug.ic = i_abc.c;
 342              		.loc 1 286 5 is_stmt 1 view .LVU68
 286:../BLDCMotor/motorctrl.c ****     sg_motordebug.ic = i_abc.c;
 343              		.loc 1 286 29 is_stmt 0 view .LVU69
 344 0046 169B     		ldr	r3, [sp, #88]	@ float
 286:../BLDCMotor/motorctrl.c ****     sg_motordebug.ic = i_abc.c;
 345              		.loc 1 286 22 view .LVU70
 346 0048 6360     		str	r3, [r4, #4]	@ float
 287:../BLDCMotor/motorctrl.c **** 
 347              		.loc 1 287 5 is_stmt 1 view .LVU71
 287:../BLDCMotor/motorctrl.c **** 
 348              		.loc 1 287 29 is_stmt 0 view .LVU72
 349 004a 179A     		ldr	r2, [sp, #92]	@ float
 287:../BLDCMotor/motorctrl.c **** 
 350              		.loc 1 287 22 view .LVU73
 351 004c A260     		str	r2, [r4, #8]	@ float
 290:../BLDCMotor/motorctrl.c ****     i_abc.b = sg_motordebug.ic;
 352              		.loc 1 290 5 is_stmt 1 view .LVU74
 291:../BLDCMotor/motorctrl.c ****     i_abc.c = sg_motordebug.ib;
 353              		.loc 1 291 5 view .LVU75
 291:../BLDCMotor/motorctrl.c ****     i_abc.c = sg_motordebug.ib;
 354              		.loc 1 291 13 is_stmt 0 view .LVU76
 355 004e 1692     		str	r2, [sp, #88]	@ float
 292:../BLDCMotor/motorctrl.c **** 
 356              		.loc 1 292 5 is_stmt 1 view .LVU77
 292:../BLDCMotor/motorctrl.c **** 
 357              		.loc 1 292 13 is_stmt 0 view .LVU78
 358 0050 1793     		str	r3, [sp, #92]	@ float
 310:../BLDCMotor/motorctrl.c ****     // sg_motordebug.ialpha = i_alphbeta.alpha;
 359              		.loc 1 310 5 is_stmt 1 view .LVU79
 360 0052 08AF     		add	r7, sp, #32
 361 0054 0297     		str	r7, [sp, #8]
 362 0056 19AB     		add	r3, sp, #100
 363 0058 93E80300 		ldm	r3, {r0, r1}
 364 005c 8DE80300 		stm	sp, {r0, r1}
 365 0060 95E80F00 		ldm	r5, {r0, r1, r2, r3}
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 15


 366 0064 FFF7FEFF 		bl	_3s_2s
 367              	.LVL26:
 313:../BLDCMotor/motorctrl.c ****     sg_motordebug.id = (i_dq.d);
 368              		.loc 1 313 5 view .LVU80
 369 0068 04AB     		add	r3, sp, #16
 370 006a 0093     		str	r3, [sp]
 371 006c 9FED210A 		vldr.32	s0, .L17+20
 372 0070 38EE400A 		vsub.f32	s0, s16, s0
 373 0074 97E80F00 		ldm	r7, {r0, r1, r2, r3}
 374 0078 FFF7FEFF 		bl	_2s_2r
 375              	.LVL27:
 314:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq = (i_dq.q);
 376              		.loc 1 314 5 view .LVU81
 314:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq = (i_dq.q);
 377              		.loc 1 314 29 is_stmt 0 view .LVU82
 378 007c 049B     		ldr	r3, [sp, #16]	@ float
 314:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq = (i_dq.q);
 379              		.loc 1 314 22 view .LVU83
 380 007e 6361     		str	r3, [r4, #20]	@ float
 315:../BLDCMotor/motorctrl.c **** 
 381              		.loc 1 315 5 is_stmt 1 view .LVU84
 315:../BLDCMotor/motorctrl.c **** 
 382              		.loc 1 315 29 is_stmt 0 view .LVU85
 383 0080 059B     		ldr	r3, [sp, #20]	@ float
 315:../BLDCMotor/motorctrl.c **** 
 384              		.loc 1 315 22 view .LVU86
 385 0082 A361     		str	r3, [r4, #24]	@ float
 317:../BLDCMotor/motorctrl.c **** #if 1
 386              		.loc 1 317 5 is_stmt 1 view .LVU87
 319:../BLDCMotor/motorctrl.c ****     tar_id = _IQ15toF(sg_motordebug.Q_id_targe);
 387              		.loc 1 319 5 view .LVU88
 388              	.LVL28:
 320:../BLDCMotor/motorctrl.c ****     tar_iq = _IQ15toF(sg_motordebug.Q_iq_targe);
 389              		.loc 1 320 5 view .LVU89
 320:../BLDCMotor/motorctrl.c ****     tar_iq = _IQ15toF(sg_motordebug.Q_iq_targe);
 390              		.loc 1 320 14 is_stmt 0 view .LVU90
 391 0084 E06B     		ldr	r0, [r4, #60]
 392 0086 FFF7FEFF 		bl	_IQ15toF
 393              	.LVL29:
 394 008a F0EE408A 		vmov.f32	s17, s0
 395              	.LVL30:
 321:../BLDCMotor/motorctrl.c ****     udq.d =pid_contrl(sgp_curloop_d_pid,tar_id,i_dq.d);
 396              		.loc 1 321 5 is_stmt 1 view .LVU91
 321:../BLDCMotor/motorctrl.c ****     udq.d =pid_contrl(sgp_curloop_d_pid,tar_id,i_dq.d);
 397              		.loc 1 321 14 is_stmt 0 view .LVU92
 398 008e A06C     		ldr	r0, [r4, #72]
 399 0090 FFF7FEFF 		bl	_IQ15toF
 400              	.LVL31:
 321:../BLDCMotor/motorctrl.c ****     udq.d =pid_contrl(sgp_curloop_d_pid,tar_id,i_dq.d);
 401              		.loc 1 321 14 view .LVU93
 402 0094 B0EE408A 		vmov.f32	s16, s0
 403              	.LVL32:
 322:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_real = i_dq.d;
 404              		.loc 1 322 5 is_stmt 1 view .LVU94
 322:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_real = i_dq.d;
 405              		.loc 1 322 12 is_stmt 0 view .LVU95
 406 0098 DDED040A 		vldr.32	s1, [sp, #16]
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 16


 407 009c B0EE680A 		vmov.f32	s0, s17
 408              	.LVL33:
 322:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_real = i_dq.d;
 409              		.loc 1 322 12 view .LVU96
 410 00a0 154B     		ldr	r3, .L17+24
 411 00a2 1868     		ldr	r0, [r3]
 412 00a4 FFF7FEFF 		bl	pid_contrl
 413              	.LVL34:
 322:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_real = i_dq.d;
 414              		.loc 1 322 11 view .LVU97
 415 00a8 86ED000A 		vstr.32	s0, [r6]
 323:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_targe = tar_id;
 416              		.loc 1 323 5 is_stmt 1 view .LVU98
 323:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_targe = tar_id;
 417              		.loc 1 323 33 is_stmt 0 view .LVU99
 418 00ac 049B     		ldr	r3, [sp, #16]	@ float
 323:../BLDCMotor/motorctrl.c ****     sg_motordebug.id_targe = tar_id;
 419              		.loc 1 323 27 view .LVU100
 420 00ae A363     		str	r3, [r4, #56]	@ float
 324:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(sgp_curloop_q_pid,tar_iq,i_dq.q);
 421              		.loc 1 324 5 is_stmt 1 view .LVU101
 324:../BLDCMotor/motorctrl.c ****     udq.q =pid_contrl(sgp_curloop_q_pid,tar_iq,i_dq.q);
 422              		.loc 1 324 28 is_stmt 0 view .LVU102
 423 00b0 C4ED108A 		vstr.32	s17, [r4, #64]
 325:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_real = i_dq.q;
 424              		.loc 1 325 5 is_stmt 1 view .LVU103
 325:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_real = i_dq.q;
 425              		.loc 1 325 12 is_stmt 0 view .LVU104
 426 00b4 DDED050A 		vldr.32	s1, [sp, #20]
 427 00b8 B0EE480A 		vmov.f32	s0, s16
 428 00bc 0F4B     		ldr	r3, .L17+28
 429 00be 1868     		ldr	r0, [r3]
 430 00c0 FFF7FEFF 		bl	pid_contrl
 431              	.LVL35:
 325:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_real = i_dq.q;
 432              		.loc 1 325 11 view .LVU105
 433 00c4 86ED010A 		vstr.32	s0, [r6, #4]
 326:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_targe = tar_iq;
 434              		.loc 1 326 5 is_stmt 1 view .LVU106
 326:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_targe = tar_iq;
 435              		.loc 1 326 33 is_stmt 0 view .LVU107
 436 00c8 059B     		ldr	r3, [sp, #20]	@ float
 326:../BLDCMotor/motorctrl.c ****     sg_motordebug.iq_targe = tar_iq;
 437              		.loc 1 326 27 view .LVU108
 438 00ca E364     		str	r3, [r4, #76]	@ float
 327:../BLDCMotor/motorctrl.c **** 
 439              		.loc 1 327 5 is_stmt 1 view .LVU109
 327:../BLDCMotor/motorctrl.c **** 
 440              		.loc 1 327 28 is_stmt 0 view .LVU110
 441 00cc 84ED118A 		vstr.32	s16, [r4, #68]
 333:../BLDCMotor/motorctrl.c **** #endif
 442              		.loc 1 333 5 is_stmt 1 view .LVU111
 335:../BLDCMotor/motorctrl.c **** 
 443              		.loc 1 335 1 is_stmt 0 view .LVU112
 444 00d0 3046     		mov	r0, r6
 445 00d2 0DB0     		add	sp, sp, #52
 446              	.LCFI13:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 17


 447              		.cfi_def_cfa_offset 44
 448              		@ sp needed
 449 00d4 BDEC028B 		vldm	sp!, {d8}
 450              	.LCFI14:
 451              		.cfi_restore 80
 452              		.cfi_restore 81
 453              		.cfi_def_cfa_offset 36
 454              	.LVL36:
 335:../BLDCMotor/motorctrl.c **** 
 455              		.loc 1 335 1 view .LVU113
 456 00d8 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 457              	.LCFI15:
 458              		.cfi_restore 14
 459              		.cfi_restore 7
 460              		.cfi_restore 6
 461              		.cfi_restore 5
 462              		.cfi_restore 4
 463              		.cfi_def_cfa_offset 16
 464              	.LVL37:
 335:../BLDCMotor/motorctrl.c **** 
 465              		.loc 1 335 1 view .LVU114
 466 00dc 04B0     		add	sp, sp, #16
 467              	.LCFI16:
 468              		.cfi_def_cfa_offset 0
 469 00de 7047     		bx	lr
 470              	.L18:
 471              		.align	2
 472              	.L17:
 473 00e0 00000000 		.word	.LANCHOR0
 474 00e4 910A0640 		.word	1074137745
 475 00e8 00000000 		.word	.LANCHOR1
 476 00ec 00000000 		.word	.LANCHOR2
 477 00f0 00000000 		.word	.LANCHOR3
 478 00f4 D80FC93F 		.word	1070141400
 479 00f8 00000000 		.word	.LANCHOR4
 480 00fc 00000000 		.word	.LANCHOR5
 481              		.cfi_endproc
 482              	.LFE332:
 484              		.global	__aeabi_f2d
 485              		.global	__aeabi_d2f
 486              		.section	.text._limit_voltagecircle,"ax",%progbits
 487              		.align	1
 488              		.global	_limit_voltagecircle
 489              		.syntax unified
 490              		.thumb
 491              		.thumb_func
 493              	_limit_voltagecircle:
 494              	.LVL38:
 495              	.LFB331:
 256:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
 496              		.loc 1 256 49 is_stmt 1 view -0
 497              		.cfi_startproc
 498              		@ args = 20, pretend = 16, frame = 0
 499              		@ frame_needed = 0, uses_anonymous_args = 0
 256:../BLDCMotor/motorctrl.c ****     float max_voltage = D_MAX_VAL;// ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÁîµÂéãÂÄºÔºå‰æãÂ¶ÇÂØπ‰∫é‰∏âÁõ
 500              		.loc 1 256 49 is_stmt 0 view .LVU116
 501 0000 84B0     		sub	sp, sp, #16
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 18


 502              	.LCFI17:
 503              		.cfi_def_cfa_offset 16
 504 0002 10B5     		push	{r4, lr}
 505              	.LCFI18:
 506              		.cfi_def_cfa_offset 24
 507              		.cfi_offset 4, -24
 508              		.cfi_offset 14, -20
 509 0004 2DED028B 		vpush.64	{d8}
 510              	.LCFI19:
 511              		.cfi_def_cfa_offset 32
 512              		.cfi_offset 80, -32
 513              		.cfi_offset 81, -28
 514 0008 0446     		mov	r4, r0
 515 000a 05A8     		add	r0, sp, #20
 516 000c 80E80E00 		stm	r0, {r1, r2, r3}
 257:../BLDCMotor/motorctrl.c ****     float voltage_magnitude = sqrt(raw_uab.alpha * raw_uab.alpha + raw_uab.beta * raw_uab.beta); //
 517              		.loc 1 257 5 is_stmt 1 view .LVU117
 518              	.LVL39:
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 519              		.loc 1 258 5 view .LVU118
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 520              		.loc 1 258 43 is_stmt 0 view .LVU119
 521 0010 DDED058A 		vldr.32	s17, [sp, #20]
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 522              		.loc 1 258 50 view .LVU120
 523 0014 28EEA87A 		vmul.f32	s14, s17, s17
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 524              		.loc 1 258 75 view .LVU121
 525 0018 9DED068A 		vldr.32	s16, [sp, #24]
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 526              		.loc 1 258 81 view .LVU122
 527 001c 68EE087A 		vmul.f32	s15, s16, s16
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 528              		.loc 1 258 31 view .LVU123
 529 0020 77EE277A 		vadd.f32	s15, s14, s15
 530 0024 17EE900A 		vmov	r0, s15
 531              	.LVL40:
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 532              		.loc 1 258 31 view .LVU124
 533 0028 FFF7FEFF 		bl	__aeabi_f2d
 534              	.LVL41:
 535 002c 41EC100B 		vmov	d0, r0, r1
 536 0030 FFF7FEFF 		bl	sqrt
 537              	.LVL42:
 538 0034 51EC100B 		vmov	r0, r1, d0
 258:../BLDCMotor/motorctrl.c ****     alpbet_t uab;
 539              		.loc 1 258 11 view .LVU125
 540 0038 FFF7FEFF 		bl	__aeabi_d2f
 541              	.LVL43:
 542 003c 07EE900A 		vmov	s15, r0
 543              	.LVL44:
 259:../BLDCMotor/motorctrl.c ****     if (voltage_magnitude > max_voltage) {  
 544              		.loc 1 259 5 is_stmt 1 view .LVU126
 260:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 545              		.loc 1 260 5 view .LVU127
 260:../BLDCMotor/motorctrl.c ****         // Â¶ÇÊûúÁü¢ÈáèÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÁîµÂéãÔºåÂàôÊåâÊØî‰æãÁº©ÊîæÁü¢Èáè‰ª•‰ΩøÂÖ∂ËêΩÂú®ÁîµÂéãÁü¢È
 546              		.loc 1 260 8 is_stmt 0 view .LVU128
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 19


 547 0040 B2EE0A7A 		vmov.f32	s14, #1.3e+1
 548 0044 F4EEC77A 		vcmpe.f32	s15, s14
 549 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 550 004c 12DD     		ble	.L24
 551              	.LBB3:
 262:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 552              		.loc 1 262 9 is_stmt 1 view .LVU129
 262:../BLDCMotor/motorctrl.c ****         uab.alpha = raw_uab.alpha * scale_factor;  
 553              		.loc 1 262 15 is_stmt 0 view .LVU130
 554 004e F0EE476A 		vmov.f32	s13, s14
 555 0052 86EEA77A 		vdiv.f32	s14, s13, s15
 556              	.LVL45:
 263:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 557              		.loc 1 263 9 is_stmt 1 view .LVU131
 263:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 558              		.loc 1 263 35 is_stmt 0 view .LVU132
 559 0056 68EE878A 		vmul.f32	s17, s17, s14
 263:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta * scale_factor;  
 560              		.loc 1 263 19 view .LVU133
 561 005a C4ED008A 		vstr.32	s17, [r4]
 264:../BLDCMotor/motorctrl.c ****     } else {  
 562              		.loc 1 264 9 is_stmt 1 view .LVU134
 264:../BLDCMotor/motorctrl.c ****     } else {  
 563              		.loc 1 264 33 is_stmt 0 view .LVU135
 564 005e 28EE078A 		vmul.f32	s16, s16, s14
 264:../BLDCMotor/motorctrl.c ****     } else {  
 565              		.loc 1 264 18 view .LVU136
 566 0062 84ED018A 		vstr.32	s16, [r4, #4]
 567              	.LVL46:
 568              	.L19:
 264:../BLDCMotor/motorctrl.c ****     } else {  
 569              		.loc 1 264 18 view .LVU137
 570              	.LBE3:
 271:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 571              		.loc 1 271 1 view .LVU138
 572 0066 2046     		mov	r0, r4
 573              	.LVL47:
 271:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 574              		.loc 1 271 1 view .LVU139
 575 0068 BDEC028B 		vldm	sp!, {d8}
 576              	.LCFI20:
 577              		.cfi_remember_state
 578              		.cfi_restore 80
 579              		.cfi_restore 81
 580              		.cfi_def_cfa_offset 24
 581 006c BDE81040 		pop	{r4, lr}
 582              	.LCFI21:
 583              		.cfi_restore 14
 584              		.cfi_restore 4
 585              		.cfi_def_cfa_offset 16
 586              	.LVL48:
 271:../BLDCMotor/motorctrl.c **** dq_t _currmentloop(abc_t i_abc,float ele_theta)
 587              		.loc 1 271 1 view .LVU140
 588 0070 04B0     		add	sp, sp, #16
 589              	.LCFI22:
 590              		.cfi_def_cfa_offset 0
 591 0072 7047     		bx	lr
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 20


 592              	.LVL49:
 593              	.L24:
 594              	.LCFI23:
 595              		.cfi_restore_state
 267:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 596              		.loc 1 267 9 is_stmt 1 view .LVU141
 267:../BLDCMotor/motorctrl.c ****         uab.beta = raw_uab.beta;  
 597              		.loc 1 267 19 is_stmt 0 view .LVU142
 598 0074 C4ED008A 		vstr.32	s17, [r4]
 268:../BLDCMotor/motorctrl.c ****     }
 599              		.loc 1 268 9 is_stmt 1 view .LVU143
 268:../BLDCMotor/motorctrl.c ****     }
 600              		.loc 1 268 18 is_stmt 0 view .LVU144
 601 0078 84ED018A 		vstr.32	s16, [r4, #4]
 270:../BLDCMotor/motorctrl.c **** }
 602              		.loc 1 270 5 is_stmt 1 view .LVU145
 270:../BLDCMotor/motorctrl.c **** }
 603              		.loc 1 270 12 is_stmt 0 view .LVU146
 604 007c F3E7     		b	.L19
 605              		.cfi_endproc
 606              	.LFE331:
 608              		.section	.text._50uscycle_process,"ax",%progbits
 609              		.align	1
 610              		.global	_50uscycle_process
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 615              	_50uscycle_process:
 616              	.LVL50:
 617              	.LFB330:
  88:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
 618              		.loc 1 88 1 is_stmt 1 view -0
 619              		.cfi_startproc
 620              		@ args = 0, pretend = 0, frame = 88
 621              		@ frame_needed = 0, uses_anonymous_args = 0
  88:../BLDCMotor/motorctrl.c ****     float elec_theta,mech_theta;
 622              		.loc 1 88 1 is_stmt 0 view .LVU148
 623 0000 70B5     		push	{r4, r5, r6, lr}
 624              	.LCFI24:
 625              		.cfi_def_cfa_offset 16
 626              		.cfi_offset 4, -16
 627              		.cfi_offset 5, -12
 628              		.cfi_offset 6, -8
 629              		.cfi_offset 14, -4
 630 0002 2DED028B 		vpush.64	{d8}
 631              	.LCFI25:
 632              		.cfi_def_cfa_offset 24
 633              		.cfi_offset 80, -24
 634              		.cfi_offset 81, -20
 635 0006 9AB0     		sub	sp, sp, #104
 636              	.LCFI26:
 637              		.cfi_def_cfa_offset 128
  89:../BLDCMotor/motorctrl.c ****     int32_t Q15_Mechtheta;    
 638              		.loc 1 89 5 is_stmt 1 view .LVU149
  90:../BLDCMotor/motorctrl.c **** 
 639              		.loc 1 90 5 view .LVU150
  92:../BLDCMotor/motorctrl.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 21


 640              		.loc 1 92 5 view .LVU151
  97:../BLDCMotor/motorctrl.c ****     int32_t a1,b1,c1;
 641              		.loc 1 97 5 view .LVU152
  98:../BLDCMotor/motorctrl.c ****     a1 = abc_vale[0] - A_ADCCHANNL_OFFSET;
 642              		.loc 1 98 5 view .LVU153
  99:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 643              		.loc 1 99 5 view .LVU154
  99:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 644              		.loc 1 99 18 is_stmt 0 view .LVU155
 645 0008 0168     		ldr	r1, [r0]
  99:../BLDCMotor/motorctrl.c ****     b1 = abc_vale[1] - B_ADCCHANNL_OFFSET;
 646              		.loc 1 99 22 view .LVU156
 647 000a A1F64901 		subw	r1, r1, #2121
 648              	.LVL51:
 100:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 649              		.loc 1 100 5 is_stmt 1 view .LVU157
 100:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 650              		.loc 1 100 18 is_stmt 0 view .LVU158
 651 000e 4268     		ldr	r2, [r0, #4]
 100:../BLDCMotor/motorctrl.c ****     c1 = abc_vale[2] - C_ADCCHANNL_OFFSET;
 652              		.loc 1 100 22 view .LVU159
 653 0010 A2F50562 		sub	r2, r2, #2128
 654              	.LVL52:
 101:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ia = a1;
 655              		.loc 1 101 5 is_stmt 1 view .LVU160
 101:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ia = a1;
 656              		.loc 1 101 18 is_stmt 0 view .LVU161
 657 0014 8368     		ldr	r3, [r0, #8]
 101:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ia = a1;
 658              		.loc 1 101 22 view .LVU162
 659 0016 A3F66403 		subw	r3, r3, #2148
 660              	.LVL53:
 102:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ib = b1;
 661              		.loc 1 102 5 is_stmt 1 view .LVU163
 102:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ib = b1;
 662              		.loc 1 102 24 is_stmt 0 view .LVU164
 663 001a 4948     		ldr	r0, .L30
 664              	.LVL54:
 102:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ib = b1;
 665              		.loc 1 102 24 view .LVU165
 666 001c C161     		str	r1, [r0, #28]
 103:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ic = c1;    
 667              		.loc 1 103 5 is_stmt 1 view .LVU166
 103:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ic = c1;    
 668              		.loc 1 103 24 is_stmt 0 view .LVU167
 669 001e 0262     		str	r2, [r0, #32]
 104:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 670              		.loc 1 104 5 is_stmt 1 view .LVU168
 104:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)A_VOLITETOCURRENT_FACTOR;
 671              		.loc 1 104 24 is_stmt 0 view .LVU169
 672 0020 4362     		str	r3, [r0, #36]
 105:../BLDCMotor/motorctrl.c ****     Ib = (float)b1*(float)B_VOLITETOCURRENT_FACTOR;
 673              		.loc 1 105 5 is_stmt 1 view .LVU170
 105:../BLDCMotor/motorctrl.c ****     Ib = (float)b1*(float)B_VOLITETOCURRENT_FACTOR;
 674              		.loc 1 105 10 is_stmt 0 view .LVU171
 675 0022 07EE901A 		vmov	s15, r1	@ int
 676 0026 B8EEE70A 		vcvt.f32.s32	s0, s15
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 22


 677              	.LVL55:
 106:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 678              		.loc 1 106 5 is_stmt 1 view .LVU172
 106:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 679              		.loc 1 106 10 is_stmt 0 view .LVU173
 680 002a 07EE902A 		vmov	s15, r2	@ int
 681 002e F8EEE78A 		vcvt.f32.s32	s17, s15
 106:../BLDCMotor/motorctrl.c ****     Ic = (float)c1*(float)C_VOLITETOCURRENT_FACTOR;
 682              		.loc 1 106 8 view .LVU174
 683 0032 DFED447A 		vldr.32	s15, .L30+4
 684 0036 68EEA78A 		vmul.f32	s17, s17, s15
 685              	.LVL56:
 107:../BLDCMotor/motorctrl.c **** #if 1
 686              		.loc 1 107 5 is_stmt 1 view .LVU175
 107:../BLDCMotor/motorctrl.c **** #if 1
 687              		.loc 1 107 10 is_stmt 0 view .LVU176
 688 003a 07EE903A 		vmov	s15, r3	@ int
 689 003e B8EEE78A 		vcvt.f32.s32	s16, s15
 107:../BLDCMotor/motorctrl.c **** #if 1
 690              		.loc 1 107 8 view .LVU177
 691 0042 DFED417A 		vldr.32	s15, .L30+8
 692 0046 28EE278A 		vmul.f32	s16, s16, s15
 693              	.LVL57:
 109:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&sg_elefilter[0],Ia);
 694              		.loc 1 109 5 is_stmt 1 view .LVU178
 110:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 695              		.loc 1 110 5 view .LVU179
 110:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 696              		.loc 1 110 15 is_stmt 0 view .LVU180
 697 004a 404C     		ldr	r4, .L30+12
 698 004c DFED407A 		vldr.32	s15, .L30+16
 699 0050 20EE270A 		vmul.f32	s0, s0, s15
 700              	.LVL58:
 110:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 701              		.loc 1 110 15 view .LVU181
 702 0054 2046     		mov	r0, r4
 703 0056 FFF7FEFF 		bl	lowfilter_cale
 704              	.LVL59:
 110:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 705              		.loc 1 110 13 view .LVU182
 706 005a 8DED110A 		vstr.32	s0, [sp, #68]
 111:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 707              		.loc 1 111 5 is_stmt 1 view .LVU183
 111:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 708              		.loc 1 111 15 is_stmt 0 view .LVU184
 709 005e B0EE680A 		vmov.f32	s0, s17
 710 0062 04F10800 		add	r0, r4, #8
 711 0066 FFF7FEFF 		bl	lowfilter_cale
 712              	.LVL60:
 111:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 713              		.loc 1 111 13 view .LVU185
 714 006a 8DED120A 		vstr.32	s0, [sp, #72]
 112:../BLDCMotor/motorctrl.c **** #endif
 715              		.loc 1 112 5 is_stmt 1 view .LVU186
 112:../BLDCMotor/motorctrl.c **** #endif
 716              		.loc 1 112 15 is_stmt 0 view .LVU187
 717 006e B0EE480A 		vmov.f32	s0, s16
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 23


 718 0072 04F11000 		add	r0, r4, #16
 719 0076 FFF7FEFF 		bl	lowfilter_cale
 720              	.LVL61:
 112:../BLDCMotor/motorctrl.c **** #endif
 721              		.loc 1 112 13 view .LVU188
 722 007a 8DED130A 		vstr.32	s0, [sp, #76]
 193:../BLDCMotor/motorctrl.c ****         mech_theta = _IQ20toF(Q15_Mechtheta);
 723              		.loc 1 193 9 is_stmt 1 view .LVU189
 193:../BLDCMotor/motorctrl.c ****         mech_theta = _IQ20toF(Q15_Mechtheta);
 724              		.loc 1 193 36 is_stmt 0 view .LVU190
 725 007e 0121     		movs	r1, #1
 726 0080 0020     		movs	r0, #0
 727 0082 FFF7FEFF 		bl	sensor_user_read
 728              	.LVL62:
 194:../BLDCMotor/motorctrl.c ****         mech_theta -= sg_MecThetaOffset;
 729              		.loc 1 194 9 is_stmt 1 view .LVU191
 194:../BLDCMotor/motorctrl.c ****         mech_theta -= sg_MecThetaOffset;
 730              		.loc 1 194 22 is_stmt 0 view .LVU192
 731 0086 0068     		ldr	r0, [r0]
 732              	.LVL63:
 194:../BLDCMotor/motorctrl.c ****         mech_theta -= sg_MecThetaOffset;
 733              		.loc 1 194 22 view .LVU193
 734 0088 FFF7FEFF 		bl	_IQ20toF
 735              	.LVL64:
 195:../BLDCMotor/motorctrl.c ****         elec_theta = mech_theta * MOTOR_PAIR;
 736              		.loc 1 195 9 is_stmt 1 view .LVU194
 737 008c 314B     		ldr	r3, .L30+20
 738 008e D3ED007A 		vldr.32	s15, [r3]
 195:../BLDCMotor/motorctrl.c ****         elec_theta = mech_theta * MOTOR_PAIR;
 739              		.loc 1 195 20 is_stmt 0 view .LVU195
 740 0092 30EE670A 		vsub.f32	s0, s0, s15
 741              	.LVL65:
 196:../BLDCMotor/motorctrl.c ****         static unsigned char flag = 2;
 742              		.loc 1 196 9 is_stmt 1 view .LVU196
 196:../BLDCMotor/motorctrl.c ****         static unsigned char flag = 2;
 743              		.loc 1 196 20 is_stmt 0 view .LVU197
 744 0096 30EE000A 		vadd.f32	s0, s0, s0
 745              	.LVL66:
 197:../BLDCMotor/motorctrl.c ****         if (flag == 2)
 746              		.loc 1 197 9 is_stmt 1 view .LVU198
 198:../BLDCMotor/motorctrl.c ****         {
 747              		.loc 1 198 9 view .LVU199
 198:../BLDCMotor/motorctrl.c ****         {
 748              		.loc 1 198 18 is_stmt 0 view .LVU200
 749 009a 2F4B     		ldr	r3, .L30+24
 750 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 198:../BLDCMotor/motorctrl.c ****         {
 751              		.loc 1 198 12 view .LVU201
 752 009e 022B     		cmp	r3, #2
 753 00a0 47D0     		beq	.L29
 754              	.LVL67:
 755              	.L27:
 204:../BLDCMotor/motorctrl.c ****         sg_motordebug.ele_angle = elec_theta;
 756              		.loc 1 204 9 is_stmt 1 view .LVU202
 204:../BLDCMotor/motorctrl.c ****         sg_motordebug.ele_angle = elec_theta;
 757              		.loc 1 204 22 is_stmt 0 view .LVU203
 758 00a2 FFF7FEFF 		bl	_normalize_angle
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 24


 759              	.LVL68:
 204:../BLDCMotor/motorctrl.c ****         sg_motordebug.ele_angle = elec_theta;
 760              		.loc 1 204 22 view .LVU204
 761 00a6 B0EE408A 		vmov.f32	s16, s0
 762              	.LVL69:
 205:../BLDCMotor/motorctrl.c **** 
 763              		.loc 1 205 9 is_stmt 1 view .LVU205
 205:../BLDCMotor/motorctrl.c **** 
 764              		.loc 1 205 33 is_stmt 0 view .LVU206
 765 00aa 254E     		ldr	r6, .L30
 766 00ac 86ED160A 		vstr.32	s0, [r6, #88]
 767              	.LBB4:
 222:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;
 768              		.loc 1 222 13 is_stmt 1 view .LVU207
 222:../BLDCMotor/motorctrl.c ****             alpbet_t uab,uab_q15;
 769              		.loc 1 222 18 is_stmt 0 view .LVU208
 770 00b0 0023     		movs	r3, #0
 771 00b2 0993     		str	r3, [sp, #36]	@ float
 772 00b4 0A93     		str	r3, [sp, #40]	@ float
 773 00b6 0023     		movs	r3, #0
 774 00b8 0B93     		str	r3, [sp, #44]
 775 00ba 46F26663 		movw	r3, #26214
 776 00be 0C93     		str	r3, [sp, #48]
 223:../BLDCMotor/motorctrl.c ****             #if 1/*Èó≠ÁéØÊéßÂà∂*/
 777              		.loc 1 223 13 is_stmt 1 view .LVU209
 226:../BLDCMotor/motorctrl.c ****                 sg_motordebug.pid_D_out = udq.d;
 778              		.loc 1 226 17 view .LVU210
 226:../BLDCMotor/motorctrl.c ****                 sg_motordebug.pid_D_out = udq.d;
 779              		.loc 1 226 23 is_stmt 0 view .LVU211
 780 00c0 09AD     		add	r5, sp, #36
 781 00c2 14AB     		add	r3, sp, #80
 782 00c4 93E80700 		ldm	r3, {r0, r1, r2}
 783 00c8 8DE80700 		stm	sp, {r0, r1, r2}
 784 00cc 11AB     		add	r3, sp, #68
 785 00ce 0ECB     		ldm	r3, {r1, r2, r3}
 786 00d0 2846     		mov	r0, r5
 787 00d2 FFF7FEFF 		bl	_currmentloop
 788              	.LVL70:
 227:../BLDCMotor/motorctrl.c ****             #endif
 789              		.loc 1 227 17 is_stmt 1 view .LVU212
 227:../BLDCMotor/motorctrl.c ****             #endif
 790              		.loc 1 227 46 is_stmt 0 view .LVU213
 791 00d6 099B     		ldr	r3, [sp, #36]	@ float
 227:../BLDCMotor/motorctrl.c ****             #endif
 792              		.loc 1 227 41 view .LVU214
 793 00d8 7365     		str	r3, [r6, #84]	@ float
 235:../BLDCMotor/motorctrl.c **** 
 794              		.loc 1 235 13 is_stmt 1 view .LVU215
 235:../BLDCMotor/motorctrl.c **** 
 795              		.loc 1 235 19 is_stmt 0 view .LVU216
 796 00da 0DAC     		add	r4, sp, #52
 797 00dc 0C9B     		ldr	r3, [sp, #48]
 798 00de 0093     		str	r3, [sp]
 799 00e0 95E80E00 		ldm	r5, {r1, r2, r3}
 800 00e4 B0EE480A 		vmov.f32	s0, s16
 801 00e8 2046     		mov	r0, r4
 802 00ea FFF7FEFF 		bl	_2r_2s
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 25


 803              	.LVL71:
 237:../BLDCMotor/motorctrl.c **** 
 804              		.loc 1 237 13 is_stmt 1 view .LVU217
 237:../BLDCMotor/motorctrl.c **** 
 805              		.loc 1 237 19 is_stmt 0 view .LVU218
 806 00ee 04AD     		add	r5, sp, #16
 807 00f0 109B     		ldr	r3, [sp, #64]
 808 00f2 0093     		str	r3, [sp]
 809 00f4 94E80E00 		ldm	r4, {r1, r2, r3}
 810 00f8 2846     		mov	r0, r5
 811 00fa FFF7FEFF 		bl	_limit_voltagecircle
 812              	.LVL72:
 813 00fe 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 814 0102 84E80F00 		stm	r4, {r0, r1, r2, r3}
 239:../BLDCMotor/motorctrl.c ****             sg_motordebug.ibeta = uab.beta;
 815              		.loc 1 239 13 is_stmt 1 view .LVU219
 239:../BLDCMotor/motorctrl.c ****             sg_motordebug.ibeta = uab.beta;
 816              		.loc 1 239 40 is_stmt 0 view .LVU220
 817 0106 9DED0D0A 		vldr.32	s0, [sp, #52]
 239:../BLDCMotor/motorctrl.c ****             sg_motordebug.ibeta = uab.beta;
 818              		.loc 1 239 34 view .LVU221
 819 010a 86ED030A 		vstr.32	s0, [r6, #12]
 240:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 820              		.loc 1 240 13 is_stmt 1 view .LVU222
 240:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 821              		.loc 1 240 38 is_stmt 0 view .LVU223
 822 010e DDED0E0A 		vldr.32	s1, [sp, #56]
 240:../BLDCMotor/motorctrl.c ****             dut01 = _svpwm(uab.alpha,uab.beta);
 823              		.loc 1 240 33 view .LVU224
 824 0112 C6ED040A 		vstr.32	s1, [r6, #16]
 241:../BLDCMotor/motorctrl.c ****             motor_set_pwm(dut01);
 825              		.loc 1 241 13 is_stmt 1 view .LVU225
 241:../BLDCMotor/motorctrl.c ****             motor_set_pwm(dut01);
 826              		.loc 1 241 21 is_stmt 0 view .LVU226
 827 0116 FFF7FEFF 		bl	_svpwm
 828              	.LVL73:
 829 011a 8DED170A 		vstr.32	s0, [sp, #92]
 830 011e CDED180A 		vstr.32	s1, [sp, #96]
 831 0122 8DED191A 		vstr.32	s2, [sp, #100]
 242:../BLDCMotor/motorctrl.c **** 
 832              		.loc 1 242 13 is_stmt 1 view .LVU227
 833 0126 FFF7FEFF 		bl	motor_set_pwm
 834              	.LVL74:
 835              	.LBE4:
 254:../BLDCMotor/motorctrl.c **** }
 836              		.loc 1 254 5 view .LVU228
 255:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab) {  
 837              		.loc 1 255 1 is_stmt 0 view .LVU229
 838 012a 1AB0     		add	sp, sp, #104
 839              	.LCFI27:
 840              		.cfi_remember_state
 841              		.cfi_def_cfa_offset 24
 842              		@ sp needed
 843 012c BDEC028B 		vldm	sp!, {d8}
 844              	.LCFI28:
 845              		.cfi_restore 80
 846              		.cfi_restore 81
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 26


 847              		.cfi_def_cfa_offset 16
 848              	.LVL75:
 255:../BLDCMotor/motorctrl.c **** alpbet_t _limit_voltagecircle(alpbet_t raw_uab) {  
 849              		.loc 1 255 1 view .LVU230
 850 0130 70BD     		pop	{r4, r5, r6, pc}
 851              	.LVL76:
 852              	.L29:
 853              	.LCFI29:
 854              		.cfi_restore_state
 200:../BLDCMotor/motorctrl.c ****             flag = 0;
 855              		.loc 1 200 13 is_stmt 1 view .LVU231
 201:../BLDCMotor/motorctrl.c ****         }
 856              		.loc 1 201 13 view .LVU232
 201:../BLDCMotor/motorctrl.c ****         }
 857              		.loc 1 201 18 is_stmt 0 view .LVU233
 858 0132 094B     		ldr	r3, .L30+24
 859 0134 0022     		movs	r2, #0
 860 0136 1A70     		strb	r2, [r3]
 200:../BLDCMotor/motorctrl.c ****             flag = 0;
 861              		.loc 1 200 24 view .LVU234
 862 0138 9FED080A 		vldr.32	s0, .L30+28
 863 013c B1E7     		b	.L27
 864              	.L31:
 865 013e 00BF     		.align	2
 866              	.L30:
 867 0140 00000000 		.word	.LANCHOR3
 868 0144 713D0A3F 		.word	1057635697
 869 0148 FFAFB23E 		.word	1051897855
 870 014c 00000000 		.word	.LANCHOR6
 871 0150 52B89E3E 		.word	1050589266
 872 0154 00000000 		.word	.LANCHOR7
 873 0158 00000000 		.word	.LANCHOR8
 874 015c 00000000 		.word	0
 875              		.cfi_endproc
 876              	.LFE330:
 878              		.section	.text.foc_paraminit,"ax",%progbits
 879              		.align	1
 880              		.global	foc_paraminit
 881              		.syntax unified
 882              		.thumb
 883              		.thumb_func
 885              	foc_paraminit:
 886              	.LFB338:
 404:../BLDCMotor/motorctrl.c **** 
 405:../BLDCMotor/motorctrl.c **** void foc_paraminit(void)
 406:../BLDCMotor/motorctrl.c **** {
 887              		.loc 1 406 1 is_stmt 1 view -0
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 0
 890              		@ frame_needed = 0, uses_anonymous_args = 0
 891 0000 10B5     		push	{r4, lr}
 892              	.LCFI30:
 893              		.cfi_def_cfa_offset 8
 894              		.cfi_offset 4, -8
 895              		.cfi_offset 14, -4
 896 0002 2DED028B 		vpush.64	{d8}
 897              	.LCFI31:
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 27


 898              		.cfi_def_cfa_offset 16
 899              		.cfi_offset 80, -16
 900              		.cfi_offset 81, -12
 407:../BLDCMotor/motorctrl.c ****     sgp_curloop_d_pid = &sg_curloop_param.d_pid;
 901              		.loc 1 407 5 view .LVU236
 902              		.loc 1 407 23 is_stmt 0 view .LVU237
 903 0006 1D48     		ldr	r0, .L34
 904 0008 1D4B     		ldr	r3, .L34+4
 905 000a 1860     		str	r0, [r3]
 408:../BLDCMotor/motorctrl.c ****     sgp_curloop_q_pid = &sg_curloop_param.q_pid;
 906              		.loc 1 408 5 is_stmt 1 view .LVU238
 907              		.loc 1 408 23 is_stmt 0 view .LVU239
 908 000c 1D4C     		ldr	r4, .L34+8
 909 000e 00F11C03 		add	r3, r0, #28
 910 0012 2360     		str	r3, [r4]
 409:../BLDCMotor/motorctrl.c ****     pid_init(sgp_curloop_d_pid,0.10f,0.001f,1.0f,D_MAX_VAL,-13.0f);
 911              		.loc 1 409 5 is_stmt 1 view .LVU240
 912 0014 DFED1C8A 		vldr.32	s17, .L34+12
 913 0018 9FED1C8A 		vldr.32	s16, .L34+16
 914 001c BAEE0A2A 		vmov.f32	s4, #-1.3e+1
 915 0020 F2EE0A1A 		vmov.f32	s3, #1.3e+1
 916 0024 B7EE001A 		vmov.f32	s2, #1.0e+0
 917 0028 F0EE680A 		vmov.f32	s1, s17
 918 002c B0EE480A 		vmov.f32	s0, s16
 919 0030 FFF7FEFF 		bl	pid_init
 920              	.LVL77:
 410:../BLDCMotor/motorctrl.c ****     pid_init(sgp_curloop_q_pid,0.10f,0.001f,1.0f,D_MAX_VAL,D_MIN_VAL);
 921              		.loc 1 410 5 view .LVU241
 922 0034 BAEE0A2A 		vmov.f32	s4, #-1.3e+1
 923 0038 F2EE0A1A 		vmov.f32	s3, #1.3e+1
 924 003c B7EE001A 		vmov.f32	s2, #1.0e+0
 925 0040 F0EE680A 		vmov.f32	s1, s17
 926 0044 B0EE480A 		vmov.f32	s0, s16
 927 0048 2068     		ldr	r0, [r4]
 928 004a FFF7FEFF 		bl	pid_init
 929              	.LVL78:
 411:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[0],80);
 930              		.loc 1 411 5 view .LVU242
 931 004e 9FED108A 		vldr.32	s16, .L34+20
 932 0052 104C     		ldr	r4, .L34+24
 933 0054 B0EE480A 		vmov.f32	s0, s16
 934 0058 2046     		mov	r0, r4
 935 005a FFF7FEFF 		bl	lowfilter_init
 936              	.LVL79:
 412:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[1],80);
 937              		.loc 1 412 5 view .LVU243
 938 005e B0EE480A 		vmov.f32	s0, s16
 939 0062 04F10800 		add	r0, r4, #8
 940 0066 FFF7FEFF 		bl	lowfilter_init
 941              	.LVL80:
 413:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[2],80);
 942              		.loc 1 413 5 view .LVU244
 943 006a B0EE480A 		vmov.f32	s0, s16
 944 006e 04F11000 		add	r0, r4, #16
 945 0072 FFF7FEFF 		bl	lowfilter_init
 946              	.LVL81:
 414:../BLDCMotor/motorctrl.c **** }
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 28


 947              		.loc 1 414 1 is_stmt 0 view .LVU245
 948 0076 BDEC028B 		vldm	sp!, {d8}
 949              	.LCFI32:
 950              		.cfi_restore 80
 951              		.cfi_restore 81
 952              		.cfi_def_cfa_offset 8
 953 007a 10BD     		pop	{r4, pc}
 954              	.L35:
 955              		.align	2
 956              	.L34:
 957 007c 00000000 		.word	.LANCHOR9
 958 0080 00000000 		.word	.LANCHOR4
 959 0084 00000000 		.word	.LANCHOR5
 960 0088 6F12833A 		.word	981668463
 961 008c CDCCCC3D 		.word	1036831949
 962 0090 0000A042 		.word	1117782016
 963 0094 00000000 		.word	.LANCHOR6
 964              		.cfi_endproc
 965              	.LFE338:
 967              		.section	.rodata.motortctrl_process.str1.4,"aMS",%progbits,1
 968              		.align	2
 969              	.LC0:
 970 0000 6D6F746F 		.ascii	"motor init\015\012\000"
 970      7220696E 
 970      69740D0A 
 970      00
 971              		.section	.text.motortctrl_process,"ax",%progbits
 972              		.align	1
 973              		.global	motortctrl_process
 974              		.syntax unified
 975              		.thumb
 976              		.thumb_func
 978              	motortctrl_process:
 979              	.LFB329:
  50:../BLDCMotor/motorctrl.c **** 
 980              		.loc 1 50 1 is_stmt 1 view -0
 981              		.cfi_startproc
 982              		@ args = 0, pretend = 0, frame = 32
 983              		@ frame_needed = 0, uses_anonymous_args = 0
 984 0000 00B5     		push	{lr}
 985              	.LCFI33:
 986              		.cfi_def_cfa_offset 4
 987              		.cfi_offset 14, -4
 988 0002 89B0     		sub	sp, sp, #36
 989              	.LCFI34:
 990              		.cfi_def_cfa_offset 40
  52:../BLDCMotor/motorctrl.c ****     char cnt = 0;
 991              		.loc 1 52 5 view .LVU247
  53:../BLDCMotor/motorctrl.c ****     if (readline_fromPC(rec_buf,sizeof(rec_buf)))
 992              		.loc 1 53 5 view .LVU248
 993              	.LVL82:
  54:../BLDCMotor/motorctrl.c ****     {
 994              		.loc 1 54 5 view .LVU249
  54:../BLDCMotor/motorctrl.c ****     {
 995              		.loc 1 54 9 is_stmt 0 view .LVU250
 996 0004 2021     		movs	r1, #32
 997 0006 6846     		mov	r0, sp
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 29


 998 0008 FFF7FEFF 		bl	readline_fromPC
 999              	.LVL83:
  54:../BLDCMotor/motorctrl.c ****     {
 1000              		.loc 1 54 8 view .LVU251
 1001 000c 48B9     		cbnz	r0, .L42
 1002              	.L37:
  59:../BLDCMotor/motorctrl.c ****     {
 1003              		.loc 1 59 5 is_stmt 1 view .LVU252
  59:../BLDCMotor/motorctrl.c ****     {
 1004              		.loc 1 59 21 is_stmt 0 view .LVU253
 1005 000e 154B     		ldr	r3, .L44
 1006 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  59:../BLDCMotor/motorctrl.c ****     {
 1007              		.loc 1 59 5 view .LVU254
 1008 0012 032B     		cmp	r3, #3
 1009 0014 1DD0     		beq	.L38
 1010 0016 042B     		cmp	r3, #4
 1011 0018 20D0     		beq	.L39
 1012 001a 33B1     		cbz	r3, .L43
 1013              	.L36:
  85:../BLDCMotor/motorctrl.c **** /*------------Âë®ÊúüÊÄßË¢´Ë∞ÉÁî®----------------*/
 1014              		.loc 1 85 1 view .LVU255
 1015 001c 09B0     		add	sp, sp, #36
 1016              	.LCFI35:
 1017              		.cfi_remember_state
 1018              		.cfi_def_cfa_offset 4
 1019              		@ sp needed
 1020 001e 5DF804FB 		ldr	pc, [sp], #4
 1021              	.L42:
 1022              	.LCFI36:
 1023              		.cfi_restore_state
  56:../BLDCMotor/motorctrl.c ****     }
 1024              		.loc 1 56 9 is_stmt 1 view .LVU256
 1025 0022 6846     		mov	r0, sp
 1026 0024 FFF7FEFF 		bl	motorprotocol_pause
 1027              	.LVL84:
 1028 0028 F1E7     		b	.L37
 1029              	.L43:
  62:../BLDCMotor/motorctrl.c ****         foc_paraminit();
 1030              		.loc 1 62 9 view .LVU257
  62:../BLDCMotor/motorctrl.c ****         foc_paraminit();
 1031              		.loc 1 62 29 is_stmt 0 view .LVU258
 1032 002a FFF7FEFF 		bl	_get_angleoffset
 1033              	.LVL85:
  62:../BLDCMotor/motorctrl.c ****         foc_paraminit();
 1034              		.loc 1 62 27 view .LVU259
 1035 002e 0E4B     		ldr	r3, .L44+4
 1036 0030 83ED000A 		vstr.32	s0, [r3]
  63:../BLDCMotor/motorctrl.c ****         USER_DEBUG_NORMAL("motor init\r\n");
 1037              		.loc 1 63 9 is_stmt 1 view .LVU260
 1038 0034 FFF7FEFF 		bl	foc_paraminit
 1039              	.LVL86:
  64:../BLDCMotor/motorctrl.c ****         HAL_Delay(20);
 1040              		.loc 1 64 9 view .LVU261
 1041 0038 0C49     		ldr	r1, .L44+8
 1042 003a 0020     		movs	r0, #0
 1043 003c FFF7FEFF 		bl	SEGGER_RTT_printf
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 30


 1044              	.LVL87:
  65:../BLDCMotor/motorctrl.c ****         motor_enable();
 1045              		.loc 1 65 9 view .LVU262
 1046 0040 1420     		movs	r0, #20
 1047 0042 FFF7FEFF 		bl	HAL_Delay
 1048              	.LVL88:
  66:../BLDCMotor/motorctrl.c ****         g_Motor1.state = MOTOR_RUNING;           
 1049              		.loc 1 66 9 view .LVU263
 1050 0046 FFF7FEFF 		bl	motor_enable
 1051              	.LVL89:
  67:../BLDCMotor/motorctrl.c ****         break;
 1052              		.loc 1 67 9 view .LVU264
  67:../BLDCMotor/motorctrl.c ****         break;
 1053              		.loc 1 67 24 is_stmt 0 view .LVU265
 1054 004a 064B     		ldr	r3, .L44
 1055 004c 0322     		movs	r2, #3
 1056 004e 1A70     		strb	r2, [r3]
  68:../BLDCMotor/motorctrl.c **** 
 1057              		.loc 1 68 9 is_stmt 1 view .LVU266
 1058 0050 E4E7     		b	.L36
 1059              	.L38:
  72:../BLDCMotor/motorctrl.c ****             {
 1060              		.loc 1 72 13 view .LVU267
  72:../BLDCMotor/motorctrl.c ****             {
 1061              		.loc 1 72 29 is_stmt 0 view .LVU268
 1062 0052 044A     		ldr	r2, .L44
 1063 0054 5388     		ldrh	r3, [r2, #2]
  72:../BLDCMotor/motorctrl.c ****             {
 1064              		.loc 1 72 19 view .LVU269
 1065 0056 0133     		adds	r3, r3, #1
  72:../BLDCMotor/motorctrl.c ****             {
 1066              		.loc 1 72 16 view .LVU270
 1067 0058 5380     		strh	r3, [r2, #2]	@ movhi
  75:../BLDCMotor/motorctrl.c ****         }
 1068              		.loc 1 75 13 is_stmt 1 view .LVU271
  77:../BLDCMotor/motorctrl.c **** 
 1069              		.loc 1 77 9 view .LVU272
 1070 005a DFE7     		b	.L36
 1071              	.L39:
  80:../BLDCMotor/motorctrl.c ****         break;
 1072              		.loc 1 80 9 view .LVU273
 1073 005c FFF7FEFF 		bl	motor_disable
 1074              	.LVL90:
  81:../BLDCMotor/motorctrl.c ****     default:
 1075              		.loc 1 81 9 view .LVU274
  85:../BLDCMotor/motorctrl.c **** /*------------Âë®ÊúüÊÄßË¢´Ë∞ÉÁî®----------------*/
 1076              		.loc 1 85 1 is_stmt 0 view .LVU275
 1077 0060 DCE7     		b	.L36
 1078              	.L45:
 1079 0062 00BF     		.align	2
 1080              	.L44:
 1081 0064 00000000 		.word	.LANCHOR10
 1082 0068 00000000 		.word	.LANCHOR7
 1083 006c 00000000 		.word	.LC0
 1084              		.cfi_endproc
 1085              	.LFE329:
 1087              		.global	test_ic
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 31


 1088              		.global	test_ib
 1089              		.global	test_ia
 1090              		.global	raw_angle
 1091              		.global	next_angle_test
 1092              		.global	pre_angle_test
 1093              		.global	g_Motor1
 1094              		.global	sg_motordebug
 1095              		.section	.bss.g_Motor1,"aw",%nobits
 1096              		.align	2
 1097              		.set	.LANCHOR10,. + 0
 1100              	g_Motor1:
 1101 0000 00000000 		.space	4
 1102              		.section	.bss.next_angle_test,"aw",%nobits
 1103              		.align	2
 1106              	next_angle_test:
 1107 0000 00000000 		.space	4
 1108              		.section	.bss.pre_angle_test,"aw",%nobits
 1109              		.align	2
 1112              	pre_angle_test:
 1113 0000 00000000 		.space	4
 1114              		.section	.bss.raw_angle,"aw",%nobits
 1115              		.align	2
 1118              	raw_angle:
 1119 0000 00000000 		.space	4
 1120              		.section	.bss.sg_MecThetaOffset,"aw",%nobits
 1121              		.align	2
 1122              		.set	.LANCHOR7,. + 0
 1125              	sg_MecThetaOffset:
 1126 0000 00000000 		.space	4
 1127              		.section	.bss.sg_curloop_param,"aw",%nobits
 1128              		.align	2
 1129              		.set	.LANCHOR9,. + 0
 1132              	sg_curloop_param:
 1133 0000 00000000 		.space	56
 1133      00000000 
 1133      00000000 
 1133      00000000 
 1133      00000000 
 1134              		.section	.bss.sg_elefilter,"aw",%nobits
 1135              		.align	2
 1136              		.set	.LANCHOR6,. + 0
 1139              	sg_elefilter:
 1140 0000 00000000 		.space	24
 1140      00000000 
 1140      00000000 
 1140      00000000 
 1140      00000000 
 1141              		.section	.bss.sg_motordebug,"aw",%nobits
 1142              		.align	2
 1143              		.set	.LANCHOR3,. + 0
 1146              	sg_motordebug:
 1147 0000 00000000 		.space	104
 1147      00000000 
 1147      00000000 
 1147      00000000 
 1147      00000000 
 1148              		.section	.bss.sgp_curloop_d_pid,"aw",%nobits
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 32


 1149              		.align	2
 1150              		.set	.LANCHOR4,. + 0
 1153              	sgp_curloop_d_pid:
 1154 0000 00000000 		.space	4
 1155              		.section	.bss.sgp_curloop_q_pid,"aw",%nobits
 1156              		.align	2
 1157              		.set	.LANCHOR5,. + 0
 1160              	sgp_curloop_q_pid:
 1161 0000 00000000 		.space	4
 1162              		.section	.bss.test_ia,"aw",%nobits
 1163              		.align	2
 1164              		.set	.LANCHOR0,. + 0
 1167              	test_ia:
 1168 0000 00000000 		.space	4
 1169              		.section	.bss.test_ib,"aw",%nobits
 1170              		.align	2
 1171              		.set	.LANCHOR1,. + 0
 1174              	test_ib:
 1175 0000 00000000 		.space	4
 1176              		.section	.bss.test_ic,"aw",%nobits
 1177              		.align	2
 1178              		.set	.LANCHOR2,. + 0
 1181              	test_ic:
 1182 0000 00000000 		.space	4
 1183              		.section	.data.flag.0,"aw"
 1184              		.set	.LANCHOR8,. + 0
 1187              	flag.0:
 1188 0000 02       		.byte	2
 1189              		.weak	readline_fromPC
 1190              		.text
 1191              	.Letext0:
 1192              		.file 2 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_defa
 1193              		.file 3 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h
 1194              		.file 4 "../Common/IQMath/ti/IQmathLib.h"
 1195              		.file 5 "../Common/method/filter.h"
 1196              		.file 6 "../Common/method/pid.h"
 1197              		.file 7 "../BLDCMotor/motorctrl_common.h"
 1198              		.file 8 "./Board/board.h"
 1199              		.file 9 "../Sensor/sensor.h"
 1200              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 1201              		.file 11 "Inc/tim.h"
 1202              		.file 12 "Inc/adc.h"
 1203              		.file 13 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\math.h"
 1204              		.file 14 "../Common/debuglog/debuglog.h"
 1205              		.file 15 "../BLDCMotor/./motorctrl.h"
 1206              		.file 16 "../Common/debuglog/SEGGER_RTT_V792h/RTT/SEGGER_RTT.h"
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 motorctrl.c
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:20     .text.motor_enable_noirq:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:25     .text.motor_enable_noirq:00000000 motor_enable_noirq
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:46     .text.motor_set_pwm:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:51     .text.motor_set_pwm:00000000 motor_set_pwm
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:80     .text._get_angleoffset:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:85     .text._get_angleoffset:00000000 _get_angleoffset
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:210    .text._get_angleoffset:0000008c $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:216    .text.motor_enable:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:221    .text.motor_enable:00000000 motor_enable
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:247    .text.motor_disable:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:252    .text.motor_disable:00000000 motor_disable
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:275    .text._currmentloop:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:280    .text._currmentloop:00000000 _currmentloop
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:473    .text._currmentloop:000000e0 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:487    .text._limit_voltagecircle:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:493    .text._limit_voltagecircle:00000000 _limit_voltagecircle
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:609    .text._50uscycle_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:615    .text._50uscycle_process:00000000 _50uscycle_process
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:867    .text._50uscycle_process:00000140 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:879    .text.foc_paraminit:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:885    .text.foc_paraminit:00000000 foc_paraminit
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:957    .text.foc_paraminit:0000007c $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:968    .rodata.motortctrl_process.str1.4:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:972    .text.motortctrl_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:978    .text.motortctrl_process:00000000 motortctrl_process
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1081   .text.motortctrl_process:00000064 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1181   .bss.test_ic:00000000 test_ic
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1174   .bss.test_ib:00000000 test_ib
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1167   .bss.test_ia:00000000 test_ia
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1118   .bss.raw_angle:00000000 raw_angle
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1106   .bss.next_angle_test:00000000 next_angle_test
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1112   .bss.pre_angle_test:00000000 pre_angle_test
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1100   .bss.g_Motor1:00000000 g_Motor1
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1146   .bss.sg_motordebug:00000000 sg_motordebug
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1096   .bss.g_Motor1:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1103   .bss.next_angle_test:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1109   .bss.pre_angle_test:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1115   .bss.raw_angle:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1121   .bss.sg_MecThetaOffset:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1125   .bss.sg_MecThetaOffset:00000000 sg_MecThetaOffset
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1128   .bss.sg_curloop_param:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1132   .bss.sg_curloop_param:00000000 sg_curloop_param
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1135   .bss.sg_elefilter:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1139   .bss.sg_elefilter:00000000 sg_elefilter
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1142   .bss.sg_motordebug:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1149   .bss.sgp_curloop_d_pid:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1153   .bss.sgp_curloop_d_pid:00000000 sgp_curloop_d_pid
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1156   .bss.sgp_curloop_q_pid:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1160   .bss.sgp_curloop_q_pid:00000000 sgp_curloop_q_pid
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1163   .bss.test_ia:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1170   .bss.test_ib:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1177   .bss.test_ic:00000000 $d
C:\Users\57308\AppData\Local\Temp\cclMKuob.s:1187   .data.flag.0:00000000 flag.0

UNDEFINED SYMBOLS
ARM GAS  C:\Users\57308\AppData\Local\Temp\cclMKuob.s 			page 34


tim_pwm_enable
tim_set_pwm
_2r_2s
_svpwm
HAL_Delay
sensor_user_read
_IQ20toF
tim_tigger_adc
adc_start
tim_pwm_disable
adc_stop
cosf
_3s_2s
_2s_2r
_IQ15toF
pid_contrl
__aeabi_f2d
__aeabi_d2f
sqrt
lowfilter_cale
_normalize_angle
pid_init
lowfilter_init
readline_fromPC
motorprotocol_pause
SEGGER_RTT_printf
