ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motorctrl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.motor_enable_noirq,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	motor_enable_noirq:
  26              	.LFB334:
  27              		.file 1 "../BLDCMotor/motorctrl.c"
   1:../BLDCMotor/motorctrl.c **** #include "./motorctrl.h"
   2:../BLDCMotor/motorctrl.c **** #include "debuglog.h"
   3:../BLDCMotor/motorctrl.c **** #include "motorctrl_common.h"
   4:../BLDCMotor/motorctrl.c **** 
   5:../BLDCMotor/motorctrl.c **** #define Q15_PI_2                   (51471)
   6:../BLDCMotor/motorctrl.c **** #define Q15_2PI                    (205884)
   7:../BLDCMotor/motorctrl.c **** 
   8:../BLDCMotor/motorctrl.c **** #define MOTORCTRL_PERCI            (1)
   9:../BLDCMotor/motorctrl.c **** 
  10:../BLDCMotor/motorctrl.c **** enum{
  11:../BLDCMotor/motorctrl.c ****     MOTOR_INIT,
  12:../BLDCMotor/motorctrl.c ****     MOTOR_IDLE,
  13:../BLDCMotor/motorctrl.c ****     MOTOR_START, 
  14:../BLDCMotor/motorctrl.c ****     MOTOR_RUNING,
  15:../BLDCMotor/motorctrl.c ****     MOTOR_STOP,
  16:../BLDCMotor/motorctrl.c **** };
  17:../BLDCMotor/motorctrl.c **** typedef struct
  18:../BLDCMotor/motorctrl.c **** {
  19:../BLDCMotor/motorctrl.c ****     float ia;
  20:../BLDCMotor/motorctrl.c ****     float ib;
  21:../BLDCMotor/motorctrl.c ****     float ic;
  22:../BLDCMotor/motorctrl.c ****     float i_alpha;
  23:../BLDCMotor/motorctrl.c ****     float i_beta;
  24:../BLDCMotor/motorctrl.c ****     float i_d;
  25:../BLDCMotor/motorctrl.c ****     float i_q;
  26:../BLDCMotor/motorctrl.c **** 
  27:../BLDCMotor/motorctrl.c ****     int32_t Q_ia;
  28:../BLDCMotor/motorctrl.c ****     int32_t Q_ib;
  29:../BLDCMotor/motorctrl.c ****     int32_t Q_ic;
  30:../BLDCMotor/motorctrl.c ****     int32_t Q_ialpha;
  31:../BLDCMotor/motorctrl.c ****     int32_t Q_ibeta;
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 2


  32:../BLDCMotor/motorctrl.c ****     int32_t Q_id;
  33:../BLDCMotor/motorctrl.c ****     int32_t Q_iq;
  34:../BLDCMotor/motorctrl.c **** 
  35:../BLDCMotor/motorctrl.c ****     float id_real;
  36:../BLDCMotor/motorctrl.c ****     float iq_targe;
  37:../BLDCMotor/motorctrl.c ****     float iq_real;
  38:../BLDCMotor/motorctrl.c **** 
  39:../BLDCMotor/motorctrl.c ****     float pid_Q_out;
  40:../BLDCMotor/motorctrl.c ****     float pid_D_out;
  41:../BLDCMotor/motorctrl.c ****     float ele_angle;
  42:../BLDCMotor/motorctrl.c ****     int32_t Q_ele_angle;
  43:../BLDCMotor/motorctrl.c **** }motordebug_t;
  44:../BLDCMotor/motorctrl.c **** motordebug_t sg_motordebug;
  45:../BLDCMotor/motorctrl.c **** typedef struct
  46:../BLDCMotor/motorctrl.c **** {
  47:../BLDCMotor/motorctrl.c ****     unsigned char state;
  48:../BLDCMotor/motorctrl.c ****     unsigned short cnt;
  49:../BLDCMotor/motorctrl.c **** }motorctrl_t;
  50:../BLDCMotor/motorctrl.c **** 
  51:../BLDCMotor/motorctrl.c **** static void _currmentloop(abc_t i_abc,float theta);
  52:../BLDCMotor/motorctrl.c **** static float _get_angleoffset(void);
  53:../BLDCMotor/motorctrl.c **** static void motor_enable(void);
  54:../BLDCMotor/motorctrl.c **** static void motor_disable(void);
  55:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp);
  56:../BLDCMotor/motorctrl.c **** 
  57:../BLDCMotor/motorctrl.c **** motorctrl_t g_Motor1 = {
  58:../BLDCMotor/motorctrl.c ****     .state = MOTOR_INIT,
  59:../BLDCMotor/motorctrl.c ****     .cnt = 0,
  60:../BLDCMotor/motorctrl.c **** };
  61:../BLDCMotor/motorctrl.c **** static float sg_MecThetaOffset = 0.0f;
  62:../BLDCMotor/motorctrl.c **** static lowfilter_t sg_elefilter[3];
  63:../BLDCMotor/motorctrl.c **** static pid_cb_t *sgp_curloop_d_pid;
  64:../BLDCMotor/motorctrl.c **** static pid_cb_t *sgp_curloop_q_pid;
  65:../BLDCMotor/motorctrl.c **** static curloop_t sg_curloop_param;
  66:../BLDCMotor/motorctrl.c **** 
  67:../BLDCMotor/motorctrl.c **** void motortctrl_process(void)
  68:../BLDCMotor/motorctrl.c **** {
  69:../BLDCMotor/motorctrl.c ****     switch (g_Motor1.state)
  70:../BLDCMotor/motorctrl.c ****     {
  71:../BLDCMotor/motorctrl.c ****     case MOTOR_INIT:
  72:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = _get_angleoffset();
  73:../BLDCMotor/motorctrl.c ****         foc_paraminit();
  74:../BLDCMotor/motorctrl.c ****         motor_enable();
  75:../BLDCMotor/motorctrl.c ****         g_Motor1.state = MOTOR_RUNING;           
  76:../BLDCMotor/motorctrl.c ****         break;
  77:../BLDCMotor/motorctrl.c **** 
  78:../BLDCMotor/motorctrl.c ****     case MOTOR_RUNING:
  79:../BLDCMotor/motorctrl.c ****         {
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
  81:../BLDCMotor/motorctrl.c ****             {
  82:../BLDCMotor/motorctrl.c ****                 USER_DEBUG_NORMAL("motor 1s\r\n");
  83:../BLDCMotor/motorctrl.c ****                 /* code */
  84:../BLDCMotor/motorctrl.c ****                 // g_Motor1.state = MOTOR_STOP;
  85:../BLDCMotor/motorctrl.c ****             }
  86:../BLDCMotor/motorctrl.c ****         }
  87:../BLDCMotor/motorctrl.c ****         break;
  88:../BLDCMotor/motorctrl.c **** 
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 3


  89:../BLDCMotor/motorctrl.c ****     case MOTOR_STOP:
  90:../BLDCMotor/motorctrl.c ****         motor_disable();
  91:../BLDCMotor/motorctrl.c ****         break;
  92:../BLDCMotor/motorctrl.c ****     default:
  93:../BLDCMotor/motorctrl.c ****         break;
  94:../BLDCMotor/motorctrl.c ****     }
  95:../BLDCMotor/motorctrl.c **** }
  96:../BLDCMotor/motorctrl.c **** /*------------周期性被调用----------------*/
  97:../BLDCMotor/motorctrl.c **** void _50uscycle_process(unsigned int *abc_vale,float _elec_theta)
  98:../BLDCMotor/motorctrl.c **** {
  99:../BLDCMotor/motorctrl.c ****     duty_t dut01,dut02;
 100:../BLDCMotor/motorctrl.c **** /*----------------三相电流处理------------------------------*/    
 101:../BLDCMotor/motorctrl.c ****     float Ia,Ib,Ic;
 102:../BLDCMotor/motorctrl.c ****     float a1 = 0,a2,a3 = 0;
 103:../BLDCMotor/motorctrl.c ****     a1 = (float)abc_vale[0] - AD_OFFSET;
 104:../BLDCMotor/motorctrl.c ****     a3 = (float)abc_vale[1] - AD_OFFSET - 15;
 105:../BLDCMotor/motorctrl.c ****     a2 = (float)abc_vale[2] - AD_OFFSET - 34;
 106:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 107:../BLDCMotor/motorctrl.c ****     Ib = (float)a2*(float)(3.3f/4096.0f/RB_S/BETA_);
 108:../BLDCMotor/motorctrl.c ****     Ic = (float)a3*(float)(3.3f/4096.0f/RC_S/BETA_);
 109:../BLDCMotor/motorctrl.c **** #if 1
 110:../BLDCMotor/motorctrl.c ****     abc_t i_abc;
 111:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&sg_elefilter[0],Ia);
 112:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 113:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 114:../BLDCMotor/motorctrl.c **** #else
 115:../BLDCMotor/motorctrl.c ****     abc_t i_abc;
 116:../BLDCMotor/motorctrl.c ****     i_abc.a = Ia;
 117:../BLDCMotor/motorctrl.c ****     i_abc.b = Ib;
 118:../BLDCMotor/motorctrl.c ****     i_abc.c = Ic;
 119:../BLDCMotor/motorctrl.c **** #endif
 120:../BLDCMotor/motorctrl.c **** 
 121:../BLDCMotor/motorctrl.c **** #if 0
 122:../BLDCMotor/motorctrl.c **** /*-------------------闭环控制-----------------------*/
 123:../BLDCMotor/motorctrl.c ****     _currmentloop(i_abc,theata);
 124:../BLDCMotor/motorctrl.c **** #else
 125:../BLDCMotor/motorctrl.c **** /*------------------------
 126:../BLDCMotor/motorctrl.c **** 开环控制
 127:../BLDCMotor/motorctrl.c **** 100us调用匹配参数  
 128:../BLDCMotor/motorctrl.c ****     42BLDC  theta += 0.004f;  uq = 1.0f
 129:../BLDCMotor/motorctrl.c ****     yateng  theta += 0.004f;  uq = 1.0f
 130:../BLDCMotor/motorctrl.c ****     qita    theta += 0.004f;  uq = 1.0f
 131:../BLDCMotor/motorctrl.c **** ---------------------------*/
 132:../BLDCMotor/motorctrl.c ****     dq_t udq = {0.0f,0.4f,_IQ15(0.0f),_IQ15(0.8f)};
 133:../BLDCMotor/motorctrl.c ****     alpbet_t uab,uab_q15;
 134:../BLDCMotor/motorctrl.c ****     #if 0//强拖
 135:../BLDCMotor/motorctrl.c ****         {
 136:../BLDCMotor/motorctrl.c ****             static float theta = 0.0f;
 137:../BLDCMotor/motorctrl.c ****             if (theta >= _2PI)
 138:../BLDCMotor/motorctrl.c ****             {
 139:../BLDCMotor/motorctrl.c ****                 theta = 0.0f;
 140:../BLDCMotor/motorctrl.c ****             }
 141:../BLDCMotor/motorctrl.c ****             // uab = _2r_2s(udq, theta);
 142:../BLDCMotor/motorctrl.c ****             uab = _2r_2s_Q(udq, _IQ15(theta));
 143:../BLDCMotor/motorctrl.c ****             theta += 0.001f;
 144:../BLDCMotor/motorctrl.c ****         }
 145:../BLDCMotor/motorctrl.c ****     #else //使用传感器
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 4


 146:../BLDCMotor/motorctrl.c ****         int32_t elec_theta;
 147:../BLDCMotor/motorctrl.c ****         // uab = _2r_2s(udq, elec_theta);
 148:../BLDCMotor/motorctrl.c ****         elec_theta = ((*(sensor_data_t *)sensor_user_read(SENSOR_01)).covdata_buf[0] - (int32_t)sg_
 149:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
 150:../BLDCMotor/motorctrl.c ****         if (elec_theta >= Q15_2PI)
 151:../BLDCMotor/motorctrl.c ****         {
 152:../BLDCMotor/motorctrl.c ****             /* code */
 153:../BLDCMotor/motorctrl.c ****             elec_theta -= Q15_2PI;
 154:../BLDCMotor/motorctrl.c ****         }
 155:../BLDCMotor/motorctrl.c ****         elec_theta > 0? elec_theta:(elec_theta+Q15_2PI);
 156:../BLDCMotor/motorctrl.c ****         sg_motordebug.Q_ele_angle = elec_theta;
 157:../BLDCMotor/motorctrl.c ****         uab = _2r_2s_Q(udq, (elec_theta));
 158:../BLDCMotor/motorctrl.c ****     #endif
 159:../BLDCMotor/motorctrl.c ****     dut02 = _svpwm_Q(uab.Q_alpha,(uab.Q_beta));
 160:../BLDCMotor/motorctrl.c ****     dut01 = dut02;
 161:../BLDCMotor/motorctrl.c ****     // dut01 = _svpwm(uab.alpha,uab.beta);
 162:../BLDCMotor/motorctrl.c ****     motor_set_pwm(dut01);
 163:../BLDCMotor/motorctrl.c **** #endif 
 164:../BLDCMotor/motorctrl.c ****     return;
 165:../BLDCMotor/motorctrl.c **** }
 166:../BLDCMotor/motorctrl.c **** void _limit_voltagecircle(uint32_t u_ref,uint32_t elec_theta)
 167:../BLDCMotor/motorctrl.c **** {
 168:../BLDCMotor/motorctrl.c ****     uint32_t u_alpha,u_beta;
 169:../BLDCMotor/motorctrl.c ****     u_alpha = u_ref * cosf(elec_theta);
 170:../BLDCMotor/motorctrl.c ****     u_beta = u_ref * sinf(elec_theta);
 171:../BLDCMotor/motorctrl.c **** 
 172:../BLDCMotor/motorctrl.c **** }
 173:../BLDCMotor/motorctrl.c **** void _currmentloop(abc_t i_abc,float theta)
 174:../BLDCMotor/motorctrl.c **** {
 175:../BLDCMotor/motorctrl.c **** /*---------------------获取当前转子角度-------------------------*/
 176:../BLDCMotor/motorctrl.c ****     float mech_theta,elec_theta;
 177:../BLDCMotor/motorctrl.c ****     static float pre_elec_theta = 0.0f;
 178:../BLDCMotor/motorctrl.c ****     // mech_theta = (*(sensor_data_t*)sensor_user_read(SENSOR_01)).cov_data - sg_MecThetaOffset;
 179:../BLDCMotor/motorctrl.c ****     elec_theta = (mech_theta) * MOTOR_PAIR;    
 180:../BLDCMotor/motorctrl.c ****     elec_theta = _normalize_angle(elec_theta);
 181:../BLDCMotor/motorctrl.c ****     sg_motordebug.ele_angle = elec_theta;
 182:../BLDCMotor/motorctrl.c ****     /*--------------对电流进行反Clark变化-----------------------*/
 183:../BLDCMotor/motorctrl.c ****     alpbet_t i_alphbeta;
 184:../BLDCMotor/motorctrl.c ****     dq_t i_dq;
 185:../BLDCMotor/motorctrl.c ****     i_abc.Q_a = _IQ15(i_abc.a);
 186:../BLDCMotor/motorctrl.c ****     i_abc.Q_b = _IQ15(i_abc.b);
 187:../BLDCMotor/motorctrl.c ****     i_abc.Q_c = _IQ15(i_abc.c);
 188:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ia = i_abc.Q_a;
 189:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ib = i_abc.Q_b;
 190:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ic = i_abc.Q_c;
 191:../BLDCMotor/motorctrl.c **** 
 192:../BLDCMotor/motorctrl.c ****     _3s_2s_Q(i_abc,&i_alphbeta);
 193:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ialpha = i_alphbeta.Q_alpha;
 194:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_ibeta = i_alphbeta.Q_beta;
 195:../BLDCMotor/motorctrl.c **** 
 196:../BLDCMotor/motorctrl.c ****     /*-------------对电流进行反Park变换------------------------*/
 197:../BLDCMotor/motorctrl.c ****     _2s_2r_Q(i_alphbeta,(uint32_t)_IQ15(_normalize_angle(elec_theta - PI/2.0f)),&i_dq);
 198:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_id = (i_dq.Q_d);
 199:../BLDCMotor/motorctrl.c ****     sg_motordebug.Q_iq = (i_dq.Q_q);
 200:../BLDCMotor/motorctrl.c **** 
 201:../BLDCMotor/motorctrl.c **** }
 202:../BLDCMotor/motorctrl.c **** static void motor_enable(void)
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 5


 203:../BLDCMotor/motorctrl.c **** {
 204:../BLDCMotor/motorctrl.c **** #ifdef MOTOR_VERSION_H7
 205:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 206:../BLDCMotor/motorctrl.c **** #endif
 207:../BLDCMotor/motorctrl.c ****     /*pwm 使能*/
 208:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
 209:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
 210:../BLDCMotor/motorctrl.c ****     adc_start();
 211:../BLDCMotor/motorctrl.c **** }
 212:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 213:../BLDCMotor/motorctrl.c **** {
  28              		.loc 1 213 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
 214:../BLDCMotor/motorctrl.c **** #ifdef MOTOR_VERSION_H7
 215:../BLDCMotor/motorctrl.c ****     gpio_setmotor_power();
 216:../BLDCMotor/motorctrl.c **** #endif    
 217:../BLDCMotor/motorctrl.c ****     /*pwm 使能*/
 218:../BLDCMotor/motorctrl.c ****     tim_pwm_enable();
  37              		.loc 1 218 5 view .LVU1
  38 0002 FFF7FEFF 		bl	tim_pwm_enable
  39              	.LVL0:
 219:../BLDCMotor/motorctrl.c **** }
  40              		.loc 1 219 1 is_stmt 0 view .LVU2
  41 0006 08BD     		pop	{r3, pc}
  42              		.cfi_endproc
  43              	.LFE334:
  45              		.section	.text.motor_set_pwm,"ax",%progbits
  46              		.align	1
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  51              	motor_set_pwm:
  52              	.LFB336:
 220:../BLDCMotor/motorctrl.c **** static void motor_disable(void)
 221:../BLDCMotor/motorctrl.c **** {
 222:../BLDCMotor/motorctrl.c **** #ifdef MOTOR_VERSION_H7
 223:../BLDCMotor/motorctrl.c ****     gpio_setmotor_powerdown();
 224:../BLDCMotor/motorctrl.c **** #endif    
 225:../BLDCMotor/motorctrl.c ****     tim_pwm_disable();
 226:../BLDCMotor/motorctrl.c ****     adc_stop();
 227:../BLDCMotor/motorctrl.c **** }
 228:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp)
 229:../BLDCMotor/motorctrl.c **** {
  53              		.loc 1 229 1 is_stmt 1 view -0
  54              		.cfi_startproc
  55              		@ args = 0, pretend = 0, frame = 16
  56              		@ frame_needed = 0, uses_anonymous_args = 0
  57 0000 00B5     		push	{lr}
  58              	.LCFI1:
  59              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 6


  60              		.cfi_offset 14, -4
  61 0002 85B0     		sub	sp, sp, #20
  62              	.LCFI2:
  63              		.cfi_def_cfa_offset 24
  64 0004 8DED010A 		vstr.32	s0, [sp, #4]
  65 0008 CDED020A 		vstr.32	s1, [sp, #8]
  66 000c 8DED031A 		vstr.32	s2, [sp, #12]
 230:../BLDCMotor/motorctrl.c ****     tim_set_pwm(temp._a,temp._b,temp._c);
  67              		.loc 1 230 5 view .LVU4
  68 0010 FFF7FEFF 		bl	tim_set_pwm
  69              	.LVL1:
 231:../BLDCMotor/motorctrl.c **** }
  70              		.loc 1 231 1 is_stmt 0 view .LVU5
  71 0014 05B0     		add	sp, sp, #20
  72              	.LCFI3:
  73              		.cfi_def_cfa_offset 4
  74              		@ sp needed
  75 0016 5DF804FB 		ldr	pc, [sp], #4
  76              		.cfi_endproc
  77              	.LFE336:
  79              		.section	.text.motor_enable,"ax",%progbits
  80              		.align	1
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  85              	motor_enable:
  86              	.LFB333:
 203:../BLDCMotor/motorctrl.c **** #ifdef MOTOR_VERSION_H7
  87              		.loc 1 203 1 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91 0000 08B5     		push	{r3, lr}
  92              	.LCFI4:
  93              		.cfi_def_cfa_offset 8
  94              		.cfi_offset 3, -8
  95              		.cfi_offset 14, -4
 208:../BLDCMotor/motorctrl.c ****     tim_tigger_adc();
  96              		.loc 1 208 5 view .LVU7
  97 0002 FFF7FEFF 		bl	tim_pwm_enable
  98              	.LVL2:
 209:../BLDCMotor/motorctrl.c ****     adc_start();
  99              		.loc 1 209 5 view .LVU8
 100 0006 FFF7FEFF 		bl	tim_tigger_adc
 101              	.LVL3:
 210:../BLDCMotor/motorctrl.c **** }
 102              		.loc 1 210 5 view .LVU9
 103 000a FFF7FEFF 		bl	adc_start
 104              	.LVL4:
 211:../BLDCMotor/motorctrl.c **** static void motor_enable_noirq(void)
 105              		.loc 1 211 1 is_stmt 0 view .LVU10
 106 000e 08BD     		pop	{r3, pc}
 107              		.cfi_endproc
 108              	.LFE333:
 110              		.section	.text.motor_disable,"ax",%progbits
 111              		.align	1
 112              		.syntax unified
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 7


 113              		.thumb
 114              		.thumb_func
 116              	motor_disable:
 117              	.LFB335:
 221:../BLDCMotor/motorctrl.c **** #ifdef MOTOR_VERSION_H7
 118              		.loc 1 221 1 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122 0000 08B5     		push	{r3, lr}
 123              	.LCFI5:
 124              		.cfi_def_cfa_offset 8
 125              		.cfi_offset 3, -8
 126              		.cfi_offset 14, -4
 225:../BLDCMotor/motorctrl.c ****     adc_stop();
 127              		.loc 1 225 5 view .LVU12
 128 0002 FFF7FEFF 		bl	tim_pwm_disable
 129              	.LVL5:
 226:../BLDCMotor/motorctrl.c **** }
 130              		.loc 1 226 5 view .LVU13
 131 0006 FFF7FEFF 		bl	adc_stop
 132              	.LVL6:
 227:../BLDCMotor/motorctrl.c **** static void motor_set_pwm(duty_t temp)
 133              		.loc 1 227 1 is_stmt 0 view .LVU14
 134 000a 08BD     		pop	{r3, pc}
 135              		.cfi_endproc
 136              	.LFE335:
 138              		.section	.text._get_angleoffset,"ax",%progbits
 139              		.align	1
 140              		.syntax unified
 141              		.thumb
 142              		.thumb_func
 144              	_get_angleoffset:
 145              	.LFB337:
 232:../BLDCMotor/motorctrl.c **** 
 233:../BLDCMotor/motorctrl.c **** static float _get_angleoffset(void)
 234:../BLDCMotor/motorctrl.c **** {
 146              		.loc 1 234 1 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 32
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150 0000 10B5     		push	{r4, lr}
 151              	.LCFI6:
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 4, -8
 154              		.cfi_offset 14, -4
 155 0002 2DED028B 		vpush.64	{d8}
 156              	.LCFI7:
 157              		.cfi_def_cfa_offset 16
 158              		.cfi_offset 80, -16
 159              		.cfi_offset 81, -12
 160 0006 88B0     		sub	sp, sp, #32
 161              	.LCFI8:
 162              		.cfi_def_cfa_offset 48
 235:../BLDCMotor/motorctrl.c ****     motor_enable_noirq();
 163              		.loc 1 235 5 view .LVU16
 164 0008 FFF7FEFF 		bl	motor_enable_noirq
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 8


 165              	.LVL7:
 236:../BLDCMotor/motorctrl.c ****     /*-----------设置alpha/beta坐标系------------------*/
 237:../BLDCMotor/motorctrl.c ****     alpbet_t uab = {1.0f,0.0f};
 166              		.loc 1 237 5 view .LVU17
 167              		.loc 1 237 14 is_stmt 0 view .LVU18
 168 000c 0024     		movs	r4, #0
 169 000e 0494     		str	r4, [sp, #16]
 170 0010 0594     		str	r4, [sp, #20]
 171 0012 0694     		str	r4, [sp, #24]
 172 0014 0794     		str	r4, [sp, #28]
 173 0016 B7EE000A 		vmov.f32	s0, #1.0e+0
 174 001a 8DED040A 		vstr.32	s0, [sp, #16]
 238:../BLDCMotor/motorctrl.c ****     duty_t dut01;
 175              		.loc 1 238 5 is_stmt 1 view .LVU19
 239:../BLDCMotor/motorctrl.c ****     float theta;
 176              		.loc 1 239 5 view .LVU20
 240:../BLDCMotor/motorctrl.c ****     dut01 = _svpwm(uab.alpha,uab.beta);
 177              		.loc 1 240 5 view .LVU21
 178              		.loc 1 240 13 is_stmt 0 view .LVU22
 179 001e DFED0F0A 		vldr.32	s1, .L11
 180 0022 FFF7FEFF 		bl	_svpwm
 181              	.LVL8:
 182 0026 8DED010A 		vstr.32	s0, [sp, #4]
 183 002a CDED020A 		vstr.32	s1, [sp, #8]
 184 002e 8DED031A 		vstr.32	s2, [sp, #12]
 241:../BLDCMotor/motorctrl.c ****     motor_set_pwm(dut01);
 185              		.loc 1 241 5 is_stmt 1 view .LVU23
 186 0032 FFF7FEFF 		bl	motor_set_pwm
 187              	.LVL9:
 242:../BLDCMotor/motorctrl.c ****     HAL_Delay(200);
 188              		.loc 1 242 5 view .LVU24
 189 0036 C820     		movs	r0, #200
 190 0038 FFF7FEFF 		bl	HAL_Delay
 191              	.LVL10:
 243:../BLDCMotor/motorctrl.c ****     theta = (*(sensor_data_t *)sensor_user_read(SENSOR_01)).covdata_buf[0];
 192              		.loc 1 243 5 view .LVU25
 193              		.loc 1 243 32 is_stmt 0 view .LVU26
 194 003c 2046     		mov	r0, r4
 195 003e FFF7FEFF 		bl	sensor_user_read
 196              	.LVL11:
 197              		.loc 1 243 60 view .LVU27
 198 0042 4368     		ldr	r3, [r0, #4]
 199              		.loc 1 243 72 view .LVU28
 200 0044 93ED008A 		vldr.32	s16, [r3]	@ int
 201              		.loc 1 243 11 view .LVU29
 202 0048 B8EE488A 		vcvt.f32.u32	s16, s16
 203              	.LVL12:
 244:../BLDCMotor/motorctrl.c ****     motor_disable();
 204              		.loc 1 244 5 is_stmt 1 view .LVU30
 205 004c FFF7FEFF 		bl	motor_disable
 206              	.LVL13:
 245:../BLDCMotor/motorctrl.c ****     return theta;
 207              		.loc 1 245 5 view .LVU31
 246:../BLDCMotor/motorctrl.c **** }
 208              		.loc 1 246 1 is_stmt 0 view .LVU32
 209 0050 B0EE480A 		vmov.f32	s0, s16
 210 0054 08B0     		add	sp, sp, #32
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 9


 211              	.LCFI9:
 212              		.cfi_def_cfa_offset 16
 213              		@ sp needed
 214 0056 BDEC028B 		vldm	sp!, {d8}
 215              	.LCFI10:
 216              		.cfi_restore 80
 217              		.cfi_restore 81
 218              		.cfi_def_cfa_offset 8
 219              	.LVL14:
 220              		.loc 1 246 1 view .LVU33
 221 005a 10BD     		pop	{r4, pc}
 222              	.L12:
 223              		.align	2
 224              	.L11:
 225 005c 00000000 		.word	0
 226              		.cfi_endproc
 227              	.LFE337:
 229              		.section	.text._50uscycle_process,"ax",%progbits
 230              		.align	1
 231              		.global	_50uscycle_process
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 236              	_50uscycle_process:
 237              	.LVL15:
 238              	.LFB330:
  98:../BLDCMotor/motorctrl.c ****     duty_t dut01,dut02;
 239              		.loc 1 98 1 is_stmt 1 view -0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 80
 242              		@ frame_needed = 0, uses_anonymous_args = 0
  98:../BLDCMotor/motorctrl.c ****     duty_t dut01,dut02;
 243              		.loc 1 98 1 is_stmt 0 view .LVU35
 244 0000 10B5     		push	{r4, lr}
 245              	.LCFI11:
 246              		.cfi_def_cfa_offset 8
 247              		.cfi_offset 4, -8
 248              		.cfi_offset 14, -4
 249 0002 2DED028B 		vpush.64	{d8}
 250              	.LCFI12:
 251              		.cfi_def_cfa_offset 16
 252              		.cfi_offset 80, -16
 253              		.cfi_offset 81, -12
 254 0006 96B0     		sub	sp, sp, #88
 255              	.LCFI13:
 256              		.cfi_def_cfa_offset 104
  99:../BLDCMotor/motorctrl.c **** /*----------------三相电流处理------------------------------*/    
 257              		.loc 1 99 5 is_stmt 1 view .LVU36
 101:../BLDCMotor/motorctrl.c ****     float a1 = 0,a2,a3 = 0;
 258              		.loc 1 101 5 view .LVU37
 102:../BLDCMotor/motorctrl.c ****     a1 = (float)abc_vale[0] - AD_OFFSET;
 259              		.loc 1 102 5 view .LVU38
 260              	.LVL16:
 103:../BLDCMotor/motorctrl.c ****     a3 = (float)abc_vale[1] - AD_OFFSET - 15;
 261              		.loc 1 103 5 view .LVU39
 103:../BLDCMotor/motorctrl.c ****     a3 = (float)abc_vale[1] - AD_OFFSET - 15;
 262              		.loc 1 103 10 is_stmt 0 view .LVU40
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 10


 263 0008 D0ED007A 		vldr.32	s15, [r0]	@ int
 264 000c F8EE677A 		vcvt.f32.u32	s15, s15
 103:../BLDCMotor/motorctrl.c ****     a3 = (float)abc_vale[1] - AD_OFFSET - 15;
 265              		.loc 1 103 8 view .LVU41
 266 0010 9FED3D7A 		vldr.32	s14, .L16
 267 0014 77EEC77A 		vsub.f32	s15, s15, s14
 268              	.LVL17:
 104:../BLDCMotor/motorctrl.c ****     a2 = (float)abc_vale[2] - AD_OFFSET - 34;
 269              		.loc 1 104 5 is_stmt 1 view .LVU42
 104:../BLDCMotor/motorctrl.c ****     a2 = (float)abc_vale[2] - AD_OFFSET - 34;
 270              		.loc 1 104 10 is_stmt 0 view .LVU43
 271 0018 D0ED016A 		vldr.32	s13, [r0, #4]	@ int
 272 001c B8EE668A 		vcvt.f32.u32	s16, s13
 104:../BLDCMotor/motorctrl.c ****     a2 = (float)abc_vale[2] - AD_OFFSET - 34;
 273              		.loc 1 104 29 view .LVU44
 274 0020 38EE478A 		vsub.f32	s16, s16, s14
 104:../BLDCMotor/motorctrl.c ****     a2 = (float)abc_vale[2] - AD_OFFSET - 34;
 275              		.loc 1 104 8 view .LVU45
 276 0024 F2EE0E6A 		vmov.f32	s13, #1.5e+1
 277 0028 38EE668A 		vsub.f32	s16, s16, s13
 278              	.LVL18:
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 279              		.loc 1 105 5 is_stmt 1 view .LVU46
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 280              		.loc 1 105 25 is_stmt 0 view .LVU47
 281 002c D0ED028A 		vldr.32	s17, [r0, #8]	@ int
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 282              		.loc 1 105 10 view .LVU48
 283 0030 F8EE688A 		vcvt.f32.u32	s17, s17
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 284              		.loc 1 105 29 view .LVU49
 285 0034 78EEC78A 		vsub.f32	s17, s17, s14
 105:../BLDCMotor/motorctrl.c ****     Ia = (float)a1*(float)(3.3f/4096.0f/RA_S/BETA_);
 286              		.loc 1 105 8 view .LVU50
 287 0038 9FED347A 		vldr.32	s14, .L16+4
 288 003c 78EEC78A 		vsub.f32	s17, s17, s14
 289              	.LVL19:
 106:../BLDCMotor/motorctrl.c ****     Ib = (float)a2*(float)(3.3f/4096.0f/RB_S/BETA_);
 290              		.loc 1 106 5 is_stmt 1 view .LVU51
 106:../BLDCMotor/motorctrl.c ****     Ib = (float)a2*(float)(3.3f/4096.0f/RB_S/BETA_);
 291              		.loc 1 106 8 is_stmt 0 view .LVU52
 292 0040 9FED330A 		vldr.32	s0, .L16+8
 293              	.LVL20:
 107:../BLDCMotor/motorctrl.c ****     Ic = (float)a3*(float)(3.3f/4096.0f/RC_S/BETA_);
 294              		.loc 1 107 5 is_stmt 1 view .LVU53
 107:../BLDCMotor/motorctrl.c ****     Ic = (float)a3*(float)(3.3f/4096.0f/RC_S/BETA_);
 295              		.loc 1 107 8 is_stmt 0 view .LVU54
 296 0044 68EE808A 		vmul.f32	s17, s17, s0
 297              	.LVL21:
 108:../BLDCMotor/motorctrl.c **** #if 1
 298              		.loc 1 108 5 is_stmt 1 view .LVU55
 108:../BLDCMotor/motorctrl.c **** #if 1
 299              		.loc 1 108 8 is_stmt 0 view .LVU56
 300 0048 9FED327A 		vldr.32	s14, .L16+12
 301              	.LVL22:
 108:../BLDCMotor/motorctrl.c **** #if 1
 302              		.loc 1 108 8 view .LVU57
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 11


 303 004c 28EE078A 		vmul.f32	s16, s16, s14
 304              	.LVL23:
 110:../BLDCMotor/motorctrl.c ****     i_abc.a = lowfilter_cale(&sg_elefilter[0],Ia);
 305              		.loc 1 110 5 is_stmt 1 view .LVU58
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 306              		.loc 1 111 5 view .LVU59
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 307              		.loc 1 111 15 is_stmt 0 view .LVU60
 308 0050 314C     		ldr	r4, .L16+16
 309 0052 27EE800A 		vmul.f32	s0, s15, s0
 310              	.LVL24:
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 311              		.loc 1 111 15 view .LVU61
 312 0056 2046     		mov	r0, r4
 313              	.LVL25:
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 314              		.loc 1 111 15 view .LVU62
 315 0058 FFF7FEFF 		bl	lowfilter_cale
 316              	.LVL26:
 111:../BLDCMotor/motorctrl.c ****     i_abc.b = lowfilter_cale(&sg_elefilter[1],Ib);
 317              		.loc 1 111 13 view .LVU63
 318 005c 8DED0A0A 		vstr.32	s0, [sp, #40]
 112:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 319              		.loc 1 112 5 is_stmt 1 view .LVU64
 112:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 320              		.loc 1 112 15 is_stmt 0 view .LVU65
 321 0060 B0EE680A 		vmov.f32	s0, s17
 322 0064 04F10800 		add	r0, r4, #8
 323 0068 FFF7FEFF 		bl	lowfilter_cale
 324              	.LVL27:
 112:../BLDCMotor/motorctrl.c ****     i_abc.c = lowfilter_cale(&sg_elefilter[2],Ic);
 325              		.loc 1 112 13 view .LVU66
 326 006c 8DED0B0A 		vstr.32	s0, [sp, #44]
 113:../BLDCMotor/motorctrl.c **** #else
 327              		.loc 1 113 5 is_stmt 1 view .LVU67
 113:../BLDCMotor/motorctrl.c **** #else
 328              		.loc 1 113 15 is_stmt 0 view .LVU68
 329 0070 B0EE480A 		vmov.f32	s0, s16
 330 0074 04F11000 		add	r0, r4, #16
 331 0078 FFF7FEFF 		bl	lowfilter_cale
 332              	.LVL28:
 113:../BLDCMotor/motorctrl.c **** #else
 333              		.loc 1 113 13 view .LVU69
 334 007c 8DED0C0A 		vstr.32	s0, [sp, #48]
 132:../BLDCMotor/motorctrl.c ****     alpbet_t uab,uab_q15;
 335              		.loc 1 132 5 is_stmt 1 view .LVU70
 132:../BLDCMotor/motorctrl.c ****     alpbet_t uab,uab_q15;
 336              		.loc 1 132 10 is_stmt 0 view .LVU71
 337 0080 264B     		ldr	r3, .L16+20
 338 0082 0DF1180C 		add	ip, sp, #24
 339 0086 0FCB     		ldm	r3, {r0, r1, r2, r3}
 340 0088 8CE80F00 		stm	ip, {r0, r1, r2, r3}
 133:../BLDCMotor/motorctrl.c ****     #if 0//强拖
 341              		.loc 1 133 5 is_stmt 1 view .LVU72
 146:../BLDCMotor/motorctrl.c ****         // uab = _2r_2s(udq, elec_theta);
 342              		.loc 1 146 9 view .LVU73
 148:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 12


 343              		.loc 1 148 9 view .LVU74
 148:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
 344              		.loc 1 148 42 is_stmt 0 view .LVU75
 345 008c 0020     		movs	r0, #0
 346 008e FFF7FEFF 		bl	sensor_user_read
 347              	.LVL29:
 148:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
 348              		.loc 1 148 70 view .LVU76
 349 0092 4368     		ldr	r3, [r0, #4]
 148:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
 350              		.loc 1 148 82 view .LVU77
 351 0094 1868     		ldr	r0, [r3]
 148:../BLDCMotor/motorctrl.c ****         elec_theta = _IQ15mpy(elec_theta,2<<15);
 352              		.loc 1 148 88 view .LVU78
 353 0096 224B     		ldr	r3, .L16+24
 354 0098 D3ED007A 		vldr.32	s15, [r3]
 355 009c FDEEE77A 		vcvt.s32.f32	s15, s15
 356              	.LVL30:
 149:../BLDCMotor/motorctrl.c ****         if (elec_theta >= Q15_2PI)
 357              		.loc 1 149 9 is_stmt 1 view .LVU79
 149:../BLDCMotor/motorctrl.c ****         if (elec_theta >= Q15_2PI)
 358              		.loc 1 149 22 is_stmt 0 view .LVU80
 359 00a0 4FF48031 		mov	r1, #65536
 360 00a4 17EE903A 		vmov	r3, s15	@ int
 361 00a8 C01A     		subs	r0, r0, r3
 362              	.LVL31:
 149:../BLDCMotor/motorctrl.c ****         if (elec_theta >= Q15_2PI)
 363              		.loc 1 149 22 view .LVU81
 364 00aa FFF7FEFF 		bl	_IQ15mpy
 365              	.LVL32:
 150:../BLDCMotor/motorctrl.c ****         {
 366              		.loc 1 150 9 is_stmt 1 view .LVU82
 150:../BLDCMotor/motorctrl.c ****         {
 367              		.loc 1 150 12 is_stmt 0 view .LVU83
 368 00ae 1D4B     		ldr	r3, .L16+28
 369 00b0 9842     		cmp	r0, r3
 370 00b2 02DD     		ble	.L14
 153:../BLDCMotor/motorctrl.c ****         }
 371              		.loc 1 153 13 is_stmt 1 view .LVU84
 153:../BLDCMotor/motorctrl.c ****         }
 372              		.loc 1 153 24 is_stmt 0 view .LVU85
 373 00b4 A0F54930 		sub	r0, r0, #205824
 374              	.LVL33:
 153:../BLDCMotor/motorctrl.c ****         }
 375              		.loc 1 153 24 view .LVU86
 376 00b8 3C38     		subs	r0, r0, #60
 377              	.LVL34:
 378              	.L14:
 155:../BLDCMotor/motorctrl.c ****         sg_motordebug.Q_ele_angle = elec_theta;
 379              		.loc 1 155 9 is_stmt 1 view .LVU87
 156:../BLDCMotor/motorctrl.c ****         uab = _2r_2s_Q(udq, (elec_theta));
 380              		.loc 1 156 9 view .LVU88
 156:../BLDCMotor/motorctrl.c ****         uab = _2r_2s_Q(udq, (elec_theta));
 381              		.loc 1 156 35 is_stmt 0 view .LVU89
 382 00ba 1B4B     		ldr	r3, .L16+32
 383 00bc 1865     		str	r0, [r3, #80]
 157:../BLDCMotor/motorctrl.c ****     #endif
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 13


 384              		.loc 1 157 9 is_stmt 1 view .LVU90
 157:../BLDCMotor/motorctrl.c ****     #endif
 385              		.loc 1 157 15 is_stmt 0 view .LVU91
 386 00be 0190     		str	r0, [sp, #4]
 387 00c0 099B     		ldr	r3, [sp, #36]
 388 00c2 0093     		str	r3, [sp]
 389 00c4 06AB     		add	r3, sp, #24
 390 00c6 0ECB     		ldm	r3, {r1, r2, r3}
 391 00c8 02A8     		add	r0, sp, #8
 392              	.LVL35:
 157:../BLDCMotor/motorctrl.c ****     #endif
 393              		.loc 1 157 15 view .LVU92
 394 00ca FFF7FEFF 		bl	_2r_2s_Q
 395              	.LVL36:
 159:../BLDCMotor/motorctrl.c ****     dut01 = dut02;
 396              		.loc 1 159 5 is_stmt 1 view .LVU93
 159:../BLDCMotor/motorctrl.c ****     dut01 = dut02;
 397              		.loc 1 159 13 is_stmt 0 view .LVU94
 398 00ce 0599     		ldr	r1, [sp, #20]
 399 00d0 0498     		ldr	r0, [sp, #16]
 400 00d2 FFF7FEFF 		bl	_svpwm_Q
 401              	.LVL37:
 402 00d6 8DED100A 		vstr.32	s0, [sp, #64]
 403 00da CDED110A 		vstr.32	s1, [sp, #68]
 404 00de 8DED121A 		vstr.32	s2, [sp, #72]
 160:../BLDCMotor/motorctrl.c ****     // dut01 = _svpwm(uab.alpha,uab.beta);
 405              		.loc 1 160 5 is_stmt 1 view .LVU95
 160:../BLDCMotor/motorctrl.c ****     // dut01 = _svpwm(uab.alpha,uab.beta);
 406              		.loc 1 160 11 is_stmt 0 view .LVU96
 407 00e2 10AB     		add	r3, sp, #64
 408 00e4 93E80700 		ldm	r3, {r0, r1, r2}
 409 00e8 16AB     		add	r3, sp, #88
 410 00ea 03E90700 		stmdb	r3, {r0, r1, r2}
 162:../BLDCMotor/motorctrl.c **** #endif 
 411              		.loc 1 162 5 is_stmt 1 view .LVU97
 412 00ee 9DED130A 		vldr.32	s0, [sp, #76]
 413 00f2 DDED140A 		vldr.32	s1, [sp, #80]
 414 00f6 9DED151A 		vldr.32	s2, [sp, #84]
 415 00fa FFF7FEFF 		bl	motor_set_pwm
 416              	.LVL38:
 164:../BLDCMotor/motorctrl.c **** }
 417              		.loc 1 164 5 view .LVU98
 165:../BLDCMotor/motorctrl.c **** void _limit_voltagecircle(uint32_t u_ref,uint32_t elec_theta)
 418              		.loc 1 165 1 is_stmt 0 view .LVU99
 419 00fe 16B0     		add	sp, sp, #88
 420              	.LCFI14:
 421              		.cfi_def_cfa_offset 16
 422              		@ sp needed
 423 0100 BDEC028B 		vldm	sp!, {d8}
 424              	.LCFI15:
 425              		.cfi_restore 80
 426              		.cfi_restore 81
 427              		.cfi_def_cfa_offset 8
 428              	.LVL39:
 165:../BLDCMotor/motorctrl.c **** void _limit_voltagecircle(uint32_t u_ref,uint32_t elec_theta)
 429              		.loc 1 165 1 view .LVU100
 430 0104 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 14


 431              	.L17:
 432 0106 00BF     		.align	2
 433              	.L16:
 434 0108 00400445 		.word	1157906432
 435 010c 00000842 		.word	1107820544
 436 0110 5F43393B 		.word	993608543
 437 0114 CF621A3B 		.word	991584975
 438 0118 00000000 		.word	.LANCHOR0
 439 011c 00000000 		.word	.LANCHOR1
 440 0120 00000000 		.word	.LANCHOR2
 441 0124 3B240300 		.word	205883
 442 0128 00000000 		.word	.LANCHOR3
 443              		.cfi_endproc
 444              	.LFE330:
 446              		.section	.text._limit_voltagecircle,"ax",%progbits
 447              		.align	1
 448              		.global	_limit_voltagecircle
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 453              	_limit_voltagecircle:
 454              	.LVL40:
 455              	.LFB331:
 167:../BLDCMotor/motorctrl.c ****     uint32_t u_alpha,u_beta;
 456              		.loc 1 167 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 460              		@ link register save eliminated.
 168:../BLDCMotor/motorctrl.c ****     u_alpha = u_ref * cosf(elec_theta);
 461              		.loc 1 168 5 view .LVU102
 169:../BLDCMotor/motorctrl.c ****     u_beta = u_ref * sinf(elec_theta);
 462              		.loc 1 169 5 view .LVU103
 170:../BLDCMotor/motorctrl.c **** 
 463              		.loc 1 170 5 view .LVU104
 172:../BLDCMotor/motorctrl.c **** void _currmentloop(abc_t i_abc,float theta)
 464              		.loc 1 172 1 is_stmt 0 view .LVU105
 465 0000 7047     		bx	lr
 466              		.cfi_endproc
 467              	.LFE331:
 469              		.section	.text.foc_paraminit,"ax",%progbits
 470              		.align	1
 471              		.global	foc_paraminit
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 476              	foc_paraminit:
 477              	.LFB338:
 247:../BLDCMotor/motorctrl.c **** 
 248:../BLDCMotor/motorctrl.c **** void foc_paraminit(void)
 249:../BLDCMotor/motorctrl.c **** {
 478              		.loc 1 249 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482 0000 10B5     		push	{r4, lr}
 483              	.LCFI16:
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 15


 484              		.cfi_def_cfa_offset 8
 485              		.cfi_offset 4, -8
 486              		.cfi_offset 14, -4
 487 0002 2DED048B 		vpush.64	{d8, d9}
 488              	.LCFI17:
 489              		.cfi_def_cfa_offset 24
 490              		.cfi_offset 80, -24
 491              		.cfi_offset 81, -20
 492              		.cfi_offset 82, -16
 493              		.cfi_offset 83, -12
 250:../BLDCMotor/motorctrl.c ****     sgp_curloop_d_pid = &sg_curloop_param.d_pid;
 494              		.loc 1 250 5 view .LVU107
 495              		.loc 1 250 23 is_stmt 0 view .LVU108
 496 0006 1E48     		ldr	r0, .L21
 497 0008 1E4B     		ldr	r3, .L21+4
 498 000a 1860     		str	r0, [r3]
 251:../BLDCMotor/motorctrl.c ****     sgp_curloop_q_pid = &sg_curloop_param.q_pid;
 499              		.loc 1 251 5 is_stmt 1 view .LVU109
 500              		.loc 1 251 23 is_stmt 0 view .LVU110
 501 000c 1E4C     		ldr	r4, .L21+8
 502 000e 00F11C03 		add	r3, r0, #28
 503 0012 2360     		str	r3, [r4]
 252:../BLDCMotor/motorctrl.c ****     pid_init(sgp_curloop_d_pid,0.08f,0.001f,1.0f,D_MAX_VAL,D_MIN_VAL);
 504              		.loc 1 252 5 is_stmt 1 view .LVU111
 505 0014 9FED1D9A 		vldr.32	s18, .L21+12
 506 0018 DFED1D8A 		vldr.32	s17, .L21+16
 507 001c 9FED1D8A 		vldr.32	s16, .L21+20
 508 0020 B0EE492A 		vmov.f32	s4, s18
 509 0024 F0EE681A 		vmov.f32	s3, s17
 510 0028 B7EE001A 		vmov.f32	s2, #1.0e+0
 511 002c F0EE480A 		vmov.f32	s1, s16
 512 0030 9FED190A 		vldr.32	s0, .L21+24
 513 0034 FFF7FEFF 		bl	pid_init
 514              	.LVL41:
 253:../BLDCMotor/motorctrl.c ****     pid_init(sgp_curloop_q_pid,0.020f,0.001f,1.0f,D_MAX_VAL,D_MIN_VAL);
 515              		.loc 1 253 5 view .LVU112
 516 0038 B0EE492A 		vmov.f32	s4, s18
 517 003c F0EE681A 		vmov.f32	s3, s17
 518 0040 B7EE001A 		vmov.f32	s2, #1.0e+0
 519 0044 F0EE480A 		vmov.f32	s1, s16
 520 0048 9FED140A 		vldr.32	s0, .L21+28
 521 004c 2068     		ldr	r0, [r4]
 522 004e FFF7FEFF 		bl	pid_init
 523              	.LVL42:
 254:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[0],80);
 524              		.loc 1 254 5 view .LVU113
 525 0052 9FED138A 		vldr.32	s16, .L21+32
 526 0056 134C     		ldr	r4, .L21+36
 527 0058 B0EE480A 		vmov.f32	s0, s16
 528 005c 2046     		mov	r0, r4
 529 005e FFF7FEFF 		bl	lowfilter_init
 530              	.LVL43:
 255:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[1],80);
 531              		.loc 1 255 5 view .LVU114
 532 0062 B0EE480A 		vmov.f32	s0, s16
 533 0066 04F10800 		add	r0, r4, #8
 534 006a FFF7FEFF 		bl	lowfilter_init
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 16


 535              	.LVL44:
 256:../BLDCMotor/motorctrl.c ****     lowfilter_init(&sg_elefilter[2],80);
 536              		.loc 1 256 5 view .LVU115
 537 006e B0EE480A 		vmov.f32	s0, s16
 538 0072 04F11000 		add	r0, r4, #16
 539 0076 FFF7FEFF 		bl	lowfilter_init
 540              	.LVL45:
 257:../BLDCMotor/motorctrl.c **** }...
 541              		.loc 1 257 1 is_stmt 0 view .LVU116
 542 007a BDEC048B 		vldm	sp!, {d8-d9}
 543              	.LCFI18:
 544              		.cfi_restore 82
 545              		.cfi_restore 83
 546              		.cfi_restore 80
 547              		.cfi_restore 81
 548              		.cfi_def_cfa_offset 8
 549 007e 10BD     		pop	{r4, pc}
 550              	.L22:
 551              		.align	2
 552              	.L21:
 553 0080 00000000 		.word	.LANCHOR5
 554 0084 00000000 		.word	.LANCHOR4
 555 0088 00000000 		.word	.LANCHOR6
 556 008c 333373C1 		.word	-1049414861
 557 0090 33337341 		.word	1098068787
 558 0094 6F12833A 		.word	981668463
 559 0098 0AD7A33D 		.word	1034147594
 560 009c 0AD7A33C 		.word	1017370378
 561 00a0 0000A042 		.word	1117782016
 562 00a4 00000000 		.word	.LANCHOR0
 563              		.cfi_endproc
 564              	.LFE338:
 566              		.section	.rodata.motortctrl_process.str1.4,"aMS",%progbits,1
 567              		.align	2
 568              	.LC1:
 569 0000 6D6F746F 		.ascii	"motor 1s\015\012\000"
 569      72203173 
 569      0D0A00
 570              		.section	.text.motortctrl_process,"ax",%progbits
 571              		.align	1
 572              		.global	motortctrl_process
 573              		.syntax unified
 574              		.thumb
 575              		.thumb_func
 577              	motortctrl_process:
 578              	.LFB329:
  68:../BLDCMotor/motorctrl.c **** {
 579              		.loc 1 68 1 is_stmt 1 view -0
 580              		.cfi_startproc
 581              		@ args = 0, pretend = 0, frame = 0
 582              		@ frame_needed = 0, uses_anonymous_args = 0
 583 0000 08B5     		push	{r3, lr}
 584              	.LCFI19:
 585              		.cfi_def_cfa_offset 8
 586              		.cfi_offset 3, -8
 587              		.cfi_offset 14, -4
  69:../BLDCMotor/motorctrl.c ****     switch (g_Motor1.state)
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 17


 588              		.loc 1 69 5 view .LVU118
  69:../BLDCMotor/motorctrl.c ****     switch (g_Motor1.state)
 589              		.loc 1 69 21 is_stmt 0 view .LVU119
 590 0002 164B     		ldr	r3, .L29
 591 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  69:../BLDCMotor/motorctrl.c ****     switch (g_Motor1.state)
 592              		.loc 1 69 5 view .LVU120
 593 0006 032B     		cmp	r3, #3
 594 0008 10D0     		beq	.L24
 595 000a 042B     		cmp	r3, #4
 596 000c 23D0     		beq	.L25
 597 000e 03B1     		cbz	r3, .L28
 598              	.L23:
  95:../BLDCMotor/motorctrl.c **** }
 599              		.loc 1 95 1 view .LVU121
 600 0010 08BD     		pop	{r3, pc}
 601              	.L28:
  72:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = _get_angleoffset();
 602              		.loc 1 72 9 is_stmt 1 view .LVU122
  72:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = _get_angleoffset();
 603              		.loc 1 72 29 is_stmt 0 view .LVU123
 604 0012 FFF7FEFF 		bl	_get_angleoffset
 605              	.LVL46:
  72:../BLDCMotor/motorctrl.c ****         sg_MecThetaOffset = _get_angleoffset();
 606              		.loc 1 72 27 view .LVU124
 607 0016 124B     		ldr	r3, .L29+4
 608 0018 83ED000A 		vstr.32	s0, [r3]
  73:../BLDCMotor/motorctrl.c ****         foc_paraminit();
 609              		.loc 1 73 9 is_stmt 1 view .LVU125
 610 001c FFF7FEFF 		bl	foc_paraminit
 611              	.LVL47:
  74:../BLDCMotor/motorctrl.c ****         motor_enable();
 612              		.loc 1 74 9 view .LVU126
 613 0020 FFF7FEFF 		bl	motor_enable
 614              	.LVL48:
  75:../BLDCMotor/motorctrl.c ****         g_Motor1.state = MOTOR_RUNING;           
 615              		.loc 1 75 9 view .LVU127
  75:../BLDCMotor/motorctrl.c ****         g_Motor1.state = MOTOR_RUNING;           
 616              		.loc 1 75 24 is_stmt 0 view .LVU128
 617 0024 0D4B     		ldr	r3, .L29
 618 0026 0322     		movs	r2, #3
 619 0028 1A70     		strb	r2, [r3]
  76:../BLDCMotor/motorctrl.c ****         break;
 620              		.loc 1 76 9 is_stmt 1 view .LVU129
 621 002a F1E7     		b	.L23
 622              	.L24:
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
 623              		.loc 1 80 13 view .LVU130
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
 624              		.loc 1 80 29 is_stmt 0 view .LVU131
 625 002c 0B4A     		ldr	r2, .L29
 626 002e 5388     		ldrh	r3, [r2, #2]
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
 627              		.loc 1 80 19 view .LVU132
 628 0030 0133     		adds	r3, r3, #1
 629 0032 9BB2     		uxth	r3, r3
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 18


 630              		.loc 1 80 16 view .LVU133
 631 0034 5380     		strh	r3, [r2, #2]	@ movhi
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
 632              		.loc 1 80 17 view .LVU134
 633 0036 0B4A     		ldr	r2, .L29+8
 634 0038 A2FB0312 		umull	r1, r2, r2, r3
 635 003c 5209     		lsrs	r2, r2, #5
 636 003e 40F2DC51 		movw	r1, #1500
 637 0042 01FB1233 		mls	r3, r1, r2, r3
 638 0046 9BB2     		uxth	r3, r3
  80:../BLDCMotor/motorctrl.c ****             if (!(++g_Motor1.cnt % 1500))
 639              		.loc 1 80 16 view .LVU135
 640 0048 002B     		cmp	r3, #0
 641 004a E1D1     		bne	.L23
  82:../BLDCMotor/motorctrl.c ****                 USER_DEBUG_NORMAL("motor 1s\r\n");
 642              		.loc 1 82 17 is_stmt 1 view .LVU136
 643 004c 0649     		ldr	r1, .L29+12
 644 004e 0020     		movs	r0, #0
 645 0050 FFF7FEFF 		bl	SEGGER_RTT_printf
 646              	.LVL49:
 647 0054 DCE7     		b	.L23
 648              	.L25:
  90:../BLDCMotor/motorctrl.c ****         motor_disable();
 649              		.loc 1 90 9 view .LVU137
 650 0056 FFF7FEFF 		bl	motor_disable
 651              	.LVL50:
  91:../BLDCMotor/motorctrl.c ****         break;
 652              		.loc 1 91 9 view .LVU138
  95:../BLDCMotor/motorctrl.c **** }
 653              		.loc 1 95 1 is_stmt 0 view .LVU139
 654 005a D9E7     		b	.L23
 655              	.L30:
 656              		.align	2
 657              	.L29:
 658 005c 00000000 		.word	.LANCHOR7
 659 0060 00000000 		.word	.LANCHOR2
 660 0064 F1197605 		.word	91625969
 661 0068 00000000 		.word	.LC1
 662              		.cfi_endproc
 663              	.LFE329:
 665              		.global	g_Motor1
 666              		.global	sg_motordebug
 667              		.section	.rodata
 668              		.align	2
 669              		.set	.LANCHOR1,. + 0
 670              	.LC0:
 671 0000 00000000 		.word	0
 672 0004 CDCCCC3E 		.word	1053609165
 673 0008 00000000 		.word	0
 674 000c 66660000 		.word	26214
 675              		.section	.bss.g_Motor1,"aw",%nobits
 676              		.align	2
 677              		.set	.LANCHOR7,. + 0
 680              	g_Motor1:
 681 0000 00000000 		.space	4
 682              		.section	.bss.sg_MecThetaOffset,"aw",%nobits
 683              		.align	2
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 19


 684              		.set	.LANCHOR2,. + 0
 687              	sg_MecThetaOffset:
 688 0000 00000000 		.space	4
 689              		.section	.bss.sg_curloop_param,"aw",%nobits
 690              		.align	2
 691              		.set	.LANCHOR5,. + 0
 694              	sg_curloop_param:
 695 0000 00000000 		.space	56
 695      00000000 
 695      00000000 
 695      00000000 
 695      00000000 
 696              		.section	.bss.sg_elefilter,"aw",%nobits
 697              		.align	2
 698              		.set	.LANCHOR0,. + 0
 701              	sg_elefilter:
 702 0000 00000000 		.space	24
 702      00000000 
 702      00000000 
 702      00000000 
 702      00000000 
 703              		.section	.bss.sg_motordebug,"aw",%nobits
 704              		.align	2
 705              		.set	.LANCHOR3,. + 0
 708              	sg_motordebug:
 709 0000 00000000 		.space	84
 709      00000000 
 709      00000000 
 709      00000000 
 709      00000000 
 710              		.section	.bss.sgp_curloop_d_pid,"aw",%nobits
 711              		.align	2
 712              		.set	.LANCHOR4,. + 0
 715              	sgp_curloop_d_pid:
 716 0000 00000000 		.space	4
 717              		.section	.bss.sgp_curloop_q_pid,"aw",%nobits
 718              		.align	2
 719              		.set	.LANCHOR6,. + 0
 722              	sgp_curloop_q_pid:
 723 0000 00000000 		.space	4
 724              		.text
 725              	.Letext0:
 726              		.file 2 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_defa
 727              		.file 3 "d:\\program files\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h
 728              		.file 4 "../Common/IQMath/ti/IQmathLib.h"
 729              		.file 5 "../Common/method/filter.h"
 730              		.file 6 "../Common/method/pid.h"
 731              		.file 7 "../Sensor/sensor.h"
 732              		.file 8 "../BLDCMotor/motorctrl_common.h"
 733              		.file 9 "./Board/board.h"
 734              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 735              		.file 11 "Inc/tim.h"
 736              		.file 12 "Inc/adc.h"
 737              		.file 13 "../Common/debuglog/SEGGER_RTT_V792h/RTT/SEGGER_RTT.h"
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 motorctrl.c
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:20     .text.motor_enable_noirq:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:25     .text.motor_enable_noirq:00000000 motor_enable_noirq
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:46     .text.motor_set_pwm:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:51     .text.motor_set_pwm:00000000 motor_set_pwm
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:80     .text.motor_enable:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:85     .text.motor_enable:00000000 motor_enable
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:111    .text.motor_disable:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:116    .text.motor_disable:00000000 motor_disable
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:139    .text._get_angleoffset:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:144    .text._get_angleoffset:00000000 _get_angleoffset
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:225    .text._get_angleoffset:0000005c $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:230    .text._50uscycle_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:236    .text._50uscycle_process:00000000 _50uscycle_process
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:434    .text._50uscycle_process:00000108 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:447    .text._limit_voltagecircle:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:453    .text._limit_voltagecircle:00000000 _limit_voltagecircle
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:470    .text.foc_paraminit:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:476    .text.foc_paraminit:00000000 foc_paraminit
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:553    .text.foc_paraminit:00000080 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:567    .rodata.motortctrl_process.str1.4:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:571    .text.motortctrl_process:00000000 $t
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:577    .text.motortctrl_process:00000000 motortctrl_process
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:658    .text.motortctrl_process:0000005c $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:680    .bss.g_Motor1:00000000 g_Motor1
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:708    .bss.sg_motordebug:00000000 sg_motordebug
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:668    .rodata:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:676    .bss.g_Motor1:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:683    .bss.sg_MecThetaOffset:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:687    .bss.sg_MecThetaOffset:00000000 sg_MecThetaOffset
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:690    .bss.sg_curloop_param:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:694    .bss.sg_curloop_param:00000000 sg_curloop_param
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:697    .bss.sg_elefilter:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:701    .bss.sg_elefilter:00000000 sg_elefilter
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:704    .bss.sg_motordebug:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:711    .bss.sgp_curloop_d_pid:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:715    .bss.sgp_curloop_d_pid:00000000 sgp_curloop_d_pid
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:718    .bss.sgp_curloop_q_pid:00000000 $d
C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s:722    .bss.sgp_curloop_q_pid:00000000 sgp_curloop_q_pid

UNDEFINED SYMBOLS
tim_pwm_enable
tim_set_pwm
tim_tigger_adc
adc_start
tim_pwm_disable
adc_stop
_svpwm
HAL_Delay
sensor_user_read
lowfilter_cale
_IQ15mpy
_2r_2s_Q
_svpwm_Q
pid_init
lowfilter_init
ARM GAS  C:\Users\57308\AppData\Local\Temp\ccnyP8x6.s 			page 21


SEGGER_RTT_printf
